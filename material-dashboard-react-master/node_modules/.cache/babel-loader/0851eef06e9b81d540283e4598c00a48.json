{"ast":null,"code":"import _regeneratorRuntime from \"D:\\\\projects\\\\Cricket\\\\akshu close\\\\IPL\\\\material-dashboard-react-master\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/regenerator\";\nimport _asyncToGenerator from \"D:\\\\projects\\\\Cricket\\\\akshu close\\\\IPL\\\\material-dashboard-react-master\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/asyncToGenerator\";\nimport _slicedToArray from \"D:\\\\projects\\\\Cricket\\\\akshu close\\\\IPL\\\\material-dashboard-react-master\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"D:\\\\projects\\\\Cricket\\\\akshu close\\\\IPL\\\\material-dashboard-react-master\\\\src\\\\views\\\\Group\\\\Group.js\";\nimport React, { useEffect, useState, useContext } from 'react';\nimport axios from \"axios\";\nimport { makeStyles } from '@material-ui/core/styles';\nimport { Link } from 'react-router-dom';\nimport Button from '@material-ui/core/Button'; // import DialogTitle from '@material-ui/core/DialogTitle';\n// import Dialog from '@material-ui/core/Dialog';\n// import MenuItem from '@material-ui/core/MenuItem';\n// import FormControl from '@material-ui/core/FormControl';\n// import DoneIcon from '@material-ui/icons/Done';\n// import Typography from '@material-ui/core/Typography';\n// import NavigateBeforeIcon from '@material-ui/icons/NavigateBefore';\n// import NavigateNextIcon from '@material-ui/icons/NavigateNext';\n//import Container from \"@material-ui/core/Container\";\n// import Select from \"@material-ui/core/Select\";\n// import Table from \"components/Table/Table.js\";\n// import Grid from \"@material-ui/core/Grid\";\n// import Button from '@material-ui/core/Button';\n// import DialogActions from '@material-ui/core/DialogActions';\n// import DialogContent from '@material-ui/core/DialogContent';\n// import DialogContentText from '@material-ui/core/DialogContentText';\n\nimport Accordion from '@material-ui/core/Accordion';\nimport AccordionSummary from '@material-ui/core/AccordionSummary';\nimport AccordionDetails from '@material-ui/core/AccordionDetails';\nimport Typography from '@material-ui/core/Typography';\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore'; // import GridItem from \"components/Grid/GridItem.js\";\n// import Drawer from '@material-ui/core/Drawer';\n// import ChevronLeftIcon from '@material-ui/icons/ChevronLeft';\n// import ChevronRightIcon from '@material-ui/icons/ChevronRight';\n// import IconButton from '@material-ui/core/IconButton';\n// import CheckSharpIcon from '@material-ui/icons/CheckSharp';\n// import ClearSharpIcon from '@material-ui/icons/ClearSharp';\n// import Avatar from \"@material-ui/core/Avatar\"\n// import Card from \"components/Card/Card.js\";\n// import CardBody from \"components/Card/CardBody.js\";\n\nimport { UserContext } from \"../../UserContext\";\nvar useStyles = makeStyles(function (theme) {\n  return {\n    root: {\n      width: '100%'\n    },\n    button: {\n      margin: theme.spacing(0, 1, 0)\n    },\n    heading: {\n      fontSize: theme.typography.pxToRem(15),\n      flexBasis: '33.33%',\n      flexShrink: 0\n    },\n    secondaryHeading: {\n      fontSize: theme.typography.pxToRem(15),\n      color: theme.palette.text.secondary\n    }\n  };\n});\nexport default function Group() {\n  window.onbeforeunload = function () {\n    return setUser(null);\n  };\n\n  var _useContext = useContext(UserContext),\n      setUser = _useContext.setUser;\n\n  var classes = useStyles();\n\n  var _useState = useState([]),\n      _useState2 = _slicedToArray(_useState, 2),\n      myGroupTableData = _useState2[0],\n      setMyGroupTableData = _useState2[1];\n\n  var _useState3 = useState(false),\n      _useState4 = _slicedToArray(_useState3, 2),\n      hasatleast1Group = _useState4[0],\n      setUserHasGroup = _useState4[1]; // const theme = useTheme(); \n  // const [open, setOpen] = useState(false);\n  // const [confirmDialogOpen, setConfirmDialogOpen] = useState(false)\n  // const [selectedOwner, setSelectedOwner] = useState(null);\n  // const [backDropOpen, setBackDropOpen] = useState(false);\n  // const [playerStatus, setPlayerStatus] = useState();\n  // const [selectWhat, setSelectWhat] = useState(\"Captain\");\n  // const [selectedPlayerValue, setSelectedPlayerValue] = useState(\"\");\n  // const handleDrawerClose = () => {\n  //     setOpen(false);\n  // };\n  // const handleModalClose = () => {\n  //     setConfirmDialogOpen(false);\n  // };\n\n\n  useEffect(function () {\n    var a = /*#__PURE__*/function () {\n      var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n        var myUrl, teamResponse, hasgroup, currgrp, tmpidx;\n        return _regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                // get start of tournamnet (i.e. start of 1st match)\n                // var mygroup  = 1;\n                window.localStorage.setItem(\"groupMember\", \"\");\n                myUrl = \"/group/memberof/\".concat(localStorage.getItem(\"uid\"));\n                _context.next = 4;\n                return axios.get(myUrl);\n\n              case 4:\n                teamResponse = _context.sent;\n                hasgroup = false;\n\n                if (teamResponse.data[0].groups.length > 0) {\n                  console.log(teamResponse);\n                  hasgroup = true;\n                  currgrp = parseInt(localStorage.getItem(\"gid\"));\n                  tmpidx = teamResponse.data[0].groups.findIndex(function (x) {\n                    return x.gid === currgrp;\n                  });\n\n                  if (tmpidx >= 0) {\n                    teamResponse.data[0].groups[tmpidx].groupName = teamResponse.data[0].groups[tmpidx].groupName.concat(\"*\");\n                  }\n\n                  setMyGroupTableData(teamResponse.data[0].groups); // console.log(teamResponse.data[0].groups);\n                }\n\n                setUserHasGroup(hasgroup);\n\n              case 8:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee);\n      }));\n\n      return function a() {\n        return _ref.apply(this, arguments);\n      };\n    }();\n\n    a();\n  }, []);\n\n  function updateCurrentGroup() {\n    var newCurrent = expandedPanel;\n    if (newCurrent.slice(-1) === \"*\") newCurrent = newCurrent.slice(0, -1);\n    console.log(\" New selection is \".concat(newCurrent));\n    myGroupTableData.forEach(function (ggg) {\n      // remove asterix from old groyup name\n      if (ggg.groupName.slice(-1) === \"*\") {\n        ggg.groupName = ggg.groupName.slice(0, -1);\n      } // set asterix to new current group\n\n\n      if (ggg.groupName === newCurrent) {\n        window.localStorage.setItem(\"gid\", ggg.gid.toString());\n        window.localStorage.setItem(\"groupName\", ggg.groupName);\n        ggg.groupName = ggg.groupName.concat(\"*\");\n      } // console.log(`After ${ggg.groupName}`)\n\n    });\n    setMyGroupTableData(myGroupTableData);\n    setExpandedPanel(false);\n  }\n\n  function handleShowMember() {\n    localStorage.setItem(\"displayGroupMember\", \"\");\n    localStorage.setItem(\"displayGroupAdmin\", \"false\");\n    var newCurrent = expandedPanel;\n    if (newCurrent.slice(-1) === \"*\") newCurrent = newCurrent.slice(0, -1);\n    myGroupTableData.forEach(function (ggg) {\n      var x = ggg.groupName;\n\n      if (x.slice(-1) === \"*\") {\n        x = x.slice(0, -1);\n      } // set asterix to new current group\n\n\n      if (x === newCurrent) {\n        window.localStorage.setItem(\"gdGid\", ggg.gid.toString());\n        window.localStorage.setItem(\"gdName\", ggg.groupName);\n        window.localStorage.setItem(\"gdAdmin\", ggg.admin.toString());\n      }\n    }); // console.log(localStorage.getItem(\"displayGroupMember\"));\n    // console.log(localStorage.getItem(\"displayGroupAdmin\"));\n    // console.log(\"Settings done\");\n  }\n\n  var _useState5 = useState(false),\n      _useState6 = _slicedToArray(_useState5, 2),\n      expandedPanel = _useState6[0],\n      setExpandedPanel = _useState6[1];\n\n  var handleAccordionChange = function handleAccordionChange(panel) {\n    return function (event, isExpanded) {\n      setExpandedPanel(isExpanded ? panel : false);\n    };\n  };\n\n  function ShowAllGroups() {\n    var _this = this;\n\n    return myGroupTableData.map(function (element) {\n      return /*#__PURE__*/React.createElement(Accordion, {\n        expanded: expandedPanel === element.groupName,\n        onChange: handleAccordionChange(element.groupName),\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 167,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(AccordionSummary, {\n        expandIcon: /*#__PURE__*/React.createElement(ExpandMoreIcon, {\n          __self: _this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 168,\n            columnNumber: 47\n          }\n        }),\n        \"aria-controls\": \"panel1a-content\",\n        id: \"panel1a-header\",\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 168,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(Typography, {\n        className: classes.heading,\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 169,\n          columnNumber: 21\n        }\n      }, element.groupName), /*#__PURE__*/React.createElement(Typography, {\n        className: classes.secondaryHeading,\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 170,\n          columnNumber: 21\n        }\n      }, element.tournament, \" (\", element.admin, \")\")), /*#__PURE__*/React.createElement(AccordionDetails, {\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 172,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(Button, {\n        variant: \"contained\",\n        color: \"secondary\",\n        size: \"small\",\n        className: classes.button,\n        onClick: updateCurrentGroup,\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 173,\n          columnNumber: 17\n        }\n      }, \"Select\"), /*#__PURE__*/React.createElement(Button, {\n        variant: \"contained\",\n        color: \"secondary\",\n        size: \"small\",\n        className: classes.button,\n        onClick: handleShowMember,\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 176,\n          columnNumber: 17\n        }\n      }, \"Members\")));\n    });\n  }\n\n  function NewGroupButton() {\n    return /*#__PURE__*/React.createElement(Link, {\n      align: \"center\",\n      to: \"/createnewgroup\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 185,\n        columnNumber: 17\n      }\n    }, \"Create New Group\");\n  }\n\n  if (hasatleast1Group) return /*#__PURE__*/React.createElement(\"div\", {\n    key: \"allgroup\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 190,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"h3\", {\n    align: \"center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 192,\n      columnNumber: 9\n    }\n  }, \"Group List of \", localStorage.getItem(\"displayName\")), /*#__PURE__*/React.createElement(ShowAllGroups, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 193,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(NewGroupButton, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 194,\n      columnNumber: 13\n    }\n  }));else return /*#__PURE__*/React.createElement(\"div\", {\n    key: \"noGroup\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 199,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"h3\", {\n    align: \"center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 200,\n      columnNumber: 17\n    }\n  }, \"Not a member of any Group\"), /*#__PURE__*/React.createElement(NewGroupButton, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 201,\n      columnNumber: 17\n    }\n  }));\n}","map":{"version":3,"sources":["D:/projects/Cricket/akshu close/IPL/material-dashboard-react-master/src/views/Group/Group.js"],"names":["React","useEffect","useState","useContext","axios","makeStyles","Link","Button","Accordion","AccordionSummary","AccordionDetails","Typography","ExpandMoreIcon","UserContext","useStyles","theme","root","width","button","margin","spacing","heading","fontSize","typography","pxToRem","flexBasis","flexShrink","secondaryHeading","color","palette","text","secondary","Group","window","onbeforeunload","setUser","classes","myGroupTableData","setMyGroupTableData","hasatleast1Group","setUserHasGroup","a","localStorage","setItem","myUrl","getItem","get","teamResponse","hasgroup","data","groups","length","console","log","currgrp","parseInt","tmpidx","findIndex","x","gid","groupName","concat","updateCurrentGroup","newCurrent","expandedPanel","slice","forEach","ggg","toString","setExpandedPanel","handleShowMember","admin","handleAccordionChange","panel","event","isExpanded","ShowAllGroups","map","element","tournament","NewGroupButton"],"mappings":"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","sourcesContent":["import React, { useEffect, useState, useContext } from 'react';\r\nimport axios from \"axios\";\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport { Link } from 'react-router-dom';\r\nimport Button from '@material-ui/core/Button';\r\n// import DialogTitle from '@material-ui/core/DialogTitle';\r\n// import Dialog from '@material-ui/core/Dialog';\r\n// import MenuItem from '@material-ui/core/MenuItem';\r\n// import FormControl from '@material-ui/core/FormControl';\r\n// import DoneIcon from '@material-ui/icons/Done';\r\n\r\n// import Typography from '@material-ui/core/Typography';\r\n\r\n// import NavigateBeforeIcon from '@material-ui/icons/NavigateBefore';\r\n// import NavigateNextIcon from '@material-ui/icons/NavigateNext';\r\n//import Container from \"@material-ui/core/Container\";\r\n\r\n// import Select from \"@material-ui/core/Select\";\r\n// import Table from \"components/Table/Table.js\";\r\n// import Grid from \"@material-ui/core/Grid\";\r\n// import Button from '@material-ui/core/Button';\r\n\r\n// import DialogActions from '@material-ui/core/DialogActions';\r\n// import DialogContent from '@material-ui/core/DialogContent';\r\n// import DialogContentText from '@material-ui/core/DialogContentText';\r\n\r\nimport Accordion from '@material-ui/core/Accordion';\r\nimport AccordionSummary from '@material-ui/core/AccordionSummary';\r\nimport AccordionDetails from '@material-ui/core/AccordionDetails';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore';\r\n\r\n// import GridItem from \"components/Grid/GridItem.js\";\r\n// import Drawer from '@material-ui/core/Drawer';\r\n// import ChevronLeftIcon from '@material-ui/icons/ChevronLeft';\r\n// import ChevronRightIcon from '@material-ui/icons/ChevronRight';\r\n// import IconButton from '@material-ui/core/IconButton';\r\n// import CheckSharpIcon from '@material-ui/icons/CheckSharp';\r\n// import ClearSharpIcon from '@material-ui/icons/ClearSharp';\r\n// import Avatar from \"@material-ui/core/Avatar\"\r\n// import Card from \"components/Card/Card.js\";\r\n// import CardBody from \"components/Card/CardBody.js\";\r\nimport { UserContext } from \"../../UserContext\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n    root: {\r\n      width: '100%',\r\n    },\r\n    button: {\r\n        margin: theme.spacing(0, 1, 0),\r\n      },\r\n        heading: {\r\n      fontSize: theme.typography.pxToRem(15),\r\n      flexBasis: '33.33%',\r\n      flexShrink: 0,\r\n    },\r\n    secondaryHeading: {\r\n      fontSize: theme.typography.pxToRem(15),\r\n      color: theme.palette.text.secondary,\r\n    },\r\n  }));\r\n\r\n\r\nexport default function Group() {\r\n\r\n    window.onbeforeunload = () => setUser(null)\r\n    const { setUser } = useContext(UserContext);\r\n    const classes = useStyles();\r\n    const [myGroupTableData, setMyGroupTableData] = useState([]);\r\n    const [hasatleast1Group, setUserHasGroup] = useState(false);\r\n    // const theme = useTheme(); \r\n    // const [open, setOpen] = useState(false);\r\n    // const [confirmDialogOpen, setConfirmDialogOpen] = useState(false)\r\n    // const [selectedOwner, setSelectedOwner] = useState(null);\r\n    // const [backDropOpen, setBackDropOpen] = useState(false);\r\n    // const [playerStatus, setPlayerStatus] = useState();\r\n    // const [selectWhat, setSelectWhat] = useState(\"Captain\");\r\n    // const [selectedPlayerValue, setSelectedPlayerValue] = useState(\"\");\r\n\r\n    // const handleDrawerClose = () => {\r\n    //     setOpen(false);\r\n    // };\r\n\r\n    // const handleModalClose = () => {\r\n    //     setConfirmDialogOpen(false);\r\n    // };\r\n\r\n    useEffect(() => {\r\n        const a = async () => {\r\n            // get start of tournamnet (i.e. start of 1st match)\r\n            // var mygroup  = 1;\r\n            window.localStorage.setItem(\"groupMember\", \"\");\r\n            var myUrl = `/group/memberof/${localStorage.getItem(\"uid\")}`;\r\n            const teamResponse = await axios.get(myUrl);\r\n            var hasgroup = false;\r\n            if (teamResponse.data[0].groups.length > 0) {\r\n                console.log(teamResponse);\r\n                hasgroup = true;\r\n                var currgrp = parseInt(localStorage.getItem(\"gid\"));\r\n                var tmpidx = teamResponse.data[0].groups.findIndex(x => x.gid === currgrp);\r\n                if (tmpidx >= 0) {\r\n                    teamResponse.data[0].groups[tmpidx].groupName =\r\n                    teamResponse.data[0].groups[tmpidx].groupName.concat(\"*\");\r\n                }\r\n                setMyGroupTableData(teamResponse.data[0].groups);\r\n                // console.log(teamResponse.data[0].groups);\r\n            }\r\n            setUserHasGroup(hasgroup);\r\n        }\r\n\r\n        a();\r\n    }, [])\r\n\r\n    function updateCurrentGroup() {\r\n        var newCurrent = expandedPanel;\r\n        if (newCurrent.slice(-1) === \"*\")\r\n            newCurrent = newCurrent.slice(0, -1);\r\n        console.log(` New selection is ${newCurrent}`);\r\n\r\n        myGroupTableData.forEach( ggg => {\r\n            // remove asterix from old groyup name\r\n            if (ggg.groupName.slice(-1) === \"*\") {\r\n                ggg.groupName = ggg.groupName.slice(0, -1);\r\n            }\r\n            // set asterix to new current group\r\n            if (ggg.groupName === newCurrent) {\r\n                window.localStorage.setItem(\"gid\", ggg.gid.toString());\r\n                window.localStorage.setItem(\"groupName\", ggg.groupName);\r\n                ggg.groupName = ggg.groupName.concat(\"*\");\r\n            }\r\n            // console.log(`After ${ggg.groupName}`)\r\n        });\r\n        setMyGroupTableData(myGroupTableData);\r\n        setExpandedPanel(false);\r\n    }\r\n\r\n    function handleShowMember() {\r\n        localStorage.setItem(\"displayGroupMember\", \"\");\r\n        localStorage.setItem(\"displayGroupAdmin\", \"false\");\r\n        var newCurrent = expandedPanel;\r\n        if (newCurrent.slice(-1) === \"*\")\r\n            newCurrent = newCurrent.slice(0, -1);\r\n\r\n        myGroupTableData.forEach( ggg => {\r\n            var x = ggg.groupName;\r\n            if (x.slice(-1) === \"*\") {\r\n                x = x.slice(0, -1);\r\n            }\r\n            // set asterix to new current group\r\n            if (x === newCurrent) {\r\n                window.localStorage.setItem(\"gdGid\", ggg.gid.toString());\r\n                window.localStorage.setItem(\"gdName\", ggg.groupName)\r\n                window.localStorage.setItem(\"gdAdmin\", ggg.admin.toString());\r\n            }\r\n        });\r\n        // console.log(localStorage.getItem(\"displayGroupMember\"));\r\n        // console.log(localStorage.getItem(\"displayGroupAdmin\"));\r\n        // console.log(\"Settings done\");\r\n    }\r\n\r\n    const [expandedPanel, setExpandedPanel] = useState(false);\r\n    const handleAccordionChange = (panel) => (event, isExpanded) => {\r\n      setExpandedPanel(isExpanded ? panel : false);\r\n    };  \r\n    function ShowAllGroups() {\r\n        return (myGroupTableData.map(element =>\r\n            <Accordion expanded={expandedPanel === element.groupName} onChange={handleAccordionChange(element.groupName)}>\r\n                <AccordionSummary expandIcon={<ExpandMoreIcon />} aria-controls=\"panel1a-content\" id=\"panel1a-header\">\r\n                    <Typography className={classes.heading}>{element.groupName}</Typography>\r\n                    <Typography className={classes.secondaryHeading}>{element.tournament} ({element.admin})</Typography>\r\n                </AccordionSummary>\r\n                <AccordionDetails>\r\n                <Button variant=\"contained\" color=\"secondary\" size=\"small\"\r\n                    className={classes.button} onClick={updateCurrentGroup}>Select\r\n                </Button>\r\n                <Button variant=\"contained\" color=\"secondary\" size=\"small\"\r\n                    className={classes.button} onClick={handleShowMember}>Members\r\n                </Button>\r\n                </AccordionDetails>\r\n            </Accordion>\r\n        ));\r\n    }\r\n\r\n    function NewGroupButton() {\r\n        return (<Link align=\"center\" to='/createnewgroup' >Create New Group</Link>) \r\n    }\r\n\r\n    if (hasatleast1Group)\r\n        return (\r\n        <div key=\"allgroup\">  \r\n            {/* <CricDreamGroupSetting/> */}\r\n        <h3 align=\"center\">Group List of {localStorage.getItem(\"displayName\")}</h3>\r\n            <ShowAllGroups/>\r\n            <NewGroupButton/>            \r\n       </div>\r\n        );\r\n    else\r\n        return(\r\n            <div key=\"noGroup\">\r\n                <h3 align=\"center\">Not a member of any Group</h3>\r\n                <NewGroupButton/>            \r\n            </div>)\r\n\r\n}\r\n"]},"metadata":{},"sourceType":"module"}