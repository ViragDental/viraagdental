{"ast":null,"code":"import _defineProperty from\"D:\\\\projects\\\\Cricket\\\\akshu close\\\\IPL\\\\material-dashboard-react-master\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/defineProperty\";import _readOnlyError from\"D:\\\\projects\\\\Cricket\\\\akshu close\\\\IPL\\\\material-dashboard-react-master\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/readOnlyError\";import _regeneratorRuntime from\"D:\\\\projects\\\\Cricket\\\\akshu close\\\\IPL\\\\material-dashboard-react-master\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/regenerator\";import _asyncToGenerator from\"D:\\\\projects\\\\Cricket\\\\akshu close\\\\IPL\\\\material-dashboard-react-master\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"D:\\\\projects\\\\Cricket\\\\akshu close\\\\IPL\\\\material-dashboard-react-master\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";import _objectSpread from\"D:\\\\projects\\\\Cricket\\\\akshu close\\\\IPL\\\\material-dashboard-react-master\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectSpread2\";import React,{useEffect,useState,useContext}from'react';import axios from\"axios\";import{makeStyles,useTheme}from'@material-ui/core/styles';import DialogTitle from'@material-ui/core/DialogTitle';import Dialog from'@material-ui/core/Dialog';import MenuItem from'@material-ui/core/MenuItem';import FormControl from'@material-ui/core/FormControl';import DoneIcon from'@material-ui/icons/Done';import Typography from'@material-ui/core/Typography';import NavigateBeforeIcon from'@material-ui/icons/NavigateBefore';import NavigateNextIcon from'@material-ui/icons/NavigateNext';//import Container from \"@material-ui/core/Container\";\nimport Select from\"@material-ui/core/Select\";import Table from\"components/Table/Table.js\";import Grid from\"@material-ui/core/Grid\";import Button from'@material-ui/core/Button';import DialogActions from'@material-ui/core/DialogActions';import DialogContent from'@material-ui/core/DialogContent';import DialogContentText from'@material-ui/core/DialogContentText';import GridItem from\"components/Grid/GridItem.js\";import Drawer from'@material-ui/core/Drawer';import ChevronLeftIcon from'@material-ui/icons/ChevronLeft';import ChevronRightIcon from'@material-ui/icons/ChevronRight';import IconButton from'@material-ui/core/IconButton';import CheckSharpIcon from'@material-ui/icons/CheckSharp';import ClearSharpIcon from'@material-ui/icons/ClearSharp';import Avatar from\"@material-ui/core/Avatar\";import Card from\"components/Card/Card.js\";import CardAvatar from\"components/Card/CardAvatar.js\";import CardBody from\"components/Card/CardBody.js\";import Input from'@material-ui/core/Input';import{UserContext}from\"../../UserContext\";import socketIOClient from\"socket.io-client\";// const ENDPOINT = \"https://happy-home-ipl-2020.herokuapp.com/\";\nvar ENDPOINT=\"http://localhost:4000\";var drawerWidth=100;var useStyles=makeStyles(function(theme){return{margin:{margin:theme.spacing(1)},image:{height:\"200px\"},container:{backgroundImage:\"url(\\\"../RCB/5334.jpg\\\")\",backgroundSize:'cover'},drawer:{width:drawerWidth,flexShrink:0},drawerPaper:{width:drawerWidth},drawerHeader:_objectSpread(_objectSpread({display:'flex',alignItems:'center',padding:theme.spacing(0,1)},theme.mixins.toolbar),{},{justifyContent:'flex-start'}),sold:{color:\"green\"},cardCategoryWhite:{color:\"rgba(255,255,255,.62)\",margin:\"0\",fontSize:\"14px\",marginTop:\"0\",marginBottom:\"0\"},cardTitleWhite:{color:\"#FFFFFF\",marginTop:\"0px\",minHeight:\"auto\",fontWeight:\"300\",fontFamily:\"'Roboto', 'Helvetica', 'Arial', sans-serif\",marginBottom:\"3px\",textDecoration:\"none\"},large:{width:theme.spacing(12),height:theme.spacing(12)}};});export default function ImgMediaCard(){window.onbeforeunload=function(){return setUser(null);};var _useContext=useContext(UserContext),user=_useContext.user,setUser=_useContext.setUser;var classes=useStyles();var theme=useTheme();var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),auctionStatus=_useState2[0],setAuctionStatus=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),isUserMemberOfGroup=_useState4[0],setGroupMember=_useState4[1];var _useState5=useState(\"\"),_useState6=_slicedToArray(_useState5,2),playerName=_useState6[0],setPlayerName=_useState6[1];var _useState7=useState(\"\"),_useState8=_slicedToArray(_useState7,2),playerImage=_useState8[0],setPlayerImage=_useState8[1];var _useState9=useState(\"\"),_useState10=_slicedToArray(_useState9,2),team=_useState10[0],setTeam=_useState10[1];var _useState11=useState(\"\"),_useState12=_slicedToArray(_useState11,2),role=_useState12[0],setRole=_useState12[1];var _useState13=useState(\"\"),_useState14=_slicedToArray(_useState13,2),battingStyle=_useState14[0],setBattingStyle=_useState14[1];var _useState15=useState(\"\"),_useState16=_slicedToArray(_useState15,2),bowlingStyle=_useState16[0],setBowlingStyle=_useState16[1];var _useState17=useState(false),_useState18=_slicedToArray(_useState17,2),open=_useState18[0],setOpen=_useState18[1];var _useState19=useState(),_useState20=_slicedToArray(_useState19,2),bidAmount=_useState20[0],setBidAmount=_useState20[1];var _useState21=useState(false),_useState22=_slicedToArray(_useState21,2),confirmDialogOpen=_useState22[0],setConfirmDialogOpen=_useState22[1];var _useState23=useState(),_useState24=_slicedToArray(_useState23,2),pid=_useState24[0],setPid=_useState24[1];var _useState25=useState(null),_useState26=_slicedToArray(_useState25,2),selectedOwner=_useState26[0],setSelectedOwner=_useState26[1];var _useState27=useState(false),_useState28=_slicedToArray(_useState27,2),backDropOpen=_useState28[0],setBackDropOpen=_useState28[1];var _useState29=useState(),_useState30=_slicedToArray(_useState29,2),playerStatus=_useState30[0],setPlayerStatus=_useState30[1];var _useState31=useState([]),_useState32=_slicedToArray(_useState31,2),AuctionTableData=_useState32[0],setAuctionTableData=_useState32[1];var _useState33=useState([{desc:\"Captain\",name:\"\"},{desc:\"ViceCaptain\",name:\"\"}]),_useState34=_slicedToArray(_useState33,2),captainTableData=_useState34[0],setCaptainTableData=_useState34[1];var handleDrawerClose=function handleDrawerClose(){setOpen(false);};var handleModalClose=function handleModalClose(){setConfirmDialogOpen(false);};useEffect(function(){var socket=socketIOClient(ENDPOINT);socket.on(\"connect\",function(){console.log(\"client connected\");socket.on(\"playerChange\",/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(newPlayerDetails,balanceDetails){var userBalance,role,Team,battingStyle,bowlingStyle,pid,fullName;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:setAuctionStatus(\"RUNNING\");console.log(\"player change\");userBalance=[];role=newPlayerDetails.role,Team=newPlayerDetails.Team,battingStyle=newPlayerDetails.battingStyle,bowlingStyle=newPlayerDetails.bowlingStyle,pid=newPlayerDetails.pid,fullName=newPlayerDetails.fullName;console.log(balanceDetails);// console.log(user.uid)\nif(localStorage.getItem(\"admin\")===\"false\"){userBalance=balanceDetails.filter(function(balance){return balance.uid===parseInt(localStorage.getItem(\"uid\"),10);});}else{userBalance=balanceDetails;}// const userBalance = user && user.admin ? balanceDetails:[balanceDetails.filter(balance => balance.uid === user.uid)]\nconsole.log(userBalance);setPlayerImage(\"\".concat(process.env.PUBLIC_URL,\"/\").concat(pid,\".JPG\"));setRole(role);setTeam(Team);setBattingStyle(battingStyle);setBowlingStyle(bowlingStyle);setPlayerName(fullName);setPid(pid);setAuctionTableData(userBalance);case 15:case\"end\":return _context.stop();}}},_callee);}));return function(_x,_x2){return _ref.apply(this,arguments);};}());});var a=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(){var mygroup,response,tournamentStart,myCapName,myViceCapName,isGroupMember,myUrl,tmp;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:// get start of tournamnet (i.e. start of 1st match)\nmygroup=1;_context2.next=3;return axios.get(\"/group/getfirstmatch/\".concat(mygroup));case 3:response=_context2.sent;tournamentStart=response.data.matchStartTime;// get captain and vice captain of user\n//response = \"\"\nmyCapName=\"\";myViceCapName=\"\";isGroupMember=true;console.log(\"Feting captain\");_context2.prev=9;myUrl=\"/user/getcaptain/\".concat(localStorage.getItem(\"uid\"));console.log(myUrl);_readOnlyError(\"response\");_context2.next=15;return axios.get(myUrl);case 15:response=_context2.sent;console.log(response.status);console.log(\"User:\".concat(localStorage.getItem(\"uid\"),\" Data: \").concat(response.data));if(response.data.length>0){myCapName=response.data[0].captainName;myViceCapName=response.data[0].viceCaptainName;}_context2.next=26;break;case 21:_context2.prev=21;_context2.t0=_context2[\"catch\"](9);console.log(\"Error status \".concat(response.status));console.log(\"in error \".concat(response.status));isGroupMember=false;case 26:tmp=[];tmp.push({desc:\"Captain\",name:myCapName});tmp.push(_defineProperty({name:\"ViceCaptain\"},\"name\",myViceCapName));setCaptainTableData(tmp);console.log(\"Details: \".concat(tmp[0],\"  \").concat(tmp[1]));// setAuctionStatus(response.data)\\;\nsetGroupMember(isGroupMember);console.log(\"Is group member \".concat(isUserMemberOfGroup));// if (isGroupMember) {\n//     await startAuction(response.data);\n// }\ncase 33:case\"end\":return _context2.stop();}}},_callee2,null,[[9,21]]);}));return function a(){return _ref2.apply(this,arguments);};}();a();},[]);var startAuction=/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee3(status){var response,_response;return _regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:if(!(status===\"PENDING\")){_context3.next=5;break;}_context3.next=3;return axios.get(\"/group/setauctionstatus/1/RUNNING\");case 3:response=_context3.sent;if(response.data){setAuctionStatus(\"RUNNING\");}case 5:if(!(status===\"RUNNING\")){_context3.next=10;break;}_context3.next=8;return axios.get(\"/group/getauctionplayer/1\");case 8:_response=_context3.sent;console.log(_response);case 10:case\"end\":return _context3.stop();}}},_callee3);}));return function startAuction(_x3){return _ref3.apply(this,arguments);};}();var handleOwnerChange=function handleOwnerChange(event){setSelectedOwner(event.target.value);};function sellPlayer(){return _sellPlayer.apply(this,arguments);}function _sellPlayer(){_sellPlayer=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee4(){var amount,response,balance;return _regeneratorRuntime.wrap(function _callee4$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:amount=document.getElementById(\"standard-required\").value;console.log(amount);_context4.next=4;return fetch(\"/auction/add/1/\".concat(selectedOwner,\"/\").concat(pid,\"/\").concat(bidAmount));case 4:response=_context4.sent;if(response.status===707){setPlayerStatus(\"Already Purchased\");}if(response.status===706){setPlayerStatus(\"User does not belong to this group\");}if(response.status===704){setPlayerStatus(\"Invalid Player\");}if(response.status===708){setPlayerStatus(\"Insufficient Balance\");}if(!(response.status===200)){_context4.next=15;break;}setPlayerStatus(\"SOLD\");_context4.next=13;return axios.get(\"/user/balance/all\");case 13:balance=_context4.sent;setAuctionTableData(balance.data);case 15:setConfirmDialogOpen(false);setBackDropOpen(true);case 17:case\"end\":return _context4.stop();}}},_callee4);}));return _sellPlayer.apply(this,arguments);}function unsellPlayer(){return _unsellPlayer.apply(this,arguments);}function _unsellPlayer(){_unsellPlayer=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee5(){return _regeneratorRuntime.wrap(function _callee5$(_context5){while(1){switch(_context5.prev=_context5.next){case 0:_context5.next=2;return fetch(\"/auction/skip/1/\".concat(pid));case 2:case\"end\":return _context5.stop();}}},_callee5);}));return _unsellPlayer.apply(this,arguments);}function AdminAuction(){return/*#__PURE__*/React.createElement(\"div\",{className:classes.root},/*#__PURE__*/React.createElement(Grid,{container:true,justify:\"center\",alignItems:\"center\"},/*#__PURE__*/React.createElement(Grid,{item:true,xs:12},/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(Grid,{container:true,justify:\"center\",alignItems:\"center\"},/*#__PURE__*/React.createElement(GridItem,{xs:12,sm:12,md:12,lg:12},/*#__PURE__*/React.createElement(Card,{profile:true},/*#__PURE__*/React.createElement(CardAvatar,{profile:true},/*#__PURE__*/React.createElement(\"img\",{src:playerImage,alt:\"...\"})),/*#__PURE__*/React.createElement(CardBody,{profile:true},/*#__PURE__*/React.createElement(\"h3\",{className:classes.cardTitle},playerName),/*#__PURE__*/React.createElement(Grid,{container:true,justify:\"center\",alignItems:\"center\"},/*#__PURE__*/React.createElement(Avatar,{variant:\"square\",src:\"\".concat(process.env.PUBLIC_URL,\"/\").concat(team,\".JPG\"),className:classes.large})),/*#__PURE__*/React.createElement(Button,{variant:\"contained\",color:\"secondary\",size:\"small\",className:classes.button,startIcon:/*#__PURE__*/React.createElement(CheckSharpIcon,null),onClick:function onClick(){setOpen(true);}},\"SOLD\"),/*#__PURE__*/React.createElement(Button,{variant:\"contained\",color:\"secondary\",size:\"small\",className:classes.button,startIcon:/*#__PURE__*/React.createElement(ClearSharpIcon,null),onClick:function onClick(){return unsellPlayer();}},\"UNSOLD\")))))))),/*#__PURE__*/React.createElement(Table,{tableHeaderColor:\"warning\",tableHead:[\"Descriptain\",\"Player Name\"],tableData:captainTableData}),/*#__PURE__*/React.createElement(Dialog,{\"aria-labelledby\":\"simple-dialog-title\",open:backDropOpen,onClose:function onClose(){return setBackDropOpen(false);}},/*#__PURE__*/React.createElement(DialogTitle,{id:\"simple-dialog-title\",className:classes.sold},playerStatus)),/*#__PURE__*/React.createElement(Drawer,{variant:\"persistent\",anchor:\"right\",open:open,classes:{paper:classes.drawerPaper}},/*#__PURE__*/React.createElement(IconButton,{onClick:handleDrawerClose},theme.direction==='rtl'?/*#__PURE__*/React.createElement(ChevronLeftIcon,null):/*#__PURE__*/React.createElement(ChevronRightIcon,null)),/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(FormControl,{className:classes.formControl},/*#__PURE__*/React.createElement(Select,{labelId:\"demo-simple-select-label\",id:\"demo-simple-select\",value:selectedOwner,displayEmpty:true,onChange:handleOwnerChange},AuctionTableData.map(function(item){return/*#__PURE__*/React.createElement(MenuItem,{key:item.uid,value:item.uid},item.userName);}))),/*#__PURE__*/React.createElement(Input,{key:\"hi\",id:\"standard-required\",label:\"Bid Amount\",type:\"number\"}),/*#__PURE__*/React.createElement(Button,{variant:\"contained\",color:\"secondary\",size:\"small\",className:classes.button,startIcon:/*#__PURE__*/React.createElement(DoneIcon,null),onClick:function onClick(){setBidAmount(document.getElementById(\"standard-required\").value);setConfirmDialogOpen(true);}},\"Confirm\"))),/*#__PURE__*/React.createElement(Dialog,{open:confirmDialogOpen,onClose:handleModalClose,\"aria-labelledby\":\"alert-dialog-title\",\"aria-describedby\":\"alert-dialog-description\"},/*#__PURE__*/React.createElement(DialogTitle,{id:\"alert-dialog-title\"},\"Are you sure you want to sell \".concat(playerName,\" in \").concat(bidAmount)),/*#__PURE__*/React.createElement(DialogActions,null,/*#__PURE__*/React.createElement(Button,{onClick:handleModalClose,color:\"primary\",autoFocus:true},\"Cancel\"),/*#__PURE__*/React.createElement(Button,{onClick:sellPlayer,color:\"primary\"},\"Sell\"))));}function AdminPending(){return/*#__PURE__*/React.createElement(Button,{variant:\"contained\",color:\"secondary\",size:\"small\",className:classes.button,startIcon:/*#__PURE__*/React.createElement(NavigateBeforeIcon,null),onClick:function onClick(){return startAuction(\"PENDING\");}},\"Start Auction\");}function UserAuctionPending(){return auctionStatus===\"PENDING\"?/*#__PURE__*/React.createElement(Typography,null,\"Auction has not been started by Admin! \",/*#__PURE__*/React.createElement(\"br\",null),\" Auction is Coming !!\"):/*#__PURE__*/React.createElement(Typography,null,\"Auction has ended\");}function UserAuction(){return/*#__PURE__*/React.createElement(Grid,{container:true,justify:\"center\",alignItems:\"center\"},/*#__PURE__*/React.createElement(Table,{tableHeaderColor:\"warning\",tableHead:[\"Description\",\"Player Name\"],tableData:captainTableData}));}return(//    ( auctionStatus === \"PENDING\"||  auctionStatus === \"OVER\")? localStorage.getItem(\"admin\") === \"true\" ? <AdminPending /> : <UserAuctionPending /> : localStorage.getItem(\"admin\") === \"true\" ? <AdminAuction /> : <UserAuction />\nisUserMemberOfGroup?/*#__PURE__*/React.createElement(AdminPending,null):/*#__PURE__*/React.createElement(UserAuctionPending,null));}","map":{"version":3,"sources":["D:/projects/Cricket/akshu close/IPL/material-dashboard-react-master/src/views/Captain/Captain.js"],"names":["React","useEffect","useState","useContext","axios","makeStyles","useTheme","DialogTitle","Dialog","MenuItem","FormControl","DoneIcon","Typography","NavigateBeforeIcon","NavigateNextIcon","Select","Table","Grid","Button","DialogActions","DialogContent","DialogContentText","GridItem","Drawer","ChevronLeftIcon","ChevronRightIcon","IconButton","CheckSharpIcon","ClearSharpIcon","Avatar","Card","CardAvatar","CardBody","Input","UserContext","socketIOClient","ENDPOINT","drawerWidth","useStyles","theme","margin","spacing","image","height","container","backgroundImage","backgroundSize","drawer","width","flexShrink","drawerPaper","drawerHeader","display","alignItems","padding","mixins","toolbar","justifyContent","sold","color","cardCategoryWhite","fontSize","marginTop","marginBottom","cardTitleWhite","minHeight","fontWeight","fontFamily","textDecoration","large","ImgMediaCard","window","onbeforeunload","setUser","user","classes","auctionStatus","setAuctionStatus","isUserMemberOfGroup","setGroupMember","playerName","setPlayerName","playerImage","setPlayerImage","team","setTeam","role","setRole","battingStyle","setBattingStyle","bowlingStyle","setBowlingStyle","open","setOpen","bidAmount","setBidAmount","confirmDialogOpen","setConfirmDialogOpen","pid","setPid","selectedOwner","setSelectedOwner","backDropOpen","setBackDropOpen","playerStatus","setPlayerStatus","AuctionTableData","setAuctionTableData","desc","name","captainTableData","setCaptainTableData","handleDrawerClose","handleModalClose","socket","on","console","log","newPlayerDetails","balanceDetails","userBalance","Team","fullName","localStorage","getItem","filter","balance","uid","parseInt","process","env","PUBLIC_URL","a","mygroup","get","response","tournamentStart","data","matchStartTime","myCapName","myViceCapName","isGroupMember","myUrl","status","length","captainName","viceCaptainName","tmp","push","startAuction","handleOwnerChange","event","target","value","sellPlayer","amount","document","getElementById","fetch","unsellPlayer","AdminAuction","root","cardTitle","button","paper","direction","formControl","map","item","userName","AdminPending","UserAuctionPending","UserAuction"],"mappings":"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","sourcesContent":["import React, { useEffect, useState, useContext } from 'react';\r\nimport axios from \"axios\";\r\nimport { makeStyles, useTheme } from '@material-ui/core/styles';\r\nimport DialogTitle from '@material-ui/core/DialogTitle';\r\nimport Dialog from '@material-ui/core/Dialog';\r\n\r\n\r\nimport MenuItem from '@material-ui/core/MenuItem';\r\n\r\nimport FormControl from '@material-ui/core/FormControl';\r\n\r\n\r\nimport DoneIcon from '@material-ui/icons/Done';\r\n\r\nimport Typography from '@material-ui/core/Typography';\r\n\r\nimport NavigateBeforeIcon from '@material-ui/icons/NavigateBefore';\r\nimport NavigateNextIcon from '@material-ui/icons/NavigateNext';\r\n//import Container from \"@material-ui/core/Container\";\r\n\r\nimport Select from \"@material-ui/core/Select\";\r\nimport Table from \"components/Table/Table.js\";\r\nimport Grid from \"@material-ui/core/Grid\";\r\nimport Button from '@material-ui/core/Button';\r\n\r\nimport DialogActions from '@material-ui/core/DialogActions';\r\nimport DialogContent from '@material-ui/core/DialogContent';\r\nimport DialogContentText from '@material-ui/core/DialogContentText';\r\n\r\n\r\nimport GridItem from \"components/Grid/GridItem.js\";\r\n\r\nimport Drawer from '@material-ui/core/Drawer';\r\nimport ChevronLeftIcon from '@material-ui/icons/ChevronLeft';\r\nimport ChevronRightIcon from '@material-ui/icons/ChevronRight';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport CheckSharpIcon from '@material-ui/icons/CheckSharp';\r\nimport ClearSharpIcon from '@material-ui/icons/ClearSharp';\r\nimport Avatar from \"@material-ui/core/Avatar\"\r\n\r\n\r\nimport Card from \"components/Card/Card.js\";\r\nimport CardAvatar from \"components/Card/CardAvatar.js\";\r\nimport CardBody from \"components/Card/CardBody.js\";\r\n\r\n\r\n\r\nimport Input from '@material-ui/core/Input';\r\n\r\n\r\nimport { UserContext } from \"../../UserContext\";\r\n\r\nimport socketIOClient from \"socket.io-client\";\r\n\r\n// const ENDPOINT = \"https://happy-home-ipl-2020.herokuapp.com/\";\r\nconst ENDPOINT = \"http://localhost:4000\";\r\nconst drawerWidth = 100;\r\nconst useStyles = makeStyles((theme) => ({\r\n    margin: {\r\n        margin: theme.spacing(1),\r\n    },\r\n    image: {\r\n        height: \"200px\"\r\n    },\r\n    container: {\r\n        backgroundImage: \"url(\\\"../RCB/5334.jpg\\\")\",\r\n        backgroundSize: 'cover'\r\n    }, drawer: {\r\n        width: drawerWidth,\r\n        flexShrink: 0,\r\n    },\r\n    drawerPaper: {\r\n        width: drawerWidth,\r\n    },\r\n    drawerHeader: {\r\n        display: 'flex',\r\n        alignItems: 'center',\r\n        padding: theme.spacing(0, 1),\r\n        // necessary for content to be below app bar\r\n        ...theme.mixins.toolbar,\r\n        justifyContent: 'flex-start',\r\n    },\r\n    sold: {\r\n        color: \"green\"\r\n    }, cardCategoryWhite: {\r\n        color: \"rgba(255,255,255,.62)\",\r\n        margin: \"0\",\r\n        fontSize: \"14px\",\r\n        marginTop: \"0\",\r\n        marginBottom: \"0\"\r\n    },\r\n    cardTitleWhite: {\r\n        color: \"#FFFFFF\",\r\n        marginTop: \"0px\",\r\n        minHeight: \"auto\",\r\n        fontWeight: \"300\",\r\n        fontFamily: \"'Roboto', 'Helvetica', 'Arial', sans-serif\",\r\n        marginBottom: \"3px\",\r\n        textDecoration: \"none\"\r\n    }, large: {\r\n        width: theme.spacing(12),\r\n        height: theme.spacing(12),\r\n    },\r\n}));\r\n\r\n\r\n\r\n\r\nexport default function ImgMediaCard() {\r\n\r\n    window.onbeforeunload = () => setUser(null)\r\n\r\n    const { user, setUser } = useContext(UserContext);\r\n\r\n\r\n\r\n    const classes = useStyles();\r\n    const theme = useTheme();\r\n\r\n    const [auctionStatus, setAuctionStatus] = useState(\"\");\r\n    const [isUserMemberOfGroup, setGroupMember] = useState(false);\r\n    const [playerName, setPlayerName] = useState(\"\");\r\n    const [playerImage, setPlayerImage] = useState(\"\");\r\n    const [team, setTeam] = useState(\"\");\r\n    const [role, setRole] = useState(\"\");\r\n    const [battingStyle, setBattingStyle] = useState(\"\");\r\n    const [bowlingStyle, setBowlingStyle] = useState(\"\");\r\n    const [open, setOpen] = useState(false);\r\n\r\n    const [bidAmount, setBidAmount] = useState();\r\n\r\n    const [confirmDialogOpen, setConfirmDialogOpen] = useState(false)\r\n    const [pid, setPid] = useState();\r\n    const [selectedOwner, setSelectedOwner] = useState(null);\r\n\r\n    const [backDropOpen, setBackDropOpen] = useState(false);\r\n    const [playerStatus, setPlayerStatus] = useState();\r\n    const [AuctionTableData, setAuctionTableData] = useState([]);\r\n    const [captainTableData, setCaptainTableData] = useState([{desc: \"Captain\", name: \"\"},\r\n                                                    {desc: \"ViceCaptain\", name: \"\"}]);\r\n\r\n\r\n    const handleDrawerClose = () => {\r\n        setOpen(false);\r\n    };\r\n\r\n\r\n\r\n    const handleModalClose = () => {\r\n        setConfirmDialogOpen(false);\r\n    };\r\n\r\n    useEffect(() => {\r\n\r\n\r\n        const socket = socketIOClient(ENDPOINT);\r\n        socket.on(\"connect\", () => {\r\n\r\n            console.log(\"client connected\");\r\n\r\n\r\n            socket.on(\"playerChange\", async (newPlayerDetails, balanceDetails) => {\r\n\r\n                setAuctionStatus(\"RUNNING\");\r\n                console.log(\"player change\")\r\n\r\n                let userBalance = [];\r\n                const { role, Team, battingStyle, bowlingStyle, pid, fullName } = newPlayerDetails;\r\n\r\n                console.log(balanceDetails);\r\n                // console.log(user.uid)\r\n\r\n                if (localStorage.getItem(\"admin\") === \"false\") {\r\n                    userBalance = balanceDetails.filter(balance => balance.uid === parseInt(localStorage.getItem(\"uid\"), 10))\r\n                }\r\n                else {\r\n                    userBalance = balanceDetails\r\n                }\r\n                // const userBalance = user && user.admin ? balanceDetails:[balanceDetails.filter(balance => balance.uid === user.uid)]\r\n\r\n\r\n\r\n                console.log(userBalance);\r\n                setPlayerImage(`${process.env.PUBLIC_URL}/${pid}.JPG`);\r\n                setRole(role)\r\n                setTeam(Team)\r\n                setBattingStyle(battingStyle)\r\n                setBowlingStyle(bowlingStyle)\r\n                setPlayerName(fullName)\r\n                setPid(pid)\r\n                setAuctionTableData(userBalance);\r\n            });\r\n\r\n\r\n        })\r\n\r\n        const a = async () => {\r\n            // get start of tournamnet (i.e. start of 1st match)\r\n            var mygroup  = 1;\r\n            const response = await axios.get(`/group/getfirstmatch/${mygroup}`);\r\n            var tournamentStart = response.data.matchStartTime;\r\n\r\n            // get captain and vice captain of user\r\n            //response = \"\"\r\n            var myCapName = \"\";\r\n            var myViceCapName = \"\";\r\n            var isGroupMember = true;\r\n            console.log(\"Feting captain\");\r\n            try { \r\n                const myUrl = `/user/getcaptain/${localStorage.getItem(\"uid\")}`;\r\n                console.log(myUrl);\r\n                response = await axios.get(myUrl);\r\n                console.log(response.status)\r\n                console.log(`User:${localStorage.getItem(\"uid\")} Data: ${response.data}`);\r\n                if (response.data.length > 0) {\r\n                    myCapName = response.data[0].captainName;\r\n                    myViceCapName = response.data[0].viceCaptainName;\r\n                }\r\n            } catch (err) {\r\n                console.log(`Error status ${response.status}`);\r\n                console.log(`in error ${response.status}`);\r\n                isGroupMember = false;\r\n            }\r\n            var tmp = [];\r\n            tmp.push({desc: \"Captain\", name: myCapName});\r\n            tmp.push({name: \"ViceCaptain\", name: myViceCapName});\r\n            setCaptainTableData(tmp);\r\n            console.log(`Details: ${tmp[0]}  ${tmp[1]}`);\r\n            // setAuctionStatus(response.data)\\;\r\n            setGroupMember(isGroupMember);\r\n            console.log(`Is group member ${isUserMemberOfGroup}`);\r\n            // if (isGroupMember) {\r\n            //     await startAuction(response.data);\r\n            // }\r\n        }\r\n\r\n        a();\r\n\r\n\r\n    }, [])\r\n\r\n\r\n    const startAuction = async (status) => {\r\n\r\n        if (status === \"PENDING\") {\r\n            const response = await axios.get(\"/group/setauctionstatus/1/RUNNING\");\r\n            if (response.data) {\r\n                setAuctionStatus(\"RUNNING\");\r\n            }\r\n        }\r\n        if (status === \"RUNNING\") {\r\n            const response = await axios.get(\"/group/getauctionplayer/1\");\r\n            console.log(response);\r\n        }\r\n\r\n    }\r\n\r\n    const handleOwnerChange = (event) => {\r\n        setSelectedOwner(event.target.value);\r\n    };\r\n\r\n\r\n    async function sellPlayer() {\r\n\r\n\r\n        const amount = document.getElementById(\"standard-required\").value;\r\n        console.log(amount);\r\n        let response = await fetch(`/auction/add/1/${selectedOwner}/${pid}/${bidAmount}`);\r\n        if (response.status === 707) {\r\n            setPlayerStatus(\"Already Purchased\")\r\n        }\r\n        if (response.status === 706) {\r\n            setPlayerStatus(\"User does not belong to this group\");\r\n        }\r\n        if (response.status === 704) {\r\n            setPlayerStatus(\"Invalid Player\")\r\n        }\r\n        if (response.status === 708) {\r\n            setPlayerStatus(\"Insufficient Balance\")\r\n        }\r\n        if (response.status === 200) {\r\n            setPlayerStatus(\"SOLD\");\r\n\r\n            const balance = await axios.get(\"/user/balance/all\")\r\n            setAuctionTableData(balance.data);\r\n        }\r\n        setConfirmDialogOpen(false);\r\n\r\n        setBackDropOpen(true)\r\n    }\r\n\r\n\r\n    async function unsellPlayer() {\r\n        await fetch(`/auction/skip/1/${pid}`);\r\n\r\n    }\r\n\r\n\r\n\r\n\r\n    function AdminAuction() {\r\n        return <div className={classes.root}>\r\n\r\n\r\n            <Grid container justify=\"center\" alignItems=\"center\">\r\n\r\n                <Grid item xs={12}>\r\n\r\n                    <div>\r\n                        <Grid container justify=\"center\" alignItems=\"center\" >\r\n                            <GridItem xs={12} sm={12} md={12} lg={12} >\r\n                                <Card profile>\r\n                                    <CardAvatar profile>\r\n\r\n                                        <img src={playerImage} alt=\"...\" />\r\n\r\n                                    </CardAvatar>\r\n                                    <CardBody profile>\r\n\r\n                                        <h3 className={classes.cardTitle}>{playerName}</h3>\r\n                                        <Grid container justify=\"center\" alignItems=\"center\">\r\n                                            <Avatar variant=\"square\" src={`${process.env.PUBLIC_URL}/${team}.JPG`} className={classes.large} />\r\n                                        </Grid>\r\n\r\n                                        <Button\r\n                                            variant=\"contained\"\r\n                                            color=\"secondary\"\r\n                                            size=\"small\"\r\n                                            className={classes.button}\r\n                                            startIcon={<CheckSharpIcon />}\r\n                                            onClick={() => { setOpen(true); }}>\r\n                                            SOLD\r\n                                        </Button>\r\n                                        <Button\r\n                                            variant=\"contained\"\r\n                                            color=\"secondary\"\r\n                                            size=\"small\"\r\n                                            className={classes.button}\r\n                                            startIcon={<ClearSharpIcon />}\r\n                                            onClick={() => unsellPlayer()}>\r\n                                            UNSOLD\r\n                                        </Button>\r\n\r\n                                    </CardBody>\r\n                                </Card>\r\n                            </GridItem>\r\n\r\n                        </Grid>\r\n\r\n                    </div>\r\n\r\n                </Grid>\r\n            </Grid>\r\n            <Table\r\n                tableHeaderColor=\"warning\"\r\n                tableHead={[\"Descriptain\", \"Player Name\"]}\r\n                tableData={captainTableData}\r\n            />\r\n\r\n            <Dialog aria-labelledby=\"simple-dialog-title\" open={backDropOpen}\r\n                onClose={() => setBackDropOpen(false)} >\r\n                <DialogTitle id=\"simple-dialog-title\" className={classes.sold}>{playerStatus}</DialogTitle>\r\n\r\n\r\n            </Dialog>\r\n\r\n            <Drawer\r\n                variant=\"persistent\"\r\n                anchor=\"right\"\r\n                open={open}\r\n                classes={{\r\n                    paper: classes.drawerPaper,\r\n                }}\r\n            >\r\n                <IconButton onClick={handleDrawerClose}>\r\n                    {theme.direction === 'rtl' ? <ChevronLeftIcon /> : <ChevronRightIcon />}\r\n                </IconButton>\r\n                <div>\r\n                    <FormControl className={classes.formControl}>\r\n\r\n                        <Select\r\n                            labelId=\"demo-simple-select-label\"\r\n                            id=\"demo-simple-select\"\r\n                            value={selectedOwner}\r\n                            displayEmpty\r\n                            onChange={handleOwnerChange}\r\n                        >\r\n                            {AuctionTableData.map(item => <MenuItem key={item.uid} value={item.uid}>{item.userName}</MenuItem>)}\r\n\r\n                        </Select>\r\n\r\n                    </FormControl>\r\n                    <Input key=\"hi\" id=\"standard-required\" label=\"Bid Amount\" type=\"number\" />\r\n                    <Button\r\n                        variant=\"contained\"\r\n                        color=\"secondary\"\r\n                        size=\"small\"\r\n                        className={classes.button}\r\n                        startIcon={<DoneIcon />}\r\n                        onClick={() => { setBidAmount(document.getElementById(\"standard-required\").value); setConfirmDialogOpen(true) }}>\r\n                        Confirm\r\n</Button>\r\n                </div>\r\n\r\n            </Drawer>\r\n\r\n            <Dialog\r\n                open={confirmDialogOpen}\r\n                onClose={handleModalClose}\r\n                aria-labelledby=\"alert-dialog-title\"\r\n                aria-describedby=\"alert-dialog-description\"\r\n            >\r\n                <DialogTitle id=\"alert-dialog-title\">{`Are you sure you want to sell ${playerName} in ${bidAmount}`}</DialogTitle>\r\n\r\n                <DialogActions>\r\n\r\n                    <Button onClick={handleModalClose} color=\"primary\" autoFocus>\r\n                        Cancel\r\n          </Button>\r\n                    <Button onClick={sellPlayer} color=\"primary\">\r\n                        Sell\r\n          </Button>\r\n                </DialogActions>\r\n            </Dialog>\r\n        </div>\r\n    }\r\n\r\n    function AdminPending() {\r\n        return <Button variant=\"contained\"\r\n            color=\"secondary\"\r\n            size=\"small\"\r\n            className={classes.button}\r\n            startIcon={<NavigateBeforeIcon />}\r\n            onClick={() => startAuction(\"PENDING\")}>Start Auction</Button>\r\n    }\r\n\r\n    function UserAuctionPending() {\r\n        \r\n        return auctionStatus===\"PENDING\"? <Typography>Auction has not been started by Admin! <br /> Auction is Coming !!</Typography>:<Typography>Auction has ended</Typography>\r\n    }\r\n\r\n    function UserAuction() {\r\n        return <Grid container justify=\"center\"\r\n            alignItems=\"center\" >\r\n            <Table\r\n                tableHeaderColor=\"warning\"\r\n                tableHead={[\"Description\", \"Player Name\"]}\r\n                tableData={captainTableData}\r\n            />\r\n        </Grid>\r\n    }\r\n    return (\r\n\r\n    //    ( auctionStatus === \"PENDING\"||  auctionStatus === \"OVER\")? localStorage.getItem(\"admin\") === \"true\" ? <AdminPending /> : <UserAuctionPending /> : localStorage.getItem(\"admin\") === \"true\" ? <AdminAuction /> : <UserAuction />\r\n        (isUserMemberOfGroup) ? <AdminPending /> : <UserAuctionPending />\r\n    );\r\n\r\n}\r\n"]},"metadata":{},"sourceType":"module"}