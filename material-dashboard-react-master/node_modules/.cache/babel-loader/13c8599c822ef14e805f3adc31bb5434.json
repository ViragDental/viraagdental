{"ast":null,"code":"import _regeneratorRuntime from \"D:\\\\projects\\\\Cricket\\\\akshu close\\\\IPL\\\\material-dashboard-react-master\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/regenerator\";\nimport _asyncToGenerator from \"D:\\\\projects\\\\Cricket\\\\akshu close\\\\IPL\\\\material-dashboard-react-master\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/asyncToGenerator\";\nimport _slicedToArray from \"D:\\\\projects\\\\Cricket\\\\akshu close\\\\IPL\\\\material-dashboard-react-master\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";\nimport _objectSpread from \"D:\\\\projects\\\\Cricket\\\\akshu close\\\\IPL\\\\material-dashboard-react-master\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectSpread2\";\nvar _jsxFileName = \"D:\\\\projects\\\\Cricket\\\\akshu close\\\\IPL\\\\material-dashboard-react-master\\\\src\\\\views\\\\Auction\\\\Auction.js\";\nimport React, { useEffect, useState, useContext } from 'react';\nimport axios from \"axios\";\nimport { makeStyles, useTheme } from '@material-ui/core/styles';\nimport DialogTitle from '@material-ui/core/DialogTitle';\nimport Dialog from '@material-ui/core/Dialog';\nimport MenuItem from '@material-ui/core/MenuItem';\nimport FormControl from '@material-ui/core/FormControl';\nimport DoneIcon from '@material-ui/icons/Done';\nimport Typography from '@material-ui/core/Typography';\nimport NavigateBeforeIcon from '@material-ui/icons/NavigateBefore';\nimport NavigateNextIcon from '@material-ui/icons/NavigateNext'; //import Container from \"@material-ui/core/Container\";\n\nimport Select from \"@material-ui/core/Select\";\nimport Table from \"components/Table/Table.js\";\nimport Grid from \"@material-ui/core/Grid\";\nimport Button from '@material-ui/core/Button';\nimport DialogActions from '@material-ui/core/DialogActions';\nimport DialogContent from '@material-ui/core/DialogContent';\nimport DialogContentText from '@material-ui/core/DialogContentText';\nimport GridItem from \"components/Grid/GridItem.js\";\nimport Drawer from '@material-ui/core/Drawer';\nimport ChevronLeftIcon from '@material-ui/icons/ChevronLeft';\nimport ChevronRightIcon from '@material-ui/icons/ChevronRight';\nimport IconButton from '@material-ui/core/IconButton';\nimport CheckSharpIcon from '@material-ui/icons/CheckSharp';\nimport ClearSharpIcon from '@material-ui/icons/ClearSharp';\nimport Avatar from \"@material-ui/core/Avatar\";\nimport Card from \"components/Card/Card.js\";\nimport CardAvatar from \"components/Card/CardAvatar.js\";\nimport CardBody from \"components/Card/CardBody.js\";\nimport Input from '@material-ui/core/Input';\nimport { UserContext } from \"../../UserContext\";\nimport socketIOClient from \"socket.io-client\"; // const ENDPOINT = \"https://happy-home-ipl-2020.herokuapp.com/\";\n\nvar ENDPOINT = \"http://localhost:4000\";\nvar drawerWidth = 100;\nvar useStyles = makeStyles(function (theme) {\n  return {\n    margin: {\n      margin: theme.spacing(1)\n    },\n    image: {\n      height: \"200px\"\n    },\n    container: {\n      backgroundImage: \"url(\\\"./sample.JPG\\\")\",\n      backgroundSize: 'cover'\n    },\n    drawer: {\n      width: drawerWidth,\n      flexShrink: 0\n    },\n    drawerPaper: {\n      width: drawerWidth\n    },\n    drawerHeader: _objectSpread(_objectSpread({\n      display: 'flex',\n      alignItems: 'center',\n      padding: theme.spacing(0, 1)\n    }, theme.mixins.toolbar), {}, {\n      justifyContent: 'flex-start'\n    }),\n    sold: {\n      color: \"green\"\n    },\n    cardCategoryWhite: {\n      color: \"rgba(255,255,255,.62)\",\n      margin: \"0\",\n      fontSize: \"14px\",\n      marginTop: \"0\",\n      marginBottom: \"0\"\n    },\n    cardTitleWhite: {\n      color: \"#FFFFFF\",\n      marginTop: \"0px\",\n      minHeight: \"auto\",\n      fontWeight: \"300\",\n      fontFamily: \"'Roboto', 'Helvetica', 'Arial', sans-serif\",\n      marginBottom: \"3px\",\n      textDecoration: \"none\"\n    },\n    large: {\n      width: theme.spacing(12),\n      height: theme.spacing(12)\n    },\n    medium: {\n      width: theme.spacing(9),\n      height: theme.spacing(9)\n    },\n    playerinfo: {\n      display: 'flex',\n      alignItems: 'left',\n      padding: theme.spacing(3, 0),\n      justifyContent: 'flex-start'\n    }\n  };\n});\n\nfunction leavingAuction(myConn) {\n  console.log(\"Leaving Auction wah wah \");\n  myConn.disconnect();\n}\n\nexport default function Auction() {\n  window.onbeforeunload = function () {\n    return setUser(null);\n  };\n\n  var _useContext = useContext(UserContext),\n      user = _useContext.user,\n      setUser = _useContext.setUser;\n\n  var classes = useStyles();\n  var theme = useTheme();\n\n  var _useState = useState(\"\"),\n      _useState2 = _slicedToArray(_useState, 2),\n      auctionStatus = _useState2[0],\n      setAuctionStatus = _useState2[1];\n\n  var _useState3 = useState(\"\"),\n      _useState4 = _slicedToArray(_useState3, 2),\n      playerName = _useState4[0],\n      setPlayerName = _useState4[1];\n\n  var _useState5 = useState(\"\"),\n      _useState6 = _slicedToArray(_useState5, 2),\n      playerImage = _useState6[0],\n      setPlayerImage = _useState6[1];\n\n  var _useState7 = useState(\"\"),\n      _useState8 = _slicedToArray(_useState7, 2),\n      team = _useState8[0],\n      setTeam = _useState8[1];\n\n  var _useState9 = useState(\"\"),\n      _useState10 = _slicedToArray(_useState9, 2),\n      role = _useState10[0],\n      setRole = _useState10[1];\n\n  var _useState11 = useState(\"\"),\n      _useState12 = _slicedToArray(_useState11, 2),\n      battingStyle = _useState12[0],\n      setBattingStyle = _useState12[1];\n\n  var _useState13 = useState(\"\"),\n      _useState14 = _slicedToArray(_useState13, 2),\n      bowlingStyle = _useState14[0],\n      setBowlingStyle = _useState14[1];\n\n  var _useState15 = useState(false),\n      _useState16 = _slicedToArray(_useState15, 2),\n      open = _useState16[0],\n      setOpen = _useState16[1];\n\n  var _useState17 = useState(),\n      _useState18 = _slicedToArray(_useState17, 2),\n      bidAmount = _useState18[0],\n      setBidAmount = _useState18[1];\n\n  var _useState19 = useState(false),\n      _useState20 = _slicedToArray(_useState19, 2),\n      confirmDialogOpen = _useState20[0],\n      setConfirmDialogOpen = _useState20[1];\n\n  var _useState21 = useState(),\n      _useState22 = _slicedToArray(_useState21, 2),\n      pid = _useState22[0],\n      setPid = _useState22[1];\n\n  var _useState23 = useState(null),\n      _useState24 = _slicedToArray(_useState23, 2),\n      selectedOwner = _useState24[0],\n      setSelectedOwner = _useState24[1];\n\n  var _useState25 = useState(false),\n      _useState26 = _slicedToArray(_useState25, 2),\n      backDropOpen = _useState26[0],\n      setBackDropOpen = _useState26[1];\n\n  var _useState27 = useState(),\n      _useState28 = _slicedToArray(_useState27, 2),\n      playerStatus = _useState28[0],\n      setPlayerStatus = _useState28[1];\n\n  var _useState29 = useState([]),\n      _useState30 = _slicedToArray(_useState29, 2),\n      AuctionTableData = _useState30[0],\n      setAuctionTableData = _useState30[1];\n\n  var handleDrawerClose = function handleDrawerClose() {\n    setOpen(false);\n  };\n\n  var handleModalClose = function handleModalClose() {\n    setConfirmDialogOpen(false);\n  };\n\n  useEffect(function () {\n    var sendMessage = {\n      page: \"AUCT\",\n      gid: localStorage.getItem(\"gid\"),\n      uid: localStorage.getItem(\"uid\")\n    };\n\n    var makeconnection = /*#__PURE__*/function () {\n      var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n        return _regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                _context.next = 2;\n                return sockConn.connect();\n\n              case 2:\n                sockConn.emit(\"page\", sendMessage);\n\n              case 3:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee);\n      }));\n\n      return function makeconnection() {\n        return _ref.apply(this, arguments);\n      };\n    }();\n\n    var sockConn = socketIOClient(ENDPOINT);\n    console.log(\"in dashboard before make connection\");\n    makeconnection(); // console.log(\"in dashboard after make connection\");\n\n    sockConn.on(\"connect\", function () {\n      console.log(\"client connected\");\n      sockConn.emit(\"page\", sendMessage);\n      sockConn.on(\"playerChange\", /*#__PURE__*/function () {\n        var _ref2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee2(newPlayerDetails, balanceDetails) {\n          var userBalance, role, Team, battingStyle, bowlingStyle, pid, fullName;\n          return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n            while (1) {\n              switch (_context2.prev = _context2.next) {\n                case 0:\n                  setAuctionStatus(\"RUNNING\");\n                  console.log(\"player change\");\n                  userBalance = [];\n                  role = newPlayerDetails.role, Team = newPlayerDetails.Team, battingStyle = newPlayerDetails.battingStyle, bowlingStyle = newPlayerDetails.bowlingStyle, pid = newPlayerDetails.pid, fullName = newPlayerDetails.fullName; // first set PID so that display is better\n\n                  setPid(pid); // console.log(balanceDetails);\n\n                  if (localStorage.getItem(\"admin\") === \"false\") {\n                    userBalance = balanceDetails.filter(function (balance) {\n                      return balance.uid === parseInt(localStorage.getItem(\"uid\"), 10);\n                    });\n                  } else {\n                    userBalance = balanceDetails;\n                  }\n\n                  setAuctionTableData(userBalance); // console.log(userBalance);\n\n                  setRole(role);\n                  setTeam(Team);\n                  setBattingStyle(battingStyle);\n                  setBowlingStyle(bowlingStyle);\n                  setPlayerName(fullName);\n                  console.log(\"New player is \".concat(pid));\n                  setPlayerImage(\"\".concat(process.env.PUBLIC_URL, \"/\").concat(pid, \".JPG\"));\n\n                case 14:\n                case \"end\":\n                  return _context2.stop();\n              }\n            }\n          }, _callee2);\n        }));\n\n        return function (_x, _x2) {\n          return _ref2.apply(this, arguments);\n        };\n      }());\n    });\n\n    var a = /*#__PURE__*/function () {\n      var _ref3 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee3() {\n        var response;\n        return _regeneratorRuntime.wrap(function _callee3$(_context3) {\n          while (1) {\n            switch (_context3.prev = _context3.next) {\n              case 0:\n                _context3.next = 2;\n                return axios.get(\"/group/getauctionstatus/\".concat(localStorage.getItem(\"gid\")));\n\n              case 2:\n                response = _context3.sent;\n                console.log(response.data);\n                setAuctionStatus(response.data);\n\n                if (!(response.data === \"RUNNING\")) {\n                  _context3.next = 8;\n                  break;\n                }\n\n                _context3.next = 8;\n                return startAuction(response.data);\n\n              case 8:\n              case \"end\":\n                return _context3.stop();\n            }\n          }\n        }, _callee3);\n      }));\n\n      return function a() {\n        return _ref3.apply(this, arguments);\n      };\n    }();\n\n    a();\n    return function () {\n      // componentwillunmount in functional component.\n      // Anything in here is fired on component unmount.\n      leavingAuction(sockConn);\n    };\n  }, []);\n\n  var startAuction = /*#__PURE__*/function () {\n    var _ref4 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee4(status) {\n      var response, _response;\n\n      return _regeneratorRuntime.wrap(function _callee4$(_context4) {\n        while (1) {\n          switch (_context4.prev = _context4.next) {\n            case 0:\n              if (!(status === \"PENDING\")) {\n                _context4.next = 7;\n                break;\n              }\n\n              _context4.next = 3;\n              return axios.get(\"/group/setauctionstatus/\".concat(localStorage.getItem(\"gid\"), \"/RUNNING\"));\n\n            case 3:\n              response = _context4.sent;\n\n              if (response.data) {\n                setAuctionStatus(\"RUNNING\");\n              }\n\n              _context4.next = 11;\n              break;\n\n            case 7:\n              if (!(status === \"RUNNING\")) {\n                _context4.next = 11;\n                break;\n              }\n\n              _context4.next = 10;\n              return axios.get(\"/group/getauctionplayer/\".concat(localStorage.getItem(\"gid\")));\n\n            case 10:\n              _response = _context4.sent;\n\n            case 11:\n            case \"end\":\n              return _context4.stop();\n          }\n        }\n      }, _callee4);\n    }));\n\n    return function startAuction(_x3) {\n      return _ref4.apply(this, arguments);\n    };\n  }();\n\n  var handleOwnerChange = function handleOwnerChange(event) {\n    setSelectedOwner(event.target.value);\n  };\n\n  function sellPlayer() {\n    return _sellPlayer.apply(this, arguments);\n  }\n\n  function _sellPlayer() {\n    _sellPlayer = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee5() {\n      var amount, response, msg, balance;\n      return _regeneratorRuntime.wrap(function _callee5$(_context5) {\n        while (1) {\n          switch (_context5.prev = _context5.next) {\n            case 0:\n              amount = document.getElementById(\"standard-required\").value;\n              console.log(amount);\n              _context5.next = 4;\n              return fetch(\"/auction/add/\".concat(localStorage.getItem(\"gid\"), \"/\").concat(selectedOwner, \"/\").concat(pid, \"/\").concat(bidAmount));\n\n            case 4:\n              response = _context5.sent;\n              _context5.t0 = response.status;\n              _context5.next = _context5.t0 === 707 ? 8 : _context5.t0 === 706 ? 10 : _context5.t0 === 704 ? 12 : _context5.t0 === 708 ? 14 : _context5.t0 === 200 ? 16 : 18;\n              break;\n\n            case 8:\n              msg = \"Already Purchased\";\n              return _context5.abrupt(\"break\", 20);\n\n            case 10:\n              msg = \"User does not belong to this group\";\n              return _context5.abrupt(\"break\", 20);\n\n            case 12:\n              msg = \"Invalid Player\";\n              return _context5.abrupt(\"break\", 20);\n\n            case 14:\n              msg = \"Insufficient Balance\";\n              return _context5.abrupt(\"break\", 20);\n\n            case 16:\n              msg = \"Sold\";\n              return _context5.abrupt(\"break\", 20);\n\n            case 18:\n              msg = \"unknown error \".concat(response.status);\n              return _context5.abrupt(\"break\", 20);\n\n            case 20:\n              setPlayerStatus(msg);\n\n              if (!(response.status === 200)) {\n                _context5.next = 26;\n                break;\n              }\n\n              _context5.next = 24;\n              return axios.get(\"/user/balance/\".concat(localStorage.getItem(\"gid\"), \"/all\"));\n\n            case 24:\n              balance = _context5.sent;\n              setAuctionTableData(balance.data);\n\n            case 26:\n              setConfirmDialogOpen(false);\n              setBackDropOpen(true);\n\n            case 28:\n            case \"end\":\n              return _context5.stop();\n          }\n        }\n      }, _callee5);\n    }));\n    return _sellPlayer.apply(this, arguments);\n  }\n\n  function skipPlayer() {\n    return _skipPlayer.apply(this, arguments);\n  }\n\n  function _skipPlayer() {\n    _skipPlayer = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee6() {\n      return _regeneratorRuntime.wrap(function _callee6$(_context6) {\n        while (1) {\n          switch (_context6.prev = _context6.next) {\n            case 0:\n              _context6.next = 2;\n              return fetch(\"/auction/skip/\".concat(localStorage.getItem(\"gid\"), \"/\").concat(pid));\n\n            case 2:\n            case \"end\":\n              return _context6.stop();\n          }\n        }\n      }, _callee6);\n    }));\n    return _skipPlayer.apply(this, arguments);\n  }\n\n  function AdminAuction() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: classes.root,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 268,\n        columnNumber: 16\n      }\n    }, /*#__PURE__*/React.createElement(Grid, {\n      container: true,\n      justify: \"center\",\n      alignItems: \"center\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 269,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(ShowGroupName, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 270,\n        columnNumber: 17\n      }\n    }), /*#__PURE__*/React.createElement(GridItem, {\n      xs: 12,\n      sm: 12,\n      md: 12,\n      lg: 12,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 271,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(ShowPlayerAvatar, {\n      pName: playerName,\n      pImage: playerImage,\n      pTeamLogo: team,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 272,\n        columnNumber: 21\n      }\n    }), /*#__PURE__*/React.createElement(ShowAdminButtons, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 273,\n        columnNumber: 21\n      }\n    }))), /*#__PURE__*/React.createElement(ShowBalance, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 276,\n        columnNumber: 13\n      }\n    }), /*#__PURE__*/React.createElement(ShowDialog, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 277,\n        columnNumber: 13\n      }\n    }), /*#__PURE__*/React.createElement(Drawer, {\n      variant: \"persistent\",\n      anchor: \"right\",\n      open: open,\n      classes: {\n        paper: classes.drawerPaper\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 278,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(IconButton, {\n      onClick: handleDrawerClose,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 286,\n        columnNumber: 17\n      }\n    }, theme.direction === 'rtl' ? /*#__PURE__*/React.createElement(ChevronLeftIcon, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 287,\n        columnNumber: 50\n      }\n    }) : /*#__PURE__*/React.createElement(ChevronRightIcon, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 287,\n        columnNumber: 72\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 289,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(FormControl, {\n      className: classes.formControl,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 290,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(SelctNewOwner, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 291,\n        columnNumber: 21\n      }\n    })), /*#__PURE__*/React.createElement(Input, {\n      key: \"hi\",\n      id: \"standard-required\",\n      label: \"Bid Amount\",\n      type: \"number\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 294,\n        columnNumber: 21\n      }\n    }), /*#__PURE__*/React.createElement(Button, {\n      variant: \"contained\",\n      color: \"secondary\",\n      size: \"small\",\n      className: classes.button,\n      startIcon: /*#__PURE__*/React.createElement(DoneIcon, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 300,\n          columnNumber: 36\n        }\n      }),\n      onClick: function onClick() {\n        setBidAmount(document.getElementById(\"standard-required\").value);\n        setConfirmDialogOpen(true);\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 295,\n        columnNumber: 21\n      }\n    }, \"Confirm\"))), /*#__PURE__*/React.createElement(Dialog, {\n      open: confirmDialogOpen,\n      onClose: handleModalClose,\n      \"aria-labelledby\": \"alert-dialog-title\",\n      \"aria-describedby\": \"alert-dialog-description\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 308,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(DialogTitle, {\n      id: \"alert-dialog-title\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 314,\n        columnNumber: 17\n      }\n    }, \"Are you sure you want to sell \".concat(playerName, \" in \").concat(bidAmount)), /*#__PURE__*/React.createElement(DialogActions, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 316,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(Button, {\n      onClick: handleModalClose,\n      color: \"primary\",\n      autoFocus: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 318,\n        columnNumber: 21\n      }\n    }, \"Cancel\"), /*#__PURE__*/React.createElement(Button, {\n      onClick: sellPlayer,\n      color: \"primary\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 321,\n        columnNumber: 21\n      }\n    }, \"Sell\"))));\n  }\n\n  function AdminPending() {\n    return /*#__PURE__*/React.createElement(Button, {\n      variant: \"contained\",\n      color: \"secondary\",\n      size: \"small\",\n      className: classes.button,\n      startIcon: /*#__PURE__*/React.createElement(NavigateBeforeIcon, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 334,\n          columnNumber: 24\n        }\n      }),\n      onClick: function onClick() {\n        return startAuction(\"PENDING\");\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 330,\n        columnNumber: 16\n      }\n    }, \"Start Auction\");\n  }\n\n  function UserAuctionPending() {\n    return auctionStatus === \"PENDING\" ? /*#__PURE__*/React.createElement(Typography, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 340,\n        columnNumber: 43\n      }\n    }, \"Auction has not been started by Admin! \", /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 340,\n        columnNumber: 94\n      }\n    }), \" Auction is Coming !!\") : /*#__PURE__*/React.createElement(Typography, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 340,\n        columnNumber: 135\n      }\n    }, \"Auction has ended\");\n  }\n\n  function ShowPlayerAvatar(props) {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      key: \"playerInfo\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 345,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(Card, {\n      profile: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 346,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(CardAvatar, {\n      profile: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 347,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"img\", {\n      src: props.pImage,\n      alt: \"...\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 348,\n        columnNumber: 25\n      }\n    })), /*#__PURE__*/React.createElement(CardBody, {\n      profile: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 350,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"h5\", {\n      className: classes.cardTitle,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 351,\n        columnNumber: 25\n      }\n    }, props.pName), /*#__PURE__*/React.createElement(Grid, {\n      container: true,\n      justify: \"center\",\n      alignItems: \"center\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 352,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(Avatar, {\n      variant: \"square\",\n      src: \"\".concat(process.env.PUBLIC_URL, \"/\").concat(props.pTeamLogo, \".JPG\"),\n      className: classes.medium,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 353,\n        columnNumber: 29\n      }\n    }), /*#__PURE__*/React.createElement(\"h6\", {\n      className: classes.playerinfo,\n      align: \"left\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 355,\n        columnNumber: 25\n      }\n    }, role, /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 356,\n        columnNumber: 35\n      }\n    }), battingStyle, /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 357,\n        columnNumber: 43\n      }\n    }), bowlingStyle)))));\n  }\n\n  function ShowBalance() {\n    return /*#__PURE__*/React.createElement(Table, {\n      tableHeaderColor: \"warning\",\n      tableHead: [\"Owner\", \"Player Count\", \"Balance\"],\n      tableData: AuctionTableData.map(function (x) {\n        var arr = [x.userName, x.playerCount, x.balance];\n        return {\n          data: arr,\n          collapse: []\n        };\n      }),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 370,\n        columnNumber: 13\n      }\n    });\n  }\n\n  function ShowAdminButtons() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      align: \"center\",\n      key: \"playerAuctionButton\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 381,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(Button, {\n      variant: \"contained\",\n      color: \"secondary\",\n      size: \"small\",\n      className: classes.button,\n      startIcon: /*#__PURE__*/React.createElement(CheckSharpIcon, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 387,\n          columnNumber: 28\n        }\n      }),\n      onClick: function onClick() {\n        setOpen(true);\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 382,\n        columnNumber: 13\n      }\n    }, \"SOLD\"), /*#__PURE__*/React.createElement(Button, {\n      variant: \"contained\",\n      color: \"secondary\",\n      size: \"small\",\n      className: classes.button,\n      startIcon: /*#__PURE__*/React.createElement(ClearSharpIcon, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 396,\n          columnNumber: 28\n        }\n      }),\n      onClick: function onClick() {\n        return skipPlayer();\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 391,\n        columnNumber: 13\n      }\n    }, \"UNSOLD\"));\n  }\n\n  function ShowDialog() {\n    return /*#__PURE__*/React.createElement(Dialog, {\n      \"aria-labelledby\": \"simple-dialog-title\",\n      open: backDropOpen,\n      onClose: function onClose() {\n        return setBackDropOpen(false);\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 406,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(DialogTitle, {\n      id: \"simple-dialog-title\",\n      className: classes.sold,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 408,\n        columnNumber: 13\n      }\n    }, playerStatus));\n  }\n\n  function SelctNewOwner() {\n    var _this = this;\n\n    return /*#__PURE__*/React.createElement(Select, {\n      labelId: \"demo-simple-select-label\",\n      id: \"demo-simple-select\",\n      value: selectedOwner,\n      displayEmpty: true,\n      onChange: handleOwnerChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 415,\n        columnNumber: 9\n      }\n    }, AuctionTableData.map(function (item) {\n      return /*#__PURE__*/React.createElement(MenuItem, {\n        key: item.uid,\n        value: item.uid,\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 419,\n          columnNumber: 43\n        }\n      }, item.userName);\n    }));\n  }\n\n  function ShowGroupName() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 425,\n        columnNumber: 16\n      }\n    }, /*#__PURE__*/React.createElement(\"h3\", {\n      align: \"center\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 425,\n        columnNumber: 21\n      }\n    }, \"Auction (\", localStorage.getItem(\"groupName\"), \")\"), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 425,\n        columnNumber: 90\n      }\n    }));\n  }\n\n  function UserAuction() {\n    return /*#__PURE__*/React.createElement(Grid, {\n      container: true,\n      justify: \"center\",\n      alignItems: \"center\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 430,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(ShowGroupName, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 431,\n        columnNumber: 9\n      }\n    }), /*#__PURE__*/React.createElement(GridItem, {\n      xs: 12,\n      sm: 12,\n      md: 4,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 432,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(ShowPlayerAvatar, {\n      pName: playerName,\n      pImage: playerImage,\n      pTeamLogo: team,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 433,\n        columnNumber: 13\n      }\n    }), /*#__PURE__*/React.createElement(ShowBalance, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 434,\n        columnNumber: 13\n      }\n    })));\n  }\n\n  return (// <DisplayAuction/>\n    auctionStatus === \"PENDING\" || auctionStatus === \"OVER\" ? localStorage.getItem(\"admin\") === \"true\" ? /*#__PURE__*/React.createElement(AdminPending, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 442,\n        columnNumber: 111\n      }\n    }) : /*#__PURE__*/React.createElement(UserAuctionPending, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 442,\n        columnNumber: 130\n      }\n    }) : localStorage.getItem(\"admin\") === \"true\" ? /*#__PURE__*/React.createElement(AdminAuction, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 442,\n        columnNumber: 198\n      }\n    }) : /*#__PURE__*/React.createElement(UserAuction, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 442,\n        columnNumber: 217\n      }\n    })\n  );\n}","map":{"version":3,"sources":["D:/projects/Cricket/akshu close/IPL/material-dashboard-react-master/src/views/Auction/Auction.js"],"names":["React","useEffect","useState","useContext","axios","makeStyles","useTheme","DialogTitle","Dialog","MenuItem","FormControl","DoneIcon","Typography","NavigateBeforeIcon","NavigateNextIcon","Select","Table","Grid","Button","DialogActions","DialogContent","DialogContentText","GridItem","Drawer","ChevronLeftIcon","ChevronRightIcon","IconButton","CheckSharpIcon","ClearSharpIcon","Avatar","Card","CardAvatar","CardBody","Input","UserContext","socketIOClient","ENDPOINT","drawerWidth","useStyles","theme","margin","spacing","image","height","container","backgroundImage","backgroundSize","drawer","width","flexShrink","drawerPaper","drawerHeader","display","alignItems","padding","mixins","toolbar","justifyContent","sold","color","cardCategoryWhite","fontSize","marginTop","marginBottom","cardTitleWhite","minHeight","fontWeight","fontFamily","textDecoration","large","medium","playerinfo","leavingAuction","myConn","console","log","disconnect","Auction","window","onbeforeunload","setUser","user","classes","auctionStatus","setAuctionStatus","playerName","setPlayerName","playerImage","setPlayerImage","team","setTeam","role","setRole","battingStyle","setBattingStyle","bowlingStyle","setBowlingStyle","open","setOpen","bidAmount","setBidAmount","confirmDialogOpen","setConfirmDialogOpen","pid","setPid","selectedOwner","setSelectedOwner","backDropOpen","setBackDropOpen","playerStatus","setPlayerStatus","AuctionTableData","setAuctionTableData","handleDrawerClose","handleModalClose","sendMessage","page","gid","localStorage","getItem","uid","makeconnection","sockConn","connect","emit","on","newPlayerDetails","balanceDetails","userBalance","Team","fullName","filter","balance","parseInt","process","env","PUBLIC_URL","a","get","response","data","startAuction","status","handleOwnerChange","event","target","value","sellPlayer","amount","document","getElementById","fetch","msg","skipPlayer","AdminAuction","root","paper","direction","formControl","button","AdminPending","UserAuctionPending","ShowPlayerAvatar","props","pImage","cardTitle","pName","pTeamLogo","ShowBalance","map","x","arr","userName","playerCount","collapse","ShowAdminButtons","ShowDialog","SelctNewOwner","item","ShowGroupName","UserAuction"],"mappings":"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","sourcesContent":["import React, { useEffect, useState, useContext } from 'react';\r\nimport axios from \"axios\";\r\nimport { makeStyles, useTheme } from '@material-ui/core/styles';\r\nimport DialogTitle from '@material-ui/core/DialogTitle';\r\nimport Dialog from '@material-ui/core/Dialog';\r\n\r\n\r\nimport MenuItem from '@material-ui/core/MenuItem';\r\n\r\nimport FormControl from '@material-ui/core/FormControl';\r\n\r\n\r\nimport DoneIcon from '@material-ui/icons/Done';\r\n\r\nimport Typography from '@material-ui/core/Typography';\r\n\r\nimport NavigateBeforeIcon from '@material-ui/icons/NavigateBefore';\r\nimport NavigateNextIcon from '@material-ui/icons/NavigateNext';\r\n//import Container from \"@material-ui/core/Container\";\r\n\r\nimport Select from \"@material-ui/core/Select\";\r\nimport Table from \"components/Table/Table.js\";\r\nimport Grid from \"@material-ui/core/Grid\";\r\nimport Button from '@material-ui/core/Button';\r\n\r\nimport DialogActions from '@material-ui/core/DialogActions';\r\nimport DialogContent from '@material-ui/core/DialogContent';\r\nimport DialogContentText from '@material-ui/core/DialogContentText';\r\n\r\n\r\nimport GridItem from \"components/Grid/GridItem.js\";\r\n\r\nimport Drawer from '@material-ui/core/Drawer';\r\nimport ChevronLeftIcon from '@material-ui/icons/ChevronLeft';\r\nimport ChevronRightIcon from '@material-ui/icons/ChevronRight';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport CheckSharpIcon from '@material-ui/icons/CheckSharp';\r\nimport ClearSharpIcon from '@material-ui/icons/ClearSharp';\r\nimport Avatar from \"@material-ui/core/Avatar\"\r\n\r\n\r\nimport Card from \"components/Card/Card.js\";\r\nimport CardAvatar from \"components/Card/CardAvatar.js\";\r\nimport CardBody from \"components/Card/CardBody.js\";\r\n\r\n\r\n\r\nimport Input from '@material-ui/core/Input';\r\n\r\n\r\nimport { UserContext } from \"../../UserContext\";\r\n\r\nimport socketIOClient from \"socket.io-client\";\r\n\r\n// const ENDPOINT = \"https://happy-home-ipl-2020.herokuapp.com/\";\r\nconst ENDPOINT = \"http://localhost:4000\";\r\nconst drawerWidth = 100;\r\nconst useStyles = makeStyles((theme) => ({\r\n    margin: {\r\n        margin: theme.spacing(1),\r\n    },\r\n    image: {\r\n        height: \"200px\"\r\n    },\r\n    container: {\r\n        backgroundImage: \"url(\\\"./sample.JPG\\\")\",\r\n        backgroundSize: 'cover'\r\n    }, drawer: {\r\n        width: drawerWidth,\r\n        flexShrink: 0,\r\n    },\r\n    drawerPaper: {\r\n        width: drawerWidth,\r\n    },\r\n    drawerHeader: {\r\n        display: 'flex',\r\n        alignItems: 'center',\r\n        padding: theme.spacing(0, 1),\r\n        // necessary for content to be below app bar\r\n        ...theme.mixins.toolbar,\r\n        justifyContent: 'flex-start',\r\n    },\r\n    sold: {\r\n        color: \"green\"\r\n    }, \r\n    cardCategoryWhite: {\r\n        color: \"rgba(255,255,255,.62)\",\r\n        margin: \"0\",\r\n        fontSize: \"14px\",\r\n        marginTop: \"0\",\r\n        marginBottom: \"0\"\r\n    },\r\n    cardTitleWhite: {\r\n        color: \"#FFFFFF\",\r\n        marginTop: \"0px\",\r\n        minHeight: \"auto\",\r\n        fontWeight: \"300\",\r\n        fontFamily: \"'Roboto', 'Helvetica', 'Arial', sans-serif\",\r\n        marginBottom: \"3px\",\r\n        textDecoration: \"none\"\r\n    }, \r\n    large: {\r\n        width: theme.spacing(12),\r\n        height: theme.spacing(12),\r\n    },\r\n    medium: {\r\n        width: theme.spacing(9),\r\n        height: theme.spacing(9),\r\n    },\r\n    playerinfo: {\r\n        display: 'flex',\r\n        alignItems: 'left',\r\n        padding: theme.spacing(3, 0),\r\n        justifyContent: 'flex-start',\r\n    },\r\n}));\r\n\r\n\r\nfunction leavingAuction(myConn) {\r\n    console.log(\"Leaving Auction wah wah \");\r\n    myConn.disconnect();\r\n  }\r\n  \r\n  \r\n\r\nexport default function Auction() {\r\n\r\n    window.onbeforeunload = () => setUser(null)\r\n\r\n    const { user, setUser } = useContext(UserContext);\r\n    const classes = useStyles();\r\n    const theme = useTheme();\r\n    const [auctionStatus, setAuctionStatus] = useState(\"\");\r\n    const [playerName, setPlayerName] = useState(\"\");\r\n    const [playerImage, setPlayerImage] = useState(\"\");\r\n    const [team, setTeam] = useState(\"\");\r\n    const [role, setRole] = useState(\"\");\r\n    const [battingStyle, setBattingStyle] = useState(\"\");\r\n    const [bowlingStyle, setBowlingStyle] = useState(\"\");\r\n    const [open, setOpen] = useState(false);\r\n\r\n    const [bidAmount, setBidAmount] = useState();\r\n\r\n    const [confirmDialogOpen, setConfirmDialogOpen] = useState(false)\r\n    const [pid, setPid] = useState();\r\n    const [selectedOwner, setSelectedOwner] = useState(null);\r\n\r\n    const [backDropOpen, setBackDropOpen] = useState(false);\r\n    const [playerStatus, setPlayerStatus] = useState();\r\n    const [AuctionTableData, setAuctionTableData] = useState([]);\r\n\r\n\r\n    const handleDrawerClose = () => {\r\n        setOpen(false);\r\n    };\r\n\r\n\r\n\r\n    const handleModalClose = () => {\r\n        setConfirmDialogOpen(false);\r\n    };\r\n\r\n    useEffect(() => {\r\n        var sendMessage = {page: \"AUCT\", gid: localStorage.getItem(\"gid\"), uid: localStorage.getItem(\"uid\") };\r\n\r\n        \r\n        const makeconnection = async () => {\r\n          await sockConn.connect();\r\n          sockConn.emit(\"page\", sendMessage);\r\n        }\r\n    \r\n        var sockConn = socketIOClient(ENDPOINT);\r\n        console.log(\"in dashboard before make connection\");\r\n        makeconnection();\r\n        // console.log(\"in dashboard after make connection\");\r\n        sockConn.on(\"connect\", () => {\r\n            console.log(\"client connected\");\r\n            sockConn.emit(\"page\", sendMessage);\r\n            sockConn.on(\"playerChange\", async (newPlayerDetails, balanceDetails) => {\r\n                setAuctionStatus(\"RUNNING\");\r\n                console.log(\"player change\")\r\n                let userBalance = [];\r\n                const { role, Team, battingStyle, bowlingStyle, pid, fullName } = newPlayerDetails;\r\n                // first set PID so that display is better\r\n                setPid(pid)\r\n                // console.log(balanceDetails);\r\n                if (localStorage.getItem(\"admin\") === \"false\") {\r\n                    userBalance = balanceDetails.filter(balance => balance.uid === parseInt(localStorage.getItem(\"uid\"), 10))\r\n                }\r\n                else {\r\n                    userBalance = balanceDetails\r\n                }\r\n                setAuctionTableData(userBalance);\r\n                // console.log(userBalance);\r\n                setRole(role)\r\n                setTeam(Team)\r\n                setBattingStyle(battingStyle)\r\n                setBowlingStyle(bowlingStyle)\r\n                setPlayerName(fullName)\r\n                console.log(`New player is ${pid}`)\r\n                setPlayerImage(`${process.env.PUBLIC_URL}/${pid}.JPG`);\r\n            });\r\n        })\r\n\r\n        const a = async () => {\r\n            const response = await axios.get(`/group/getauctionstatus/${localStorage.getItem(\"gid\")}`);\r\n            console.log(response.data)\r\n            setAuctionStatus(response.data);\r\n\r\n            if (response.data === \"RUNNING\") {\r\n                await startAuction(response.data);\r\n            }\r\n\r\n        }\r\n        a();\r\n        return () => {\r\n            // componentwillunmount in functional component.\r\n            // Anything in here is fired on component unmount.\r\n            leavingAuction(sockConn);\r\n        }\r\n    }, []);\r\n\r\n\r\n    const startAuction = async (status) => {\r\n        if (status === \"PENDING\") {\r\n            const response = await axios.get(`/group/setauctionstatus/${localStorage.getItem(\"gid\")}/RUNNING`);\r\n            if (response.data) {\r\n                setAuctionStatus(\"RUNNING\");\r\n            }\r\n        } else if (status === \"RUNNING\") {\r\n            const response = await axios.get(`/group/getauctionplayer/${localStorage.getItem(\"gid\")}`);\r\n            // console.log(response);\r\n        }\r\n    }\r\n\r\n    const handleOwnerChange = (event) => {\r\n        setSelectedOwner(event.target.value);\r\n    };\r\n\r\n\r\n    async function sellPlayer() {\r\n        const amount = document.getElementById(\"standard-required\").value;\r\n        console.log(amount);\r\n        let response = await fetch(`/auction/add/${localStorage.getItem(\"gid\")}/${selectedOwner}/${pid}/${bidAmount}`);\r\n        var msg;\r\n        switch (response.status) { \r\n            case 707: msg = \"Already Purchased\"; break;\r\n            case 706: msg = \"User does not belong to this group\"; break;\r\n            case 704: msg = \"Invalid Player\"; break;\r\n            case 708: msg = \"Insufficient Balance\"; break;\r\n            case 200: msg = \"Sold\"; break;\r\n            default:  msg = `unknown error ${response.status}`; break;\r\n        }\r\n        setPlayerStatus(msg);\r\n        if (response.status === 200) {\r\n            const balance = await axios.get(`/user/balance/${localStorage.getItem(\"gid\")}/all`);\r\n            setAuctionTableData(balance.data);\r\n        }\r\n        setConfirmDialogOpen(false);\r\n        setBackDropOpen(true);\r\n    }\r\n\r\n    async function skipPlayer() {\r\n        await fetch(`/auction/skip/${localStorage.getItem(\"gid\")}/${pid}`);\r\n    }\r\n\r\n    function AdminAuction() {\r\n        return <div className={classes.root}>\r\n            <Grid container justify=\"center\" alignItems=\"center\" >\r\n                <ShowGroupName/>\r\n                <GridItem xs={12} sm={12} md={12} lg={12} >\r\n                    <ShowPlayerAvatar pName={playerName} pImage={playerImage} pTeamLogo={team} /> \r\n                    <ShowAdminButtons/>\r\n                </GridItem>\r\n            </Grid>\r\n            <ShowBalance/>\r\n            <ShowDialog/>\r\n            <Drawer\r\n                variant=\"persistent\"\r\n                anchor=\"right\"\r\n                open={open}\r\n                classes={{\r\n                    paper: classes.drawerPaper,\r\n                }}\r\n            >\r\n                <IconButton onClick={handleDrawerClose}>\r\n                    {theme.direction === 'rtl' ? <ChevronLeftIcon /> : <ChevronRightIcon />}\r\n                </IconButton>\r\n                <div>\r\n                    <FormControl className={classes.formControl}>\r\n                    <SelctNewOwner/>\r\n\r\n                    </FormControl>\r\n                    <Input key=\"hi\" id=\"standard-required\" label=\"Bid Amount\" type=\"number\" />\r\n                    <Button\r\n                        variant=\"contained\"\r\n                        color=\"secondary\"\r\n                        size=\"small\"\r\n                        className={classes.button}\r\n                        startIcon={<DoneIcon />}\r\n                        onClick={() => { setBidAmount(document.getElementById(\"standard-required\").value); setConfirmDialogOpen(true) }}>\r\n                        Confirm\r\n</Button>\r\n                </div>\r\n\r\n            </Drawer>\r\n\r\n            <Dialog\r\n                open={confirmDialogOpen}\r\n                onClose={handleModalClose}\r\n                aria-labelledby=\"alert-dialog-title\"\r\n                aria-describedby=\"alert-dialog-description\"\r\n            >\r\n                <DialogTitle id=\"alert-dialog-title\">{`Are you sure you want to sell ${playerName} in ${bidAmount}`}</DialogTitle>\r\n\r\n                <DialogActions>\r\n\r\n                    <Button onClick={handleModalClose} color=\"primary\" autoFocus>\r\n                        Cancel\r\n          </Button>\r\n                    <Button onClick={sellPlayer} color=\"primary\">\r\n                        Sell\r\n          </Button>\r\n                </DialogActions>\r\n            </Dialog>\r\n        </div>\r\n    }\r\n\r\n    function AdminPending() {\r\n        return <Button variant=\"contained\"\r\n            color=\"secondary\"\r\n            size=\"small\"\r\n            className={classes.button}\r\n            startIcon={<NavigateBeforeIcon />}\r\n            onClick={() => startAuction(\"PENDING\")}>Start Auction</Button>\r\n    }\r\n\r\n    function UserAuctionPending() {\r\n        \r\n        return auctionStatus===\"PENDING\"? <Typography>Auction has not been started by Admin! <br /> Auction is Coming !!</Typography>:<Typography>Auction has ended</Typography>\r\n    }\r\n\r\n    function ShowPlayerAvatar(props) {\r\n        return (\r\n            <div key=\"playerInfo\">\r\n                <Card profile>\r\n                    <CardAvatar profile>\r\n                        <img src={props.pImage} alt=\"...\" />\r\n                    </CardAvatar>\r\n                    <CardBody profile>\r\n                        <h5 className={classes.cardTitle}>{props.pName}</h5>\r\n                        <Grid container justify=\"center\" alignItems=\"center\">\r\n                            <Avatar variant=\"square\" src={`${process.env.PUBLIC_URL}/${props.pTeamLogo}.JPG`} className={classes.medium} />\r\n                        {/* <h4 className={classes.cardCategory}>{role}</h4> */}\r\n                        <h6 className={classes.playerinfo} align=\"left\">\r\n                            {role}<br/>\r\n                            {battingStyle}<br />\r\n                            {bowlingStyle}\r\n                        </h6>\r\n                        </Grid>\r\n                    </CardBody>\r\n                </Card>\r\n            </div>\r\n        );\r\n\r\n    }\r\n\r\n    function ShowBalance() {\r\n        return (\r\n            <Table tableHeaderColor=\"warning\"\r\n                tableHead={[\"Owner\", \"Player Count\", \"Balance\"]}\r\n                tableData={AuctionTableData.map(x => {\r\n                    const arr = [x.userName, x.playerCount, x.balance]\r\n                    return { data: arr, collapse: [] }\r\n                })}/>\r\n        );\r\n    }\r\n\r\n    function ShowAdminButtons() {\r\n        return(\r\n        <div align=\"center\" key=\"playerAuctionButton\">\r\n            <Button\r\n                variant=\"contained\"\r\n                color=\"secondary\"\r\n                size=\"small\"\r\n                className={classes.button}\r\n                startIcon={<CheckSharpIcon />}\r\n                onClick={() => { setOpen(true); }}>\r\n                SOLD\r\n            </Button>\r\n            <Button\r\n                variant=\"contained\"\r\n                color=\"secondary\"\r\n                size=\"small\"\r\n                className={classes.button}\r\n                startIcon={<ClearSharpIcon />}\r\n                onClick={() => skipPlayer()}>\r\n                UNSOLD\r\n            </Button>\r\n        </div>\r\n        );\r\n    }\r\n\r\n    function ShowDialog() {\r\n        return (\r\n        <Dialog aria-labelledby=\"simple-dialog-title\" open={backDropOpen}\r\n            onClose={() => setBackDropOpen(false)} >\r\n            <DialogTitle id=\"simple-dialog-title\" className={classes.sold}>{playerStatus}</DialogTitle>\r\n        </Dialog>\r\n        );\r\n    }\r\n\r\n    function SelctNewOwner() {\r\n        return (\r\n        <Select labelId=\"demo-simple-select-label\" id=\"demo-simple-select\"\r\n            value={selectedOwner}\r\n            displayEmpty\r\n            onChange={handleOwnerChange}>\r\n            {AuctionTableData.map(item => <MenuItem key={item.uid} value={item.uid}>{item.userName}</MenuItem>)}\r\n        </Select>\r\n        );\r\n    }\r\n\r\n    function ShowGroupName() {\r\n        return(<div><h3 align=\"center\">Auction ({localStorage.getItem(\"groupName\")})</h3><br/></div>);\r\n    }\r\n\r\n    function UserAuction() {\r\n        return (\r\n        <Grid container justify=\"center\" alignItems=\"center\" >\r\n        <ShowGroupName/>\r\n        <GridItem xs={12} sm={12} md={4} >\r\n            <ShowPlayerAvatar pName={playerName} pImage={playerImage} pTeamLogo={team} /> \r\n            <ShowBalance/>\r\n        </GridItem>\r\n        </Grid>\r\n        );\r\n    }\r\n    \r\n    return (\r\n        // <DisplayAuction/>\r\n       ( auctionStatus === \"PENDING\"||  auctionStatus === \"OVER\")? localStorage.getItem(\"admin\") === \"true\" ? <AdminPending /> : <UserAuctionPending /> : localStorage.getItem(\"admin\") === \"true\" ? <AdminAuction /> : <UserAuction />\r\n    );\r\n}\r\n"]},"metadata":{},"sourceType":"module"}