{"ast":null,"code":"import _regeneratorRuntime from \"D:/projects/Cricket/akshu close/IPL/material-dashboard-react-master/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"D:/projects/Cricket/akshu close/IPL/material-dashboard-react-master/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _slicedToArray from \"D:/projects/Cricket/akshu close/IPL/material-dashboard-react-master/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\n\nvar _jsxFileName = \"D:\\\\projects\\\\Cricket\\\\akshu close\\\\IPL\\\\material-dashboard-react-master\\\\src\\\\views\\\\Statistics\\\\Statistics.js\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useState } from 'react'; // import axios from \"axios\";\n\nimport Grid from \"@material-ui/core/Grid\";\nimport Table from \"components/Table/Table.js\";\nimport GridItem from \"components/Grid/GridItem.js\"; // import Card from \"components/Card/Card.js\";\n// import CardBody from \"components/Card/CardBody.js\";\n\nimport Accordion from '@material-ui/core/Accordion';\nimport AccordionSummary from '@material-ui/core/AccordionSummary';\nimport AccordionDetails from '@material-ui/core/AccordionDetails';\nimport Typography from '@material-ui/core/Typography';\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore';\nimport { makeStyles } from '@material-ui/core/styles'; // import styles from \"assets/jss/material-dashboard-react/views/dashboardStyle.js\";\n\nimport socketIOClient from \"socket.io-client\";\nimport NoGroup from 'CustomComponents/NoGroup.js'; // const ENDPOINT = \"https://happy-home-ipl-2020.herokuapp.com/\";\n\nvar ENDPOINT = \"http://localhost:4000\";\nvar useStyles = makeStyles(function (theme) {\n  return {\n    root: {\n      width: '100%'\n    },\n    heading: {\n      fontSize: theme.typography.pxToRem(15),\n      fontWeight: theme.typography.fontWeightRegular\n    }\n  };\n});\n\nfunction leavingStatistics(myConn) {\n  console.log(\"Leaving Statistics wah wah \");\n  myConn.disconnect();\n}\n\nexport default function Stats() {\n  _s();\n\n  var classes = useStyles();\n\n  var _useState = useState([]),\n      _useState2 = _slicedToArray(_useState, 2),\n      teamArray = _useState2[0],\n      setTeamArray = _useState2[1]; // axios.get(`/stat/sendmystat/${localStorage.getItem(\"gid\")}`);\n\n\n  useEffect(function () {\n    var makeconnection = /*#__PURE__*/function () {\n      var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n        return _regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                _context.next = 2;\n                return socket.connect();\n\n              case 2:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee);\n      }));\n\n      return function makeconnection() {\n        return _ref.apply(this, arguments);\n      };\n    }();\n\n    var socket = socketIOClient(ENDPOINT);\n    makeconnection();\n    socket.on(\"connect\", function () {\n      var sendMessage = {\n        page: \"STAT\",\n        gid: localStorage.getItem(\"gid\"),\n        uid: localStorage.getItem(\"uid\")\n      };\n      socket.emit(\"page\", sendMessage);\n      console.log(\"stat connected\");\n      socket.on(\"brief\", function (stat) {\n        var gStat = stat.filter(function (x) {\n          return x.gid === parseInt(localStorage.getItem(\"gid\"));\n        });\n\n        if (gStat.length > 0) {\n          setTeamArray(gStat);\n        }\n      });\n    });\n    return function () {\n      // componentwillunmount in functional component.\n      // Anything in here is fired on component unmount.\n      leavingStatistics(socket);\n    };\n  }, []); // }, [teamArray])\n\n  var _useState3 = useState(false),\n      _useState4 = _slicedToArray(_useState3, 2),\n      expandedPanel = _useState4[0],\n      setExpandedPanel = _useState4[1];\n\n  var handleAccordionChange = function handleAccordionChange(panel) {\n    return function (event, isExpanded) {\n      console.log({\n        event: event,\n        isExpanded: isExpanded\n      });\n      setExpandedPanel(isExpanded ? panel : false);\n    };\n  };\n\n  function ShowStats() {\n    var _this = this;\n\n    return teamArray.map(function (team) {\n      return /*#__PURE__*/React.createElement(Accordion, {\n        expanded: expandedPanel === team.displayName,\n        onChange: handleAccordionChange(team.displayName),\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 85,\n          columnNumber: 7\n        }\n      }, /*#__PURE__*/React.createElement(AccordionSummary, {\n        expandIcon: /*#__PURE__*/React.createElement(ExpandMoreIcon, {\n          __self: _this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 86,\n            columnNumber: 41\n          }\n        }),\n        \"aria-controls\": \"panel1a-content\",\n        id: \"panel1a-header\",\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 86,\n          columnNumber: 11\n        }\n      }, /*#__PURE__*/React.createElement(Typography, {\n        className: classes.heading,\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 87,\n          columnNumber: 15\n        }\n      }, team.displayName, \" (\", team.userScore, \")\")), /*#__PURE__*/React.createElement(AccordionDetails, {\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 89,\n          columnNumber: 11\n        }\n      }, /*#__PURE__*/React.createElement(Grid, {\n        container: true,\n        justify: \"center\",\n        alignItems: \"center\",\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 90,\n          columnNumber: 15\n        }\n      }, /*#__PURE__*/React.createElement(GridItem, {\n        xs: 12,\n        sm: 12,\n        md: 12,\n        lg: 12,\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 91,\n          columnNumber: 19\n        }\n      }, /*#__PURE__*/React.createElement(Table, {\n        tableHeaderColor: \"warning\",\n        tableHead: [\"Player Name\", \"Score\"],\n        tableData: team.playerStat.map(function (player) {\n          var arr = [player.playerName, player.playerScore];\n          return {\n            data: arr,\n            collapse: []\n          };\n        }),\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 92,\n          columnNumber: 23\n        }\n      })))));\n    });\n  }\n\n  if (localStorage.getItem(\"tournament\").length > 0) return /*#__PURE__*/React.createElement(\"div\", {\n    className: classes.root,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 108,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"h3\", {\n    align: \"center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 109,\n      columnNumber: 7\n    }\n  }, \"Statistics of \", localStorage.getItem(\"tournament\")), /*#__PURE__*/React.createElement(ShowStats, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 110,\n      columnNumber: 7\n    }\n  }));else /*#__PURE__*/React.createElement(NoGroup, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 114,\n      columnNumber: 5\n    }\n  });\n}\n\n_s(Stats, \"C+9bj+lBa+KL32RLIZJf8i3cz0s=\", false, function () {\n  return [useStyles];\n});\n\n_c = Stats;\n;\n\nvar _c;\n\n$RefreshReg$(_c, \"Stats\");","map":{"version":3,"sources":["D:/projects/Cricket/akshu close/IPL/material-dashboard-react-master/src/views/Statistics/Statistics.js"],"names":["React","useEffect","useState","Grid","Table","GridItem","Accordion","AccordionSummary","AccordionDetails","Typography","ExpandMoreIcon","makeStyles","socketIOClient","NoGroup","ENDPOINT","useStyles","theme","root","width","heading","fontSize","typography","pxToRem","fontWeight","fontWeightRegular","leavingStatistics","myConn","console","log","disconnect","Stats","classes","teamArray","setTeamArray","makeconnection","socket","connect","on","sendMessage","page","gid","localStorage","getItem","uid","emit","stat","gStat","filter","x","parseInt","length","expandedPanel","setExpandedPanel","handleAccordionChange","panel","event","isExpanded","ShowStats","map","team","displayName","userScore","playerStat","player","arr","playerName","playerScore","data","collapse"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from 'react';\r\n// import axios from \"axios\";\r\n\r\nimport Grid from \"@material-ui/core/Grid\";\r\nimport Table from \"components/Table/Table.js\";\r\nimport GridItem from \"components/Grid/GridItem.js\";\r\n// import Card from \"components/Card/Card.js\";\r\n// import CardBody from \"components/Card/CardBody.js\";\r\n\r\nimport Accordion from '@material-ui/core/Accordion';\r\nimport AccordionSummary from '@material-ui/core/AccordionSummary';\r\nimport AccordionDetails from '@material-ui/core/AccordionDetails';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore';\r\n\r\nimport { makeStyles } from '@material-ui/core/styles';\r\n// import styles from \"assets/jss/material-dashboard-react/views/dashboardStyle.js\";\r\nimport socketIOClient from \"socket.io-client\";\r\nimport NoGroup from 'CustomComponents/NoGroup.js';\r\n// const ENDPOINT = \"https://happy-home-ipl-2020.herokuapp.com/\";\r\nconst ENDPOINT = \"http://localhost:4000\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n    root: {\r\n      width: '100%',\r\n    },\r\n    heading: {\r\n      fontSize: theme.typography.pxToRem(15),\r\n      fontWeight: theme.typography.fontWeightRegular,\r\n    },\r\n  }));\r\n  \r\n\r\nfunction leavingStatistics(myConn) {\r\n  console.log(\"Leaving Statistics wah wah \");\r\n  myConn.disconnect();\r\n}\r\n\r\nexport default function Stats() { \r\n  const classes = useStyles();\r\n  const [teamArray, setTeamArray] = useState([]);\r\n  // axios.get(`/stat/sendmystat/${localStorage.getItem(\"gid\")}`);\r\n\r\n  useEffect(() => {  \r\n\r\n    const makeconnection = async () => {\r\n      await socket.connect();\r\n    }\r\n\r\n    const socket = socketIOClient(ENDPOINT);\r\n\r\n    makeconnection();\r\n\r\n    socket.on(\"connect\", () => {\r\n      var sendMessage = {page: \"STAT\", gid: localStorage.getItem(\"gid\"), uid: localStorage.getItem(\"uid\") };\r\n      socket.emit(\"page\", sendMessage);\r\n      console.log(\"stat connected\")\r\n\r\n      socket.on(\"brief\", (stat) => {\r\n        var gStat = stat.filter(x => x.gid === parseInt(localStorage.getItem(\"gid\")));\r\n        if (gStat.length > 0) {\r\n          setTeamArray(gStat)\r\n        }\r\n      })\r\n    });\r\n\r\n    return () => {\r\n      // componentwillunmount in functional component.\r\n      // Anything in here is fired on component unmount.\r\n      leavingStatistics(socket);\r\n    }\r\n  }, []);\r\n\r\n  // }, [teamArray])\r\n\r\n\r\n  const [expandedPanel, setExpandedPanel] = useState(false);\r\n  const handleAccordionChange = (panel) => (event, isExpanded) => {\r\n    console.log({ event, isExpanded });\r\n    setExpandedPanel(isExpanded ? panel : false);\r\n  };\r\n\r\n  function ShowStats() {  \r\n      return (teamArray.map(team =>\r\n      <Accordion expanded={expandedPanel === team.displayName} onChange={handleAccordionChange(team.displayName)}>\r\n          <AccordionSummary expandIcon={<ExpandMoreIcon />} aria-controls=\"panel1a-content\" id=\"panel1a-header\">\r\n              <Typography className={classes.heading}>{team.displayName} ({team.userScore})</Typography>\r\n          </AccordionSummary>\r\n          <AccordionDetails>\r\n              <Grid container justify=\"center\" alignItems=\"center\" >\r\n                  <GridItem xs={12} sm={12} md={12} lg={12} >\r\n                      <Table\r\n                          tableHeaderColor=\"warning\"\r\n                          tableHead={[\"Player Name\", \"Score\"]}\r\n                          tableData={team.playerStat.map(player => {\r\n                              const arr = [player.playerName, player.playerScore]\r\n                              return { data: arr, collapse: [] }\r\n                          })}\r\n                      />\r\n                  </GridItem>\r\n              </Grid>\r\n          </AccordionDetails>\r\n      </Accordion>\r\n      ))\r\n  }\r\n  if (localStorage.getItem(\"tournament\").length > 0)\r\n  return (\r\n    <div className={classes.root}>\r\n      <h3 align=\"center\">Statistics of {localStorage.getItem(\"tournament\")}</h3> \r\n      <ShowStats/>\r\n    </div>\r\n  );\r\n  else\r\n    <NoGroup/>\r\n};\r\n\r\n\r\n"]},"metadata":{},"sourceType":"module"}