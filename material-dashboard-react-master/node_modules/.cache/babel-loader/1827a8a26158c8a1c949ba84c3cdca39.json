{"ast":null,"code":"import _regeneratorRuntime from \"D:\\\\projects\\\\Cricket\\\\akshu close\\\\IPL\\\\material-dashboard-react-master\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/regenerator\";\nimport _asyncToGenerator from \"D:\\\\projects\\\\Cricket\\\\akshu close\\\\IPL\\\\material-dashboard-react-master\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/asyncToGenerator\";\nimport _slicedToArray from \"D:\\\\projects\\\\Cricket\\\\akshu close\\\\IPL\\\\material-dashboard-react-master\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"D:\\\\projects\\\\Cricket\\\\akshu close\\\\IPL\\\\material-dashboard-react-master\\\\src\\\\views\\\\Captain\\\\Captain.js\";\nimport React, { useEffect, useState, useContext } from 'react';\nimport axios from \"axios\";\nimport { makeStyles } from '@material-ui/core/styles';\nimport { Switch, Route, Link } from 'react-router-dom';\nimport Button from '@material-ui/core/Button';\nimport Table from \"components/Table/Table.js\";\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\nimport Radio from '@material-ui/core/Radio';\nimport Grid from \"@material-ui/core/Grid\";\nimport GridItem from \"components/Grid/GridItem.js\";\nimport Card from \"components/Card/Card.js\";\nimport CardBody from \"components/Card/CardBody.js\"; // import Accordion from '@material-ui/core/Accordion';\n// import AccordionSummary from '@material-ui/core/AccordionSummary';\n// import AccordionDetails from '@material-ui/core/AccordionDetails';\n// import Typography from '@material-ui/core/Typography';\n// import ExpandMoreIcon from '@material-ui/icons/ExpandMore';\n\nimport { useHistory } from \"react-router-dom\";\nimport { UserContext } from \"../../UserContext\";\nimport GroupMember from \"views/GroupMember/GroupMember.js\"; // import { \n//     BrowserRouter as Router, \n//     Route, \n//     Link, \n//     Switch \n// } from 'react-router-dom'; \n\nvar vcPrefix = \"vicecaptain-\";\nvar cPrefix = \"captain-\";\nvar useStyles = makeStyles(function (theme) {\n  return {\n    root: {\n      width: '100%'\n    },\n    captain: {\n      color: \"yellow\"\n    },\n    heading: {\n      fontSize: theme.typography.pxToRem(15),\n      flexBasis: '33.33%',\n      flexShrink: 0\n    },\n    secondaryHeading: {\n      fontSize: theme.typography.pxToRem(15),\n      color: theme.palette.text.secondary\n    }\n  };\n});\nexport default function Group() {\n  window.onbeforeunload = function () {\n    return setUser(null);\n  };\n\n  var _useContext = useContext(UserContext),\n      setUser = _useContext.setUser;\n\n  var classes = useStyles();\n\n  var _useState = useState([]),\n      _useState2 = _slicedToArray(_useState, 2),\n      myGroupTableData = _useState2[0],\n      setMyGroupTableData = _useState2[1]; // const [hasatleast1Group, setUserHasGroup] = useState(false);\n\n\n  var history = useHistory();\n\n  var _useState3 = useState(localStorage.getItem(\"groupName\")),\n      _useState4 = _slicedToArray(_useState3, 2),\n      newCurrentGroup = _useState4[0],\n      setNewCurrentGroup = _useState4[1]; // const { setUser } = useContext(UserContext);\n  // const classes = useStyles();\n\n\n  var _useState5 = useState(\"\"),\n      _useState6 = _slicedToArray(_useState5, 2),\n      selectedViceCaptain = _useState6[0],\n      SetSelectedViceCaptain = _useState6[1];\n\n  var _useState7 = useState(\"\"),\n      _useState8 = _slicedToArray(_useState7, 2),\n      selectedCaptain = _useState8[0],\n      SetSelectedCaptain = _useState8[1];\n\n  var _useState9 = useState([]),\n      _useState10 = _slicedToArray(_useState9, 2),\n      myTeamTableData = _useState10[0],\n      setMyTeamTableData = _useState10[1];\n\n  var _useState11 = useState(false),\n      _useState12 = _slicedToArray(_useState11, 2),\n      isUserMemberOfGroup = _useState12[0],\n      setGroupMember = _useState12[1];\n\n  var _useState13 = useState(false),\n      _useState14 = _slicedToArray(_useState13, 2),\n      tournamentStated = _useState14[0],\n      setTournamentStarted = _useState14[1];\n\n  useEffect(function () {\n    var a = /*#__PURE__*/function () {\n      var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n        var gameStarted, mygroup, response, myUrl, teamResponse;\n        return _regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                // get start of tournamnet (i.e. start of 1st match)\n                console.log(\"Hello\");\n                gameStarted = false;\n                mygroup = localStorage.getItem(\"gid\");\n\n                if (!(mygroup === \"\" || mygroup === \"0\")) {\n                  _context.next = 8;\n                  break;\n                }\n\n                // handle if not a member of any group\n                setGroupMember(false);\n                setTournamentStarted(false);\n                console.log(\"Not a member of group. No cap/vice cap\");\n                return _context.abrupt(\"return\");\n\n              case 8:\n                setGroupMember(true);\n                console.log(\"Calling getcaptain\");\n                _context.next = 12;\n                return axios.get(\"/user/getcaptain/\".concat(mygroup, \"/\").concat(localStorage.getItem(\"uid\")));\n\n              case 12:\n                response = _context.sent;\n\n                // var isGroupMember = false;\n                if (response.data.length > 0) {// SetSelectedCaptain(response.data[0].captainName);\n                  // SetSelectedViceCaptain(response.data[0].viceCaptainName)\n                } // setCaptainTableData(captainTableData);\n                // get list of player purchased by user for aelecting captain / vice captain\n\n\n                myUrl = \"/user/myteamwos/\".concat(mygroup, \"/\").concat(localStorage.getItem(\"uid\"));\n                _context.next = 17;\n                return axios.get(myUrl);\n\n              case 17:\n                teamResponse = _context.sent;\n                setMyTeamTableData(teamResponse.data[0].players);\n                console.log(teamResponse.data[0].players);\n                _context.next = 22;\n                return axios.get(\"/group/gamestarted/\".concat(localStorage.getItem(\"gid\")));\n\n              case 22:\n                response = _context.sent;\n                gameStarted = response.data.length > 0;\n                gameStarted = false;\n                setTournamentStarted(gameStarted);\n\n              case 26:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee);\n      }));\n\n      return function a() {\n        return _ref.apply(this, arguments);\n      };\n    }(); // user belong to group. get cpation / vice captian alreasy set\n    // let response = \"\"\n\n\n    a();\n  }, []);\n\n  function handleSelectedCaptain(newCaptain) {// console.log(selectedCaptain);\n    // selectedCaptain = myTeamTableData[1].playerName;\n    // SetSelectedCaptain(selectedCaptain);\n    // var myElement;\n    // cannot select vice captain as captain\n    // if (newCaptain === captainTableData[1].name) {\n    //     myElement = document.getElementById(cPrefix+newCaptain);\n    //     myElement.checked = false;\n    // } else {\n    // console.log(\"all fine\");\n    // myTeamTableData.forEach(x => {\n    //     var cElement = document.getElementById(cPrefix+x.playerName);\n    //     // console.log(cElement)\n    //     cElement.checked = true;\n    //     var vcElement = document.getElementById(vcPrefix+x.playerName);\n    //     vcElement.checked = true;\n    // })\n    // captainTableData[0].name = newCaptain;\n    // setCaptainTableData(captainTableData);\n    // }\n  }\n\n  ;\n\n  var handleSelectedViceCaptain = function handleSelectedViceCaptain(event) {\n    console.log(\"vice captain\");\n  };\n\n  function updateCaptain() {\n    console.log(\"upd captin vc details\");\n  }\n\n  function DisplayCaptainSelectButton() {\n    return /*#__PURE__*/React.createElement(Button, {\n      align: \"center\",\n      variant: \"contained\",\n      color: \"secondary\",\n      size: \"small\",\n      className: classes.button,\n      onClick: updateCaptain,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 144,\n        columnNumber: 13\n      }\n    }, \"Update\");\n  }\n\n  function ShowCaptainViceCaptain() {\n    var _this = this;\n\n    if (isUserMemberOfGroup) {\n      return /*#__PURE__*/React.createElement(Grid, {\n        key: \"gr-cvc\",\n        container: true,\n        justify: \"center\",\n        alignItems: \"center\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 154,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(GridItem, {\n        key: \"gi-cvc\",\n        xs: 12,\n        sm: 12,\n        md: 12,\n        lg: 12,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 155,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(Card, {\n        key: \"c-cvc\",\n        profile: true,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 156,\n          columnNumber: 21\n        }\n      }, /*#__PURE__*/React.createElement(CardBody, {\n        key: \"cb-cvc\",\n        profile: true,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 157,\n          columnNumber: 25\n        }\n      }, /*#__PURE__*/React.createElement(Table, {\n        tableKey: \"t-cvc\",\n        id: \"t-cvc\",\n        tableHeaderColor: \"warning\",\n        tableHead: [\"Player Name\", \"Captain\", \"Vice Captain\"],\n        tableData: myTeamTableData.map(function (x) {\n          var arr = [x.playerName, /*#__PURE__*/React.createElement(FormControlLabel, {\n            key: cPrefix + x.playerName // className={classes.captain} \n            // value={cPrefix+x.playerName}    \n            ,\n            control: /*#__PURE__*/React.createElement(Radio, {\n              color: \"primary\",\n              key: cPrefix + x.playerName,\n              id: cPrefix + x.playerName,\n              __self: _this,\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 170,\n                columnNumber: 46\n              }\n            }),\n            onClick: function onClick() {\n              return handleSelectedCaptain(x.playerName);\n            },\n            __self: _this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 166,\n              columnNumber: 37\n            }\n          }), /*#__PURE__*/React.createElement(FormControlLabel, {\n            key: vcPrefix + x.playerName // className={classes.captain} \n            // value={vcPrefix+x.playerName}    \n            ,\n            control: /*#__PURE__*/React.createElement(Radio, {\n              color: \"primary\",\n              key: vcPrefix + x.playerName,\n              id: vcPrefix + x.playerName,\n              defaultChecked: x.playerName === selectedViceCaptain,\n              __self: _this,\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 177,\n                columnNumber: 46\n              }\n            }),\n            onClick: function onClick() {\n              return handleSelectedViceCaptain(x.playerName);\n            },\n            __self: _this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 173,\n              columnNumber: 37\n            }\n          }) // <FormControlLabel \n          //     className={classes.captain} \n          //     value={cPrefix+x.playerName}    \n          //     control={<Switch id={cPrefix+x.playerName} defaultChecked={x.playerName === captainTableData[0].name}/>}\n          //     onClick={handleSelectedCaptain}\n          // />,\n          // <FormControlLabel \n          //     className={classes.captain} \n          //     value={vcPrefix+x.playerName}    \n          //     control={<Switch id={vcPrefix+x.playerName} defaultChecked={x.playerName === captainTableData[1].name} />}\n          //     onClick={handleSelectedViceCaptain}\n          // />\n          ];\n          return {\n            data: arr,\n            collapse: []\n          };\n        }),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 158,\n          columnNumber: 29\n        }\n      }))), /*#__PURE__*/React.createElement(DisplayCaptainSelectButton, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 198,\n          columnNumber: 21\n        }\n      })));\n    } else {\n      return /*#__PURE__*/React.createElement(\"div\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 203,\n          columnNumber: 20\n        }\n      });\n    }\n  }\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: classes.root,\n    key: \"cpataininfo\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 209,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"h3\", {\n    align: \"center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 210,\n      columnNumber: 9\n    }\n  }, \"My Captain and Vice Captain (\", localStorage.getItem(\"tournament\"), \")\"), /*#__PURE__*/React.createElement(ShowCaptainViceCaptain, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 211,\n      columnNumber: 9\n    }\n  }));\n}","map":{"version":3,"sources":["D:/projects/Cricket/akshu close/IPL/material-dashboard-react-master/src/views/Captain/Captain.js"],"names":["React","useEffect","useState","useContext","axios","makeStyles","Switch","Route","Link","Button","Table","FormControlLabel","Radio","Grid","GridItem","Card","CardBody","useHistory","UserContext","GroupMember","vcPrefix","cPrefix","useStyles","theme","root","width","captain","color","heading","fontSize","typography","pxToRem","flexBasis","flexShrink","secondaryHeading","palette","text","secondary","Group","window","onbeforeunload","setUser","classes","myGroupTableData","setMyGroupTableData","history","localStorage","getItem","newCurrentGroup","setNewCurrentGroup","selectedViceCaptain","SetSelectedViceCaptain","selectedCaptain","SetSelectedCaptain","myTeamTableData","setMyTeamTableData","isUserMemberOfGroup","setGroupMember","tournamentStated","setTournamentStarted","a","console","log","gameStarted","mygroup","get","response","data","length","myUrl","teamResponse","players","handleSelectedCaptain","newCaptain","handleSelectedViceCaptain","event","updateCaptain","DisplayCaptainSelectButton","button","ShowCaptainViceCaptain","map","x","arr","playerName","collapse"],"mappings":";;;;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,EAA2BC,QAA3B,EAAqCC,UAArC,QAAuD,OAAvD;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,SAASC,UAAT,QAA2B,0BAA3B;AACA,SAASC,MAAT,EAAiBC,KAAjB,EAAwBC,IAAxB,QAAoC,kBAApC;AACA,OAAOC,MAAP,MAAmB,0BAAnB;AACA,OAAOC,KAAP,MAAkB,2BAAlB;AACA,OAAOC,gBAAP,MAA6B,oCAA7B;AACA,OAAOC,KAAP,MAAkB,yBAAlB;AACA,OAAOC,IAAP,MAAiB,wBAAjB;AACA,OAAOC,QAAP,MAAqB,6BAArB;AACA,OAAOC,IAAP,MAAiB,yBAAjB;AACA,OAAOC,QAAP,MAAqB,6BAArB,C,CACA;AACA;AACA;AACA;AACA;;AACA,SAASC,UAAT,QAA2B,kBAA3B;AACA,SAASC,WAAT,QAA4B,mBAA5B;AACA,OAAOC,WAAP,MAAwB,kCAAxB,C,CACA;AACA;AACA;AACA;AACA;AACA;;AAEA,IAAMC,QAAQ,GAAG,cAAjB;AACA,IAAMC,OAAO,GAAG,UAAhB;AAGA,IAAMC,SAAS,GAAGjB,UAAU,CAAC,UAACkB,KAAD;AAAA,SAAY;AACrCC,IAAAA,IAAI,EAAE;AACJC,MAAAA,KAAK,EAAE;AADH,KAD+B;AAIrCC,IAAAA,OAAO,EAAE;AACLC,MAAAA,KAAK,EAAE;AADF,KAJ4B;AAOrCC,IAAAA,OAAO,EAAE;AACPC,MAAAA,QAAQ,EAAEN,KAAK,CAACO,UAAN,CAAiBC,OAAjB,CAAyB,EAAzB,CADH;AAEPC,MAAAA,SAAS,EAAE,QAFJ;AAGPC,MAAAA,UAAU,EAAE;AAHL,KAP4B;AAYrCC,IAAAA,gBAAgB,EAAE;AAChBL,MAAAA,QAAQ,EAAEN,KAAK,CAACO,UAAN,CAAiBC,OAAjB,CAAyB,EAAzB,CADM;AAEhBJ,MAAAA,KAAK,EAAEJ,KAAK,CAACY,OAAN,CAAcC,IAAd,CAAmBC;AAFV;AAZmB,GAAZ;AAAA,CAAD,CAA5B;AAoBA,eAAe,SAASC,KAAT,GAAiB;AAE5BC,EAAAA,MAAM,CAACC,cAAP,GAAwB;AAAA,WAAMC,OAAO,CAAC,IAAD,CAAb;AAAA,GAAxB;;AAF4B,oBAGRtC,UAAU,CAACe,WAAD,CAHF;AAAA,MAGpBuB,OAHoB,eAGpBA,OAHoB;;AAI5B,MAAMC,OAAO,GAAGpB,SAAS,EAAzB;;AAJ4B,kBAKoBpB,QAAQ,CAAC,EAAD,CAL5B;AAAA;AAAA,MAKrByC,gBALqB;AAAA,MAKHC,mBALG,kBAM5B;;;AACA,MAAMC,OAAO,GAAG5B,UAAU,EAA1B;;AAP4B,mBAQkBf,QAAQ,CAAC4C,YAAY,CAACC,OAAb,CAAqB,WAArB,CAAD,CAR1B;AAAA;AAAA,MAQrBC,eARqB;AAAA,MAQJC,kBARI,kBAS5B;AACA;;;AAV4B,mBAW0B/C,QAAQ,CAAC,EAAD,CAXlC;AAAA;AAAA,MAWrBgD,mBAXqB;AAAA,MAWAC,sBAXA;;AAAA,mBAYkBjD,QAAQ,CAAC,EAAD,CAZ1B;AAAA;AAAA,MAYrBkD,eAZqB;AAAA,MAYJC,kBAZI;;AAAA,mBAakBnD,QAAQ,CAAC,EAAD,CAb1B;AAAA;AAAA,MAarBoD,eAbqB;AAAA,MAaJC,kBAbI;;AAAA,oBAckBrD,QAAQ,CAAC,KAAD,CAd1B;AAAA;AAAA,MAcrBsD,mBAdqB;AAAA,MAcAC,cAdA;;AAAA,oBAeqBvD,QAAQ,CAAC,KAAD,CAf7B;AAAA;AAAA,MAerBwD,gBAfqB;AAAA,MAeHC,oBAfG;;AAkB5B1D,EAAAA,SAAS,CAAC,YAAM;AACZ,QAAM2D,CAAC;AAAA,0EAAG;AAAA;AAAA;AAAA;AAAA;AAAA;AACN;AACAC,gBAAAA,OAAO,CAACC,GAAR,CAAY,OAAZ;AACIC,gBAAAA,WAHE,GAGY,KAHZ;AAIFC,gBAAAA,OAJE,GAISlB,YAAY,CAACC,OAAb,CAAqB,KAArB,CAJT;;AAAA,sBAKAiB,OAAO,KAAK,EAAb,IAAqBA,OAAO,KAAK,GALhC;AAAA;AAAA;AAAA;;AAMF;AACAP,gBAAAA,cAAc,CAAC,KAAD,CAAd;AACAE,gBAAAA,oBAAoB,CAAC,KAAD,CAApB;AACAE,gBAAAA,OAAO,CAACC,GAAR,CAAY,wCAAZ;AATE;;AAAA;AAYNL,gBAAAA,cAAc,CAAC,IAAD,CAAd;AAEAI,gBAAAA,OAAO,CAACC,GAAR,CAAY,oBAAZ;AAdM;AAAA,uBAee1D,KAAK,CAAC6D,GAAN,4BAA8BD,OAA9B,cAAyClB,YAAY,CAACC,OAAb,CAAqB,KAArB,CAAzC,EAff;;AAAA;AAeFmB,gBAAAA,QAfE;;AAgBN;AACA,oBAAIA,QAAQ,CAACC,IAAT,CAAcC,MAAd,GAAuB,CAA3B,EAA8B,CAC1B;AACA;AACH,iBApBK,CAqBN;AACA;;;AACIC,gBAAAA,KAvBE,6BAuByBL,OAvBzB,cAuBoClB,YAAY,CAACC,OAAb,CAAqB,KAArB,CAvBpC;AAAA;AAAA,uBAwBqB3C,KAAK,CAAC6D,GAAN,CAAUI,KAAV,CAxBrB;;AAAA;AAwBAC,gBAAAA,YAxBA;AAyBNf,gBAAAA,kBAAkB,CAACe,YAAY,CAACH,IAAb,CAAkB,CAAlB,EAAqBI,OAAtB,CAAlB;AACAV,gBAAAA,OAAO,CAACC,GAAR,CAAYQ,YAAY,CAACH,IAAb,CAAkB,CAAlB,EAAqBI,OAAjC;AA1BM;AAAA,uBA4BWnE,KAAK,CAAC6D,GAAN,8BAAgCnB,YAAY,CAACC,OAAb,CAAqB,KAArB,CAAhC,EA5BX;;AAAA;AA4BNmB,gBAAAA,QA5BM;AA6BNH,gBAAAA,WAAW,GAAIG,QAAQ,CAACC,IAAT,CAAcC,MAAd,GAAuB,CAAtC;AACAL,gBAAAA,WAAW,GAAG,KAAd;AACAJ,gBAAAA,oBAAoB,CAACI,WAAD,CAApB;;AA/BM;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAH;;AAAA,sBAADH,CAAC;AAAA;AAAA;AAAA,OAAP,CADY,CAkCR;AACA;;;AACJA,IAAAA,CAAC;AACJ,GArCQ,EAqCN,EArCM,CAAT;;AAwCA,WAASY,qBAAT,CAAgCC,UAAhC,EAA4C,CACxC;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACI;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACI;AACA;AACJ;AACH;;AAAA;;AAED,MAAMC,yBAAyB,GAAG,SAA5BA,yBAA4B,CAACC,KAAD,EAAW;AACzCd,IAAAA,OAAO,CAACC,GAAR,CAAY,cAAZ;AACH,GAFD;;AAIA,WAASc,aAAT,GAAyB;AACrBf,IAAAA,OAAO,CAACC,GAAR,CAAY,uBAAZ;AACH;;AAED,WAASe,0BAAT,GAAsC;AAClC,wBACI,oBAAC,MAAD;AAAQ,MAAA,KAAK,EAAC,QAAd;AAAuB,MAAA,OAAO,EAAC,WAA/B;AAA2C,MAAA,KAAK,EAAC,WAAjD;AAA6D,MAAA,IAAI,EAAC,OAAlE;AACI,MAAA,SAAS,EAAEnC,OAAO,CAACoC,MADvB;AAC+B,MAAA,OAAO,EAAEF,aADxC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBADJ;AAKC;;AAGL,WAAUG,sBAAV,GAAmC;AAAA;;AAC/B,QAAIvB,mBAAJ,EAAyB;AACrB,0BACI,oBAAC,IAAD;AAAM,QAAA,GAAG,EAAC,QAAV;AAAmB,QAAA,SAAS,MAA5B;AAA6B,QAAA,OAAO,EAAC,QAArC;AAA8C,QAAA,UAAU,EAAC,QAAzD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBACA,oBAAC,QAAD;AAAU,QAAA,GAAG,EAAC,QAAd;AAAuB,QAAA,EAAE,EAAE,EAA3B;AAA+B,QAAA,EAAE,EAAE,EAAnC;AAAuC,QAAA,EAAE,EAAE,EAA3C;AAA+C,QAAA,EAAE,EAAE,EAAnD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBACI,oBAAC,IAAD;AAAM,QAAA,GAAG,EAAC,OAAV;AAAkB,QAAA,OAAO,MAAzB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBACI,oBAAC,QAAD;AAAU,QAAA,GAAG,EAAC,QAAd;AAAuB,QAAA,OAAO,MAA9B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBACI,oBAAC,KAAD;AACI,QAAA,QAAQ,EAAC,OADb;AAEI,QAAA,EAAE,EAAC,OAFP;AAGI,QAAA,gBAAgB,EAAC,SAHrB;AAII,QAAA,SAAS,EAAE,CAAC,aAAD,EAAgB,SAAhB,EAA2B,cAA3B,CAJf;AAKI,QAAA,SAAS,EAAEF,eAAe,CAAC0B,GAAhB,CAAoB,UAAAC,CAAC,EAAI;AAChC,cAAMC,GAAG,GAAG,CACZD,CAAC,CAACE,UADU,eAEZ,oBAAC,gBAAD;AACA,YAAA,GAAG,EAAE9D,OAAO,GAAC4D,CAAC,CAACE,UADf,CAEA;AACA;AAHA;AAIA,YAAA,OAAO,eAAE,oBAAC,KAAD;AAAO,cAAA,KAAK,EAAC,SAAb;AAAuB,cAAA,GAAG,EAAE9D,OAAO,GAAC4D,CAAC,CAACE,UAAtC;AAAkD,cAAA,EAAE,EAAE9D,OAAO,GAAC4D,CAAC,CAACE,UAAhE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cAJT;AAKA,YAAA,OAAO,EAAE;AAAA,qBAAMX,qBAAqB,CAACS,CAAC,CAACE,UAAH,CAA3B;AAAA,aALT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YAFY,eASZ,oBAAC,gBAAD;AACA,YAAA,GAAG,EAAE/D,QAAQ,GAAC6D,CAAC,CAACE,UADhB,CAEA;AACA;AAHA;AAIA,YAAA,OAAO,eAAE,oBAAC,KAAD;AAAO,cAAA,KAAK,EAAC,SAAb;AAAuB,cAAA,GAAG,EAAE/D,QAAQ,GAAC6D,CAAC,CAACE,UAAvC;AAAmD,cAAA,EAAE,EAAE/D,QAAQ,GAAC6D,CAAC,CAACE,UAAlE;AAA8E,cAAA,cAAc,EAAEF,CAAC,CAACE,UAAF,KAAiBjC,mBAA/G;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cAJT;AAKA,YAAA,OAAO,EAAE;AAAA,qBAAMwB,yBAAyB,CAACO,CAAC,CAACE,UAAH,CAA/B;AAAA,aALT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YATY,CAgBZ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AA3BY,WAAZ;AA6BA,iBAAO;AAAEhB,YAAAA,IAAI,EAAEe,GAAR;AAAaE,YAAAA,QAAQ,EAAE;AAAvB,WAAP;AACH,SA/BU,CALf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADJ,CADJ,CADJ,eA2CI,oBAAC,0BAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QA3CJ,CADA,CADJ;AAiDH,KAlDD,MAkDO;AACH,0BAAO;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAAP;AACH;AACJ;;AAGD,sBACA;AAAK,IAAA,SAAS,EAAE1C,OAAO,CAAClB,IAAxB;AAA8B,IAAA,GAAG,EAAC,aAAlC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI;AAAI,IAAA,KAAK,EAAC,QAAV;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sCAAiDsB,YAAY,CAACC,OAAb,CAAqB,YAArB,CAAjD,MADJ,eAEI,oBAAC,sBAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAFJ,CADA;AAOH","sourcesContent":["import React, { useEffect, useState, useContext } from 'react';\r\nimport axios from \"axios\";\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport { Switch, Route, Link } from 'react-router-dom';\r\nimport Button from '@material-ui/core/Button';\r\nimport Table from \"components/Table/Table.js\";\r\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\r\nimport Radio from '@material-ui/core/Radio';\r\nimport Grid from \"@material-ui/core/Grid\";\r\nimport GridItem from \"components/Grid/GridItem.js\";\r\nimport Card from \"components/Card/Card.js\";\r\nimport CardBody from \"components/Card/CardBody.js\";\r\n// import Accordion from '@material-ui/core/Accordion';\r\n// import AccordionSummary from '@material-ui/core/AccordionSummary';\r\n// import AccordionDetails from '@material-ui/core/AccordionDetails';\r\n// import Typography from '@material-ui/core/Typography';\r\n// import ExpandMoreIcon from '@material-ui/icons/ExpandMore';\r\nimport { useHistory } from \"react-router-dom\";\r\nimport { UserContext } from \"../../UserContext\";\r\nimport GroupMember from \"views/GroupMember/GroupMember.js\"\r\n// import { \r\n//     BrowserRouter as Router, \r\n//     Route, \r\n//     Link, \r\n//     Switch \r\n// } from 'react-router-dom'; \r\n\r\nconst vcPrefix = \"vicecaptain-\"\r\nconst cPrefix = \"captain-\"\r\n\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n    root: {\r\n      width: '100%',\r\n    },\r\n    captain: {\r\n        color: \"yellow\",\r\n    },     \r\n    heading: {\r\n      fontSize: theme.typography.pxToRem(15),\r\n      flexBasis: '33.33%',\r\n      flexShrink: 0,\r\n    },\r\n    secondaryHeading: {\r\n      fontSize: theme.typography.pxToRem(15),\r\n      color: theme.palette.text.secondary,\r\n    },\r\n  }));\r\n\r\n\r\n\r\nexport default function Group() {\r\n\r\n    window.onbeforeunload = () => setUser(null)\r\n    const { setUser } = useContext(UserContext);\r\n    const classes = useStyles();\r\n    const [myGroupTableData, setMyGroupTableData] = useState([]);\r\n    // const [hasatleast1Group, setUserHasGroup] = useState(false);\r\n    const history = useHistory();\r\n    const [newCurrentGroup, setNewCurrentGroup] = useState(localStorage.getItem(\"groupName\"));\r\n    // const { setUser } = useContext(UserContext);\r\n    // const classes = useStyles();\r\n    const [selectedViceCaptain, SetSelectedViceCaptain] = useState(\"\");\r\n    const [selectedCaptain, SetSelectedCaptain] = useState(\"\");\r\n    const [myTeamTableData, setMyTeamTableData] = useState([]);\r\n    const [isUserMemberOfGroup, setGroupMember] = useState(false);\r\n    const [tournamentStated, setTournamentStarted] = useState(false);\r\n\r\n      \r\n    useEffect(() => {\r\n        const a = async () => {\r\n            // get start of tournamnet (i.e. start of 1st match)\r\n            console.log(\"Hello\");\r\n            var gameStarted = false;  \r\n            var mygroup  = localStorage.getItem(\"gid\")\r\n            if  ((mygroup === \"\") || (mygroup === \"0\")) {\r\n                // handle if not a member of any group\r\n                setGroupMember(false);\r\n                setTournamentStarted(false);\r\n                console.log(\"Not a member of group. No cap/vice cap\")\r\n                return;\r\n            }\r\n            setGroupMember(true);\r\n\r\n            console.log(\"Calling getcaptain\")\r\n            var response = await axios.get(`/user/getcaptain/${mygroup}/${localStorage.getItem(\"uid\")}`);\r\n            // var isGroupMember = false;\r\n            if (response.data.length > 0) {\r\n                // SetSelectedCaptain(response.data[0].captainName);\r\n                // SetSelectedViceCaptain(response.data[0].viceCaptainName)\r\n            }\r\n            // setCaptainTableData(captainTableData);\r\n            // get list of player purchased by user for aelecting captain / vice captain\r\n            var myUrl = `/user/myteamwos/${mygroup}/${localStorage.getItem(\"uid\")}`;\r\n            const teamResponse = await axios.get(myUrl);\r\n            setMyTeamTableData(teamResponse.data[0].players);\r\n            console.log(teamResponse.data[0].players) ;\r\n\r\n            response = await axios.get(`/group/gamestarted/${localStorage.getItem(\"gid\")}`);\r\n            gameStarted = (response.data.length > 0);\r\n            gameStarted = false;\r\n            setTournamentStarted(gameStarted);\r\n            }\r\n            // user belong to group. get cpation / vice captian alreasy set\r\n            // let response = \"\"\r\n        a();\r\n    }, [])\r\n\r\n   \r\n    function handleSelectedCaptain (newCaptain) {\r\n        // console.log(selectedCaptain);\r\n        // selectedCaptain = myTeamTableData[1].playerName;\r\n        // SetSelectedCaptain(selectedCaptain);\r\n\r\n        // var myElement;\r\n        // cannot select vice captain as captain\r\n        // if (newCaptain === captainTableData[1].name) {\r\n        //     myElement = document.getElementById(cPrefix+newCaptain);\r\n        //     myElement.checked = false;\r\n        // } else {\r\n            // console.log(\"all fine\");\r\n        // myTeamTableData.forEach(x => {\r\n        //     var cElement = document.getElementById(cPrefix+x.playerName);\r\n        //     // console.log(cElement)\r\n        //     cElement.checked = true;\r\n        //     var vcElement = document.getElementById(vcPrefix+x.playerName);\r\n        //     vcElement.checked = true;\r\n        // })\r\n            // captainTableData[0].name = newCaptain;\r\n            // setCaptainTableData(captainTableData);\r\n        // }\r\n    };\r\n\r\n    const handleSelectedViceCaptain = (event) => {\r\n        console.log(\"vice captain\");\r\n    };\r\n\r\n    function updateCaptain() {\r\n        console.log(\"upd captin vc details\");\r\n    }\r\n\r\n    function DisplayCaptainSelectButton() {\r\n        return (\r\n            <Button align=\"center\" variant=\"contained\" color=\"secondary\" size=\"small\"\r\n                className={classes.button} onClick={updateCaptain}>Update\r\n            </Button>\r\n            );\r\n        }\r\n    \r\n\r\n    function  ShowCaptainViceCaptain() {\r\n        if (isUserMemberOfGroup) {\r\n            return(\r\n                <Grid key=\"gr-cvc\" container justify=\"center\" alignItems=\"center\" >\r\n                <GridItem key=\"gi-cvc\" xs={12} sm={12} md={12} lg={12} >\r\n                    <Card key=\"c-cvc\" profile>\r\n                        <CardBody key=\"cb-cvc\" profile>\r\n                            <Table\r\n                                tableKey=\"t-cvc\"\r\n                                id=\"t-cvc\"\r\n                                tableHeaderColor=\"warning\"\r\n                                tableHead={[\"Player Name\", \"Captain\", \"Vice Captain\"]}\r\n                                tableData={myTeamTableData.map(x => {\r\n                                    const arr = [\r\n                                    x.playerName,\r\n                                    <FormControlLabel \r\n                                    key={cPrefix+x.playerName}\r\n                                    // className={classes.captain} \r\n                                    // value={cPrefix+x.playerName}    \r\n                                    control={<Radio color=\"primary\" key={cPrefix+x.playerName} id={cPrefix+x.playerName} />}\r\n                                    onClick={() => handleSelectedCaptain(x.playerName)}\r\n                                    />,\r\n                                    <FormControlLabel \r\n                                    key={vcPrefix+x.playerName}\r\n                                    // className={classes.captain} \r\n                                    // value={vcPrefix+x.playerName}    \r\n                                    control={<Radio color=\"primary\" key={vcPrefix+x.playerName} id={vcPrefix+x.playerName} defaultChecked={x.playerName === selectedViceCaptain}/>}\r\n                                    onClick={() => handleSelectedViceCaptain(x.playerName)}\r\n                                    />\r\n                                    // <FormControlLabel \r\n                                    //     className={classes.captain} \r\n                                    //     value={cPrefix+x.playerName}    \r\n                                    //     control={<Switch id={cPrefix+x.playerName} defaultChecked={x.playerName === captainTableData[0].name}/>}\r\n                                    //     onClick={handleSelectedCaptain}\r\n                                    // />,\r\n                                    // <FormControlLabel \r\n                                    //     className={classes.captain} \r\n                                    //     value={vcPrefix+x.playerName}    \r\n                                    //     control={<Switch id={vcPrefix+x.playerName} defaultChecked={x.playerName === captainTableData[1].name} />}\r\n                                    //     onClick={handleSelectedViceCaptain}\r\n                                    // />\r\n                                     ]\r\n                                    return { data: arr, collapse: [] }\r\n                                })}\r\n                            />\r\n                        </CardBody>\r\n                    </Card>\r\n                    <DisplayCaptainSelectButton/>\r\n                </GridItem>\r\n                </Grid>\r\n            );\r\n        } else {\r\n            return(<div></div>);\r\n        }\r\n    }\r\n\r\n\r\n    return (\r\n    <div className={classes.root} key=\"cpataininfo\">\r\n        <h3 align=\"center\">My Captain and Vice Captain ({localStorage.getItem(\"tournament\")})</h3>\r\n        <ShowCaptainViceCaptain/>\r\n    </div>\r\n    );\r\n    \r\n}\r\n"]},"metadata":{},"sourceType":"module"}