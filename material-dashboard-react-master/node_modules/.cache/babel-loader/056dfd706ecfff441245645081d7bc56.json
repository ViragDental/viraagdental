{"ast":null,"code":"import _regeneratorRuntime from\"D:/projects/Cricket/akshu close/IPL/material-dashboard-react-master/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"D:/projects/Cricket/akshu close/IPL/material-dashboard-react-master/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"D:/projects/Cricket/akshu close/IPL/material-dashboard-react-master/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import _objectSpread from\"D:/projects/Cricket/akshu close/IPL/material-dashboard-react-master/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import React,{useEffect,useState,useContext}from'react';import axios from\"axios\";import{makeStyles,useTheme}from'@material-ui/core/styles';import DialogTitle from'@material-ui/core/DialogTitle';import Dialog from'@material-ui/core/Dialog';import Typography from'@material-ui/core/Typography';import Table from\"components/Table/Table.js\";import Grid from\"@material-ui/core/Grid\";import GridItem from\"components/Grid/GridItem.js\";import Button from'@material-ui/core/Button';// import MenuItem from '@material-ui/core/MenuItem';\n// import FormControl from '@material-ui/core/FormControl';\n// import DoneIcon from '@material-ui/icons/Done';\n// import NavigateBeforeIcon from '@material-ui/icons/NavigateBefore';\n// import NavigateNextIcon from '@material-ui/icons/NavigateNext';\n//import Container from \"@material-ui/core/Container\";\n// import Select from \"@material-ui/core/Select\";\n// import DialogActions from '@material-ui/core/DialogActions';\n// import DialogContent from '@material-ui/core/DialogContent';\n// import DialogContentText from '@material-ui/core/DialogContentText';\n// import Drawer from '@material-ui/core/Drawer';\n// import ChevronLeftIcon from '@material-ui/icons/ChevronLeft';\n// import ChevronRightIcon from '@material-ui/icons/ChevronRight';\n// import IconButton from '@material-ui/core/IconButton';\n// import CheckSharpIcon from '@material-ui/icons/CheckSharp';\n// import ClearSharpIcon from '@material-ui/icons/ClearSharp';\n// import Input from '@material-ui/core/Input';\nimport Avatar from\"@material-ui/core/Avatar\";import Card from\"components/Card/Card.js\";import CardAvatar from\"components/Card/CardAvatar.js\";import CardBody from\"components/Card/CardBody.js\";import{BlankArea,NoGroup,DisplayPageHeader}from'CustomComponents/CustomComponents.js';import{UserContext}from\"../../UserContext\";import socketIOClient from\"socket.io-client\";import{ENDPOINT,hasGroup}from'views/functions';var drawerWidth=100;var useStyles=makeStyles(function(theme){return{infoButton:{backgroundColor:'#FCDC00',\":disabled\":{backgroundColor:'#cddc39'}},margin:{margin:theme.spacing(1)},hdrText:{// right: 0,\n// fontSize: '12px',\n// color: red[700],\n// // position: 'absolute',\nalign:'center',marginTop:'0px',marginBottom:'0px'},image:{height:\"200px\"},container:{backgroundImage:\"url(\".concat(process.env.PUBLIC_URL,\"/0.JPG)\"),backgroundSize:'cover'},drawer:{width:drawerWidth,flexShrink:0},drawerPaper:{width:drawerWidth},drawerHeader:_objectSpread(_objectSpread({display:'flex',alignItems:'center',padding:theme.spacing(0,1)},theme.mixins.toolbar),{},{justifyContent:'flex-start'}),sold:{color:\"green\"},cardCategoryWhite:{color:\"rgba(255,255,255,.62)\",margin:\"0\",fontSize:\"14px\",marginTop:\"0\",marginBottom:\"0\"},cardTitleWhite:{color:\"#FFFFFF\",marginTop:\"0px\",minHeight:\"auto\",fontWeight:\"300\",fontFamily:\"'Roboto', 'Helvetica', 'Arial', sans-serif\",marginBottom:\"0px\",textDecoration:\"none\"},large:{width:theme.spacing(12),height:theme.spacing(12)},medium:{width:theme.spacing(9),height:theme.spacing(9)},playerinfo:{display:'flex',alignItems:'center',padding:theme.spacing(0,0),justifyContent:'flex-start'}};});function leavingAuction(myConn){console.log(\"Leaving Auction wah wah \");myConn.disconnect();}export default function Auction(){window.onbeforeunload=function(){return setUser(null);};var _useContext=useContext(UserContext),user=_useContext.user,setUser=_useContext.setUser;var classes=useStyles();var theme=useTheme();var _useState=useState(0),_useState2=_slicedToArray(_useState,2),playerId=_useState2[0],setPid=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),auctionStatus=_useState4[0],setAuctionStatus=_useState4[1];var _useState5=useState(\"\"),_useState6=_slicedToArray(_useState5,2),playerName=_useState6[0],setPlayerName=_useState6[1];var _useState7=useState(\"\"),_useState8=_slicedToArray(_useState7,2),playerImage=_useState8[0],setPlayerImage=_useState8[1];var _useState9=useState(\"\"),_useState10=_slicedToArray(_useState9,2),team=_useState10[0],setTeam=_useState10[1];var _useState11=useState(\"\"),_useState12=_slicedToArray(_useState11,2),role=_useState12[0],setRole=_useState12[1];var _useState13=useState(\"\"),_useState14=_slicedToArray(_useState13,2),battingStyle=_useState14[0],setBattingStyle=_useState14[1];var _useState15=useState(\"\"),_useState16=_slicedToArray(_useState15,2),bowlingStyle=_useState16[0],setBowlingStyle=_useState16[1];// const [open, setOpen] = useState(false);\nvar _useState17=useState(0),_useState18=_slicedToArray(_useState17,2),bidAmount=_useState18[0],setBidAmount=_useState18[1];var _useState19=useState(\"\"),_useState20=_slicedToArray(_useState19,2),bidUser=_useState20[0],setBidUser=_useState20[1];var _useState21=useState(0),_useState22=_slicedToArray(_useState21,2),bidUid=_useState22[0],setBidUid=_useState22[1];// const [bidOverMsg, setBidOverMsg] = useState(\"\");\n// const [confirmDialogOpen, setConfirmDialogOpen] = useState(false)\n// const [selectedOwner, setSelectedOwner] = useState(null);\nvar _useState23=useState(false),_useState24=_slicedToArray(_useState23,2),backDropOpen=_useState24[0],setBackDropOpen=_useState24[1];var _useState25=useState(),_useState26=_slicedToArray(_useState25,2),playerStatus=_useState26[0],setPlayerStatus=_useState26[1];var _useState27=useState([]),_useState28=_slicedToArray(_useState27,2),AuctionTableData=_useState28[0],setAuctionTableData=_useState28[1];var _useState29=useState(0),_useState30=_slicedToArray(_useState29,2),myBalanceAmount=_useState30[0],setMyBalanceAmount=_useState30[1];// const handleDrawerClose = () => {\n//     setOpen(false);\n// };\n// const handleModalClose = () => {\n//     setConfirmDialogOpen(false);\n// };\nfunction DisplayBidOverMsg(msg){setPlayerStatus(msg);// setConfirmDialogOpen(false);\nsetBackDropOpen(true);}// console.log(`Dangerous ${playerId}`)\nuseEffect(function(){var sendMessage={page:\"AUCT\",gid:localStorage.getItem(\"gid\"),uid:localStorage.getItem(\"uid\")};var sockConn=socketIOClient(ENDPOINT);var makeconnection=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return sockConn.connect();case 2:sockConn.emit(\"page\",sendMessage);case 3:case\"end\":return _context.stop();}}},_callee);}));return function makeconnection(){return _ref.apply(this,arguments);};}();function updatePlayerChange(newPlayerDetails,balanceDetails){// console.log(\"Player Changed\");\n// console.log(`New: ${newPlayerDetails.pid}  Old: ${playerId} `)\n// const { role, Team, battingStyle, bowlingStyle, pid, fullName } = newPlayerDetails;\n// first set PID so that display is better\nsetPid(newPlayerDetails.pid);var ourBalance=balanceDetails.filter(function(balance){return balance.uid==localStorage.getItem(\"uid\");});setMyBalanceAmount(ourBalance[0].balance);var allUserBalance=localStorage.getItem(\"admin\")===\"false\"?ourBalance:balanceDetails;setAuctionTableData(allUserBalance);// console.log(userBalance);\nsetRole(newPlayerDetails.role);setTeam(newPlayerDetails.Team);setBattingStyle(newPlayerDetails.battingStyle);setBowlingStyle(newPlayerDetails.bowlingStyle);setPlayerName(newPlayerDetails.fullName);// console.log(\"player change\")\n// console.log(`finally New player is ${newPlayerDetails.pid}`)\nvar tmp=\"\".concat(process.env.PUBLIC_URL,\"/\").concat(newPlayerDetails.pid,\".JPG\");if(playerImage!=tmp){// console.log(\"Different image\")\nsetPlayerImage(\"\".concat(process.env.PUBLIC_URL,\"/\").concat(newPlayerDetails.pid,\".JPG\"));}else{// console.log(\"Same player image\")\n}setAuctionStatus(\"RUNNING\");}makeconnection();sockConn.on(\"connect\",function(){sockConn.emit(\"page\",sendMessage);sockConn.on(\"bidOver\",function(myrec){// console.log(\"bid over reveived\");\nconsole.log(myrec);DisplayBidOverMsg(\"\".concat(myrec.playerName,\" successfully purchsed by \").concat(myrec.userName));});sockConn.on(\"newBid\",function(grec){// console.log(\"new bid reveived\");\nconsole.log(grec);setBidAmount(grec.auctionBid);setBidUser(grec.currentBidUser);setBidUid(grec.currentBidUid);});sockConn.on(\"playerChange\",/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(newPlayerDetails,balanceDetails){return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:updatePlayerChange(newPlayerDetails,balanceDetails);case 1:case\"end\":return _context2.stop();}}},_callee2);}));return function(_x,_x2){return _ref2.apply(this,arguments);};}());});var a=/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee3(){var response,response2,response1;return _regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:if(hasGroup()){_context3.next=2;break;}return _context3.abrupt(\"return\");case 2:_context3.next=4;return axios.get(\"/group/getauctionstatus/\".concat(localStorage.getItem(\"gid\")));case 4:response=_context3.sent;// console.log(response.data)\nsetAuctionStatus(response.data);if(!(response.data===\"RUNNING\")){_context3.next=19;break;}// get current player details\n//same as when data rcvd in socket msg playerChange\nconsole.log(\"1\");_context3.next=10;return axios.get(\"/auction/current/\".concat(localStorage.getItem(\"gid\")));case 10:response2=_context3.sent;console.log(\"2\");updatePlayerChange(response2.data.a,response2.data.b);// get whi has bidded\n_context3.next=15;return axios.get(\"/auction/getbid/\".concat(localStorage.getItem(\"gid\")));case 15:response1=_context3.sent;// console.log(\"1\");\nconsole.log(\"GETBID\");console.log(response1.data);if(response1.status===200){setBidAmount(response1.data.auctionBid);setBidUser(response1.data.currentBidUser);setBidUid(response1.data.currentBidUid);}case 19:case\"end\":return _context3.stop();}}},_callee3);}));return function a(){return _ref3.apply(this,arguments);};}();a();return function(){leavingAuction(sockConn);};},[]);// const handleOwnerChange = (event) => {\n//     setSelectedOwner(event.target.value);\n// };\nfunction sellPlayer(){return _sellPlayer.apply(this,arguments);}function _sellPlayer(){_sellPlayer=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee5(){var myUrl,response,balance,msg;return _regeneratorRuntime.wrap(function _callee5$(_context5){while(1){switch(_context5.prev=_context5.next){case 0:myUrl=\"/auction/add/\".concat(localStorage.getItem(\"gid\"),\"/\").concat(bidUid,\"/\").concat(playerId,\"/\").concat(bidAmount);console.log(myUrl);_context5.next=4;return fetch(myUrl);case 4:response=_context5.sent;if(!(response.status==200)){_context5.next=13;break;}console.log(\"getting balance\");_context5.next=9;return axios.get(\"/user/balance/\".concat(localStorage.getItem(\"gid\"),\"/all\"));case 9:balance=_context5.sent;setAuctionTableData(balance.data);_context5.next=27;break;case 13:_context5.t0=response.status;_context5.next=_context5.t0===707?16:_context5.t0===706?18:_context5.t0===704?20:_context5.t0===708?22:24;break;case 16:msg=\"Already Purchased\";return _context5.abrupt(\"break\",26);case 18:msg=\"User does not belong to this group\";return _context5.abrupt(\"break\",26);case 20:msg=\"Invalid Player\";return _context5.abrupt(\"break\",26);case 22:msg=\"Insufficient Balance\";return _context5.abrupt(\"break\",26);case 24:msg=\"unknown error \".concat(response.status);return _context5.abrupt(\"break\",26);case 26:DisplayBidOverMsg(msg);case 27:case\"end\":return _context5.stop();}}},_callee5);}));return _sellPlayer.apply(this,arguments);}function skipPlayer(){return _skipPlayer.apply(this,arguments);}function _skipPlayer(){_skipPlayer=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee6(){return _regeneratorRuntime.wrap(function _callee6$(_context6){while(1){switch(_context6.prev=_context6.next){case 0:_context6.next=2;return fetch(\"/auction/skip/\".concat(localStorage.getItem(\"gid\"),\"/\").concat(playerId));case 2:case\"end\":return _context6.stop();}}},_callee6);}));return _skipPlayer.apply(this,arguments);}function AdminAuction(){// console.log(`Pid from admin auction ${playerId}`)\nreturn/*#__PURE__*/React.createElement(\"div\",{align:\"center\",className:classes.root},/*#__PURE__*/React.createElement(DisplayPageHeader,{headerName:\"AUCTION\",groupName:localStorage.getItem(\"groupName\")}),/*#__PURE__*/React.createElement(BlankArea,null),/*#__PURE__*/React.createElement(Grid,{container:true,justify:\"center\",alignItems:\"center\"},/*#__PURE__*/React.createElement(GridItem,{xs:12,sm:12,md:12,lg:12},/*#__PURE__*/React.createElement(ShowPlayerAvatar,{pName:playerName,pImage:playerImage,pTeamLogo:team}),/*#__PURE__*/React.createElement(ShowValueButtons,null),/*#__PURE__*/React.createElement(ShowAdminButtons,null))),/*#__PURE__*/React.createElement(ShowBalance,null),/*#__PURE__*/React.createElement(ShowDialog,null));}// function AdminPending() {\n//     return <Button variant=\"contained\"\n//         color=\"secondary\"\n//         size=\"small\"\n//         className={classes.button}\n//         startIcon={<NavigateBeforeIcon />}\n//         onClick={() => startAuction(\"PENDING\")}>Start Auction</Button>\n// }\n// function UserAuctionPending() {\n//     return auctionStatus===\"PENDING\"? <Typography>Auction has not been started by Admin! <br /> Auction is Coming !!</Typography>:<Typography>Auction has ended</Typography>\n// }\nfunction ShowPlayerAvatar(props){return/*#__PURE__*/React.createElement(\"div\",{key:\"playerInfo\"},/*#__PURE__*/React.createElement(Card,{profile:true},/*#__PURE__*/React.createElement(CardAvatar,{profile:true},/*#__PURE__*/React.createElement(\"img\",{src:props.pImage,alt:\"...\"})),/*#__PURE__*/React.createElement(CardBody,{profile:true},/*#__PURE__*/React.createElement(\"h6\",{className:classes.hdrText},props.pName),/*#__PURE__*/React.createElement(Grid,{container:true,justify:\"center\",alignItems:\"center\"},/*#__PURE__*/React.createElement(Avatar,{variant:\"square\",src:\"\".concat(process.env.PUBLIC_URL,\"/\").concat(props.pTeamLogo,\".JPG\"),className:classes.medium})),/*#__PURE__*/React.createElement(\"div\",{align:\"center\"},/*#__PURE__*/React.createElement(\"h6\",{className:classes.hdrText,align:\"center\"},role,/*#__PURE__*/React.createElement(\"br\",null),battingStyle,/*#__PURE__*/React.createElement(\"br\",null),bowlingStyle)))));}function ShowBalance(){return/*#__PURE__*/React.createElement(Table,{tableHeaderColor:\"warning\",align:\"center\",tableHead:[\"Franchise\",\"Player Count\",\"Balance\"],tableData:AuctionTableData.map(function(x){var arr=[x.userName,x.playerCount,x.balance];return{data:arr,collapse:[]};})});}function handleMyBid(_x3){return _handleMyBid.apply(this,arguments);}function _handleMyBid(){_handleMyBid=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee7(newBid){var value,myURL,resp;return _regeneratorRuntime.wrap(function _callee7$(_context7){while(1){switch(_context7.prev=_context7.next){case 0:value=parseInt(newBid)+parseInt(bidAmount);console.log(localStorage.getItem(\"gid\"));console.log(localStorage.getItem(\"uid\"));console.log(value);myURL=\"/auction/nextbid/\".concat(localStorage.getItem(\"gid\"),\"/\").concat(localStorage.getItem(\"uid\"),\"/\").concat(value);console.log(myURL);_context7.next=8;return axios(myURL);case 8:resp=_context7.sent;case 9:case\"end\":return _context7.stop();}}},_callee7);}));return _handleMyBid.apply(this,arguments);}function BidButton(props){var btnMsg,btnDisable,btnSize;if(props.value===\"AMOUNT\"){console.log(bidAmount);btnMsg=\"Current Bid Amount:  \".concat(bidAmount);btnDisable=true;btnSize=\"medium\";}else if(props.value===\"NAME\"){btnMsg=\"Bid by :  \".concat(bidUser);btnDisable=true;btnSize=\"medium\";}else{btnMsg=\"+\"+props.value;var newValue=parseInt(bidAmount)+parseInt(props.value);btnDisable=newValue>parseInt(myBalanceAmount);//     btnDisable = false;\n// } else {\n//     btnMsg = \"---\"\n//     btnDisable = true;\n// }\n// btnSize = \"small\";\n}if(btnDisable){return/*#__PURE__*/React.createElement(Button,{variant:\"contained\",size:btnSize,className:classes.infoButton,disabled:true},btnMsg);}else{return/*#__PURE__*/React.createElement(Button,{variant:\"contained\",size:btnSize,className:classes.infoButton,onClick:function onClick(){handleMyBid(props.value);}},btnMsg);}}function ShowValueButtons(){if(auctionStatus===\"RUNNING\")return/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"div\",{align:\"center\"},/*#__PURE__*/React.createElement(BidButton,{value:\"AMOUNT\"})),/*#__PURE__*/React.createElement(\"div\",{align:\"center\"},/*#__PURE__*/React.createElement(BidButton,{value:\"NAME\"})),/*#__PURE__*/React.createElement(\"div\",{align:\"center\"},/*#__PURE__*/React.createElement(BidButton,{value:\"1\"}),/*#__PURE__*/React.createElement(BidButton,{value:\"2\"}),/*#__PURE__*/React.createElement(BidButton,{value:\"3\"}),/*#__PURE__*/React.createElement(BidButton,{value:\"4\"})),/*#__PURE__*/React.createElement(\"div\",{align:\"center\"},/*#__PURE__*/React.createElement(BidButton,{value:\"5\"}),/*#__PURE__*/React.createElement(BidButton,{value:\"10\"}),/*#__PURE__*/React.createElement(BidButton,{value:\"25\"}),/*#__PURE__*/React.createElement(BidButton,{value:\"50\"})));else return/*#__PURE__*/React.createElement(\"div\",null);}function ShowAdminButtons(){console.log(\"admin buttons\");console.log(localStorage.getItem(\"admin\").toLowerCase());if(localStorage.getItem(\"admin\").toLowerCase()===\"true\")return/*#__PURE__*/React.createElement(\"div\",{align:\"center\",key:\"playerAuctionButton\"},/*#__PURE__*/React.createElement(Button,{variant:\"contained\",color:\"primary\",size:\"small\",className:classes.button// startIcon={<CheckSharpIcon />}\n,disabled:bidAmount===0,onClick:sellPlayer},\"SOLD\"),/*#__PURE__*/React.createElement(Button,{variant:\"contained\",color:\"primary\",size:\"small\",className:classes.button// startIcon={<ClearSharpIcon />}\n,disabled:bidAmount!==0,onClick:function onClick(){return skipPlayer();}},\"UNSOLD\"));else return/*#__PURE__*/React.createElement(\"div\",null);}function ShowDialog(){return/*#__PURE__*/React.createElement(Dialog,{\"aria-labelledby\":\"simple-dialog-title\",open:backDropOpen,onClose:function onClose(){return setBackDropOpen(false);}},/*#__PURE__*/React.createElement(DialogTitle,{id:\"simple-dialog-title\",className:classes.sold},playerStatus));}// function SelctNewOwner() {\n//     return (\n//     <Select labelId=\"demo-simple-select-label\" id=\"demo-simple-select\"\n//         value={selectedOwner}\n//         displayEmpty\n//         onChange={handleOwnerChange}>\n//         {AuctionTableData.map(item => <MenuItem key={item.uid} value={item.uid}>{item.userName}</MenuItem>)}\n//     </Select>\n//     );\n// }\n// function ShowGroupName() {\n//     return(\n//         <div>\n//             <h3 align=\"center\">Auction ({localStorage.getItem(\"groupName\")})</h3>\n//             <br/>\n//         </div>\n//     );\n// }\n// function UserAuction() {\n//     return (\n//     <Grid container justify=\"center\" alignItems=\"center\" >\n//     <ShowGroupName/>\n//     <GridItem xs={12} sm={12} md={4} >\n//         <ShowPlayerAvatar pName={playerName} pImage={playerImage} pTeamLogo={team} /> \n//         <ShowBalance/>\n//     </GridItem>\n//     </Grid>\n//     );\n// }\nvar startAuction=/*#__PURE__*/function(){var _ref4=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee4(){var response;return _regeneratorRuntime.wrap(function _callee4$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:_context4.next=2;return axios.get(\"/group/setauctionstatus/\".concat(localStorage.getItem(\"gid\"),\"/RUNNING\"));case 2:response=_context4.sent;if(response.data){setAuctionStatus(\"RUNNING\");}case 4:case\"end\":return _context4.stop();}}},_callee4);}));return function startAuction(){return _ref4.apply(this,arguments);};}();function DisplayPendingButton(){/* if current starting pending.\r\n        */if(localStorage.getItem(\"admin\")===\"true\")return/*#__PURE__*/React.createElement(Button,{variant:\"contained\",color:\"primary\",size:\"small\",className:classes.button// disabled={localStorage.getItem(\"admin\") !== \"true\"}            \n// startIcon={<NavigateBeforeIcon />}\n,onClick:function onClick(){return startAuction(\"PENDING\");}},\"Start Auction\");else return/*#__PURE__*/React.createElement(\"div\",null);}function DisplayPendingOver(props){return/*#__PURE__*/React.createElement(Typography,{align:\"center\"},props.message);}if(hasGroup()){if(auctionStatus===\"PENDING\"){return/*#__PURE__*/React.createElement(\"div\",{align:\"center\"},/*#__PURE__*/React.createElement(DisplayPendingOver,{message:\"Auction has not yet started\"}),/*#__PURE__*/React.createElement(DisplayPending,null));}else if(auctionStatus===\"OVER\"){return/*#__PURE__*/React.createElement(\"div\",{align:\"center\"},/*#__PURE__*/React.createElement(DisplayPendingOver,{message:\"Auction is Over\"}));}else if(auctionStatus===\"RUNNING\"){return/*#__PURE__*/React.createElement(AdminAuction,null);}else{return/*#__PURE__*/React.createElement(BlankArea,null);}}else return/*#__PURE__*/React.createElement(NoGroup,null);}","map":{"version":3,"sources":["D:/projects/Cricket/akshu close/IPL/material-dashboard-react-master/src/views/Auction/Auction.js"],"names":["React","useEffect","useState","useContext","axios","makeStyles","useTheme","DialogTitle","Dialog","Typography","Table","Grid","GridItem","Button","Avatar","Card","CardAvatar","CardBody","BlankArea","NoGroup","DisplayPageHeader","UserContext","socketIOClient","ENDPOINT","hasGroup","drawerWidth","useStyles","theme","infoButton","backgroundColor","margin","spacing","hdrText","align","marginTop","marginBottom","image","height","container","backgroundImage","process","env","PUBLIC_URL","backgroundSize","drawer","width","flexShrink","drawerPaper","drawerHeader","display","alignItems","padding","mixins","toolbar","justifyContent","sold","color","cardCategoryWhite","fontSize","cardTitleWhite","minHeight","fontWeight","fontFamily","textDecoration","large","medium","playerinfo","leavingAuction","myConn","console","log","disconnect","Auction","window","onbeforeunload","setUser","user","classes","playerId","setPid","auctionStatus","setAuctionStatus","playerName","setPlayerName","playerImage","setPlayerImage","team","setTeam","role","setRole","battingStyle","setBattingStyle","bowlingStyle","setBowlingStyle","bidAmount","setBidAmount","bidUser","setBidUser","bidUid","setBidUid","backDropOpen","setBackDropOpen","playerStatus","setPlayerStatus","AuctionTableData","setAuctionTableData","myBalanceAmount","setMyBalanceAmount","DisplayBidOverMsg","msg","sendMessage","page","gid","localStorage","getItem","uid","sockConn","makeconnection","connect","emit","updatePlayerChange","newPlayerDetails","balanceDetails","pid","ourBalance","filter","balance","allUserBalance","Team","fullName","tmp","on","myrec","userName","grec","auctionBid","currentBidUser","currentBidUid","a","get","response","data","response2","b","response1","status","sellPlayer","myUrl","fetch","skipPlayer","AdminAuction","root","ShowPlayerAvatar","props","pImage","pName","pTeamLogo","ShowBalance","map","x","arr","playerCount","collapse","handleMyBid","newBid","value","parseInt","myURL","resp","BidButton","btnMsg","btnDisable","btnSize","newValue","ShowValueButtons","ShowAdminButtons","toLowerCase","button","ShowDialog","startAuction","DisplayPendingButton","DisplayPendingOver","message"],"mappings":"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","sourcesContent":["import React, { useEffect, useState, useContext } from 'react';\r\nimport axios from \"axios\";\r\nimport { makeStyles, useTheme } from '@material-ui/core/styles';\r\nimport DialogTitle from '@material-ui/core/DialogTitle';\r\nimport Dialog from '@material-ui/core/Dialog';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport Table from \"components/Table/Table.js\";\r\nimport Grid from \"@material-ui/core/Grid\";\r\nimport GridItem from \"components/Grid/GridItem.js\";\r\nimport Button from '@material-ui/core/Button';\r\n// import MenuItem from '@material-ui/core/MenuItem';\r\n// import FormControl from '@material-ui/core/FormControl';\r\n// import DoneIcon from '@material-ui/icons/Done';\r\n// import NavigateBeforeIcon from '@material-ui/icons/NavigateBefore';\r\n// import NavigateNextIcon from '@material-ui/icons/NavigateNext';\r\n//import Container from \"@material-ui/core/Container\";\r\n// import Select from \"@material-ui/core/Select\";\r\n// import DialogActions from '@material-ui/core/DialogActions';\r\n// import DialogContent from '@material-ui/core/DialogContent';\r\n// import DialogContentText from '@material-ui/core/DialogContentText';\r\n// import Drawer from '@material-ui/core/Drawer';\r\n// import ChevronLeftIcon from '@material-ui/icons/ChevronLeft';\r\n// import ChevronRightIcon from '@material-ui/icons/ChevronRight';\r\n// import IconButton from '@material-ui/core/IconButton';\r\n// import CheckSharpIcon from '@material-ui/icons/CheckSharp';\r\n// import ClearSharpIcon from '@material-ui/icons/ClearSharp';\r\n// import Input from '@material-ui/core/Input';\r\nimport Avatar from \"@material-ui/core/Avatar\"\r\nimport Card from \"components/Card/Card.js\";\r\nimport CardAvatar from \"components/Card/CardAvatar.js\";\r\nimport CardBody from \"components/Card/CardBody.js\";\r\nimport { BlankArea, NoGroup, DisplayPageHeader } from 'CustomComponents/CustomComponents.js';\r\nimport { UserContext } from \"../../UserContext\";\r\nimport socketIOClient from \"socket.io-client\";\r\nimport { ENDPOINT, hasGroup } from 'views/functions';\r\n\r\n\r\nconst drawerWidth = 100;\r\nconst useStyles = makeStyles((theme) => ({\r\n    infoButton: {\r\n        backgroundColor: '#FCDC00',\r\n        \":disabled\": {\r\n            backgroundColor: '#cddc39',\r\n        }\r\n    },\r\n    margin: {\r\n        margin: theme.spacing(1),\r\n    },\r\n    hdrText:  {\r\n        // right: 0,\r\n        // fontSize: '12px',\r\n        // color: red[700],\r\n        // // position: 'absolute',\r\n        align: 'center',\r\n        marginTop: '0px',\r\n        marginBottom: '0px',\r\n    },\r\n    image: {\r\n        height: \"200px\"\r\n    },\r\n    container: {\r\n        backgroundImage: `url(${process.env.PUBLIC_URL}/0.JPG)`,\r\n        backgroundSize: 'cover'\r\n    }, drawer: {\r\n        width: drawerWidth,\r\n        flexShrink: 0,\r\n    },\r\n    drawerPaper: {\r\n        width: drawerWidth,\r\n    },\r\n    drawerHeader: {\r\n        display: 'flex',\r\n        alignItems: 'center',\r\n        padding: theme.spacing(0, 1),\r\n        // necessary for content to be below app bar\r\n        ...theme.mixins.toolbar,\r\n        justifyContent: 'flex-start',\r\n    },\r\n    sold: {\r\n        color: \"green\"\r\n    }, \r\n    cardCategoryWhite: {\r\n        color: \"rgba(255,255,255,.62)\",\r\n        margin: \"0\",\r\n        fontSize: \"14px\",\r\n        marginTop: \"0\",\r\n        marginBottom: \"0\"\r\n    },\r\n    cardTitleWhite: {\r\n        color: \"#FFFFFF\",\r\n        marginTop: \"0px\",\r\n        minHeight: \"auto\",\r\n        fontWeight: \"300\",\r\n        fontFamily: \"'Roboto', 'Helvetica', 'Arial', sans-serif\",\r\n        marginBottom: \"0px\",\r\n        textDecoration: \"none\"\r\n    }, \r\n    large: {\r\n        width: theme.spacing(12),\r\n        height: theme.spacing(12),\r\n    },\r\n    medium: {\r\n        width: theme.spacing(9),\r\n        height: theme.spacing(9),\r\n    },\r\n    playerinfo: {\r\n        display: 'flex',\r\n        alignItems: 'center',\r\n        padding: theme.spacing(0, 0),\r\n        justifyContent: 'flex-start',\r\n    },\r\n}));\r\n\r\n\r\nfunction leavingAuction(myConn) {\r\n    console.log(\"Leaving Auction wah wah \");\r\n    myConn.disconnect();\r\n  }\r\n  \r\n  \r\n\r\nexport default function Auction() {\r\n\r\n    window.onbeforeunload = () => setUser(null)\r\n\r\n    const { user, setUser } = useContext(UserContext);\r\n    const classes = useStyles();\r\n    const theme = useTheme();\r\n    const [playerId, setPid] = useState(0);\r\n    const [auctionStatus, setAuctionStatus] = useState(\"\");\r\n    const [playerName, setPlayerName] = useState(\"\");\r\n    const [playerImage, setPlayerImage] = useState(\"\");\r\n    const [team, setTeam] = useState(\"\");\r\n    const [role, setRole] = useState(\"\");\r\n    const [battingStyle, setBattingStyle] = useState(\"\");\r\n    const [bowlingStyle, setBowlingStyle] = useState(\"\");\r\n    // const [open, setOpen] = useState(false);\r\n\r\n    const [bidAmount, setBidAmount] = useState(0);\r\n    const [bidUser, setBidUser] = useState(\"\");\r\n    const [bidUid, setBidUid] = useState(0);\r\n    // const [bidOverMsg, setBidOverMsg] = useState(\"\");\r\n    // const [confirmDialogOpen, setConfirmDialogOpen] = useState(false)\r\n    // const [selectedOwner, setSelectedOwner] = useState(null);\r\n    const [backDropOpen, setBackDropOpen] = useState(false);\r\n    const [playerStatus, setPlayerStatus] = useState();\r\n    const [AuctionTableData, setAuctionTableData] = useState([]);\r\n    const [myBalanceAmount, setMyBalanceAmount] = useState(0);\r\n\r\n    // const handleDrawerClose = () => {\r\n    //     setOpen(false);\r\n    // };\r\n    // const handleModalClose = () => {\r\n    //     setConfirmDialogOpen(false);\r\n    // };\r\n    function DisplayBidOverMsg(msg) {\r\n        setPlayerStatus(msg);\r\n        // setConfirmDialogOpen(false);\r\n        setBackDropOpen(true);        \r\n    }\r\n\r\n    // console.log(`Dangerous ${playerId}`)\r\n    useEffect(() => {\r\n        var sendMessage = {page: \"AUCT\", gid: localStorage.getItem(\"gid\"), uid: localStorage.getItem(\"uid\") };\r\n        var sockConn = socketIOClient(ENDPOINT);\r\n\r\n        const makeconnection = async () => {\r\n          await sockConn.connect();\r\n          sockConn.emit(\"page\", sendMessage);\r\n        }\r\n\r\n        function updatePlayerChange(newPlayerDetails, balanceDetails) {\r\n            // console.log(\"Player Changed\");\r\n            // console.log(`New: ${newPlayerDetails.pid}  Old: ${playerId} `)\r\n            // const { role, Team, battingStyle, bowlingStyle, pid, fullName } = newPlayerDetails;\r\n            // first set PID so that display is better\r\n            setPid(newPlayerDetails.pid)\r\n            let ourBalance = balanceDetails.filter(balance => balance.uid == localStorage.getItem(\"uid\"))\r\n            setMyBalanceAmount(ourBalance[0].balance);\r\n            let allUserBalance = (localStorage.getItem(\"admin\") === \"false\") ? ourBalance : balanceDetails;\r\n            setAuctionTableData(allUserBalance);\r\n            // console.log(userBalance);\r\n            setRole(newPlayerDetails.role)\r\n            setTeam(newPlayerDetails.Team)\r\n            setBattingStyle(newPlayerDetails.battingStyle)\r\n            setBowlingStyle(newPlayerDetails.bowlingStyle)\r\n            setPlayerName(newPlayerDetails.fullName)\r\n            // console.log(\"player change\")\r\n            // console.log(`finally New player is ${newPlayerDetails.pid}`)\r\n            let tmp = `${process.env.PUBLIC_URL}/${newPlayerDetails.pid}.JPG`\r\n            if (playerImage != tmp) {\r\n                // console.log(\"Different image\")\r\n                setPlayerImage(`${process.env.PUBLIC_URL}/${newPlayerDetails.pid}.JPG`);\r\n            } else {\r\n                // console.log(\"Same player image\")\r\n            }\r\n            setAuctionStatus(\"RUNNING\");\r\n        }\r\n\r\n        makeconnection();    \r\n        sockConn.on(\"connect\", () => {\r\n            sockConn.emit(\"page\", sendMessage);\r\n\r\n            sockConn.on(\"bidOver\", (myrec) => {\r\n                // console.log(\"bid over reveived\");\r\n                console.log(myrec);\r\n                DisplayBidOverMsg(`${myrec.playerName} successfully purchsed by ${myrec.userName}`);\r\n            });\r\n            sockConn.on(\"newBid\", (grec) => {\r\n                // console.log(\"new bid reveived\");\r\n                console.log(grec);\r\n                setBidAmount(grec.auctionBid);\r\n                setBidUser(grec.currentBidUser);\r\n                setBidUid(grec.currentBidUid);\r\n            });\r\n            sockConn.on(\"playerChange\", async (newPlayerDetails, balanceDetails) => {\r\n                updatePlayerChange(newPlayerDetails, balanceDetails);\r\n            });\r\n        })\r\n\r\n        const a = async () => {\r\n            if (!hasGroup()) return;\r\n            // console.log(\"Calling get auction status\");\r\n            const response = await axios.get(`/group/getauctionstatus/${localStorage.getItem(\"gid\")}`);\r\n            // console.log(response.data)\r\n            setAuctionStatus(response.data);\r\n            if (response.data === \"RUNNING\") {\r\n                // get current player details\r\n                //same as when data rcvd in socket msg playerChange\r\n                console.log(\"1\");\r\n                const response2 = await axios.get(`/auction/current/${localStorage.getItem(\"gid\")}`)\r\n                console.log(\"2\");\r\n                updatePlayerChange(response2.data.a, response2.data.b);\r\n                // get whi has bidded\r\n                const response1 = await axios.get(`/auction/getbid/${localStorage.getItem(\"gid\")}`);\r\n                // console.log(\"1\");\r\n                console.log(\"GETBID\");\r\n                console.log(response1.data)\r\n                if (response1.status === 200) {\r\n                    setBidAmount(response1.data.auctionBid)\r\n                    setBidUser(response1.data.currentBidUser);\r\n                    setBidUid(response1.data.currentBidUid);            \r\n                }\r\n            }\r\n        }\r\n        a();\r\n\r\n        return () => {\r\n            leavingAuction(sockConn);\r\n        }\r\n    }, []);\r\n\r\n\r\n    // const handleOwnerChange = (event) => {\r\n    //     setSelectedOwner(event.target.value);\r\n    // };\r\n\r\n\r\n    async function sellPlayer() {\r\n        let myUrl = `/auction/add/${localStorage.getItem(\"gid\")}/${bidUid}/${playerId}/${bidAmount}`\r\n        console.log(myUrl);\r\n        let response = await fetch(myUrl);\r\n        if (response.status == 200) {\r\n            console.log(\"getting balance\");\r\n            const balance = await axios.get(`/user/balance/${localStorage.getItem(\"gid\")}/all`);\r\n            setAuctionTableData(balance.data);\r\n        } else {\r\n            var msg;\r\n            switch (response.status) { \r\n                case 707: msg = \"Already Purchased\"; break;\r\n                case 706: msg = \"User does not belong to this group\"; break;\r\n                case 704: msg = \"Invalid Player\"; break;\r\n                case 708: msg = \"Insufficient Balance\"; break;\r\n                // case 200: msg = `${playerName} purchsed by ${bidUser} by bid amount ${bidAmount}`; break;\r\n                default:  msg = `unknown error ${response.status}`; break;\r\n            }\r\n            DisplayBidOverMsg(msg);\r\n        }\r\n    }\r\n\r\n    async function skipPlayer() {\r\n        await fetch(`/auction/skip/${localStorage.getItem(\"gid\")}/${playerId}`);\r\n    }\r\n\r\n    function AdminAuction() {\r\n        // console.log(`Pid from admin auction ${playerId}`)\r\n        return (<div align=\"center\" className={classes.root}>\r\n            {/* <Typography component=\"h1\" variant=\"h5\">AUCTION</Typography>\r\n            <DisplayGroupName groupName={localStorage.getItem(\"groupName\")}/> */}\r\n            <DisplayPageHeader headerName=\"AUCTION\" groupName={localStorage.getItem(\"groupName\")}/>\r\n            <BlankArea/>\r\n            <Grid container justify=\"center\" alignItems=\"center\" >\r\n                <GridItem xs={12} sm={12} md={12} lg={12} >\r\n                    <ShowPlayerAvatar pName={playerName} pImage={playerImage} pTeamLogo={team} /> \r\n                    <ShowValueButtons />\r\n                    <ShowAdminButtons/>\r\n                </GridItem>\r\n            </Grid>\r\n            <ShowBalance/>\r\n            <ShowDialog/>\r\n        </div>\r\n        );\r\n    }\r\n\r\n    // function AdminPending() {\r\n    //     return <Button variant=\"contained\"\r\n    //         color=\"secondary\"\r\n    //         size=\"small\"\r\n    //         className={classes.button}\r\n    //         startIcon={<NavigateBeforeIcon />}\r\n    //         onClick={() => startAuction(\"PENDING\")}>Start Auction</Button>\r\n    // }\r\n\r\n    // function UserAuctionPending() {\r\n        \r\n    //     return auctionStatus===\"PENDING\"? <Typography>Auction has not been started by Admin! <br /> Auction is Coming !!</Typography>:<Typography>Auction has ended</Typography>\r\n    // }\r\n\r\n    function ShowPlayerAvatar(props) {\r\n        return (\r\n            <div key=\"playerInfo\">\r\n                <Card profile>                    \r\n                    <CardAvatar profile>\r\n                        <img src={props.pImage} alt=\"...\" />\r\n                    </CardAvatar>\r\n                    <CardBody profile>\r\n                        {/* <h6 className={classes.cardTitle}>{props.pName}</h6> */}\r\n                        <h6 className={classes.hdrText}>{props.pName}</h6>\r\n                        <Grid container justify=\"center\" alignItems=\"center\">\r\n                            <Avatar variant=\"square\" src={`${process.env.PUBLIC_URL}/${props.pTeamLogo}.JPG`} className={classes.medium} />\r\n                        </Grid>\r\n                        <div align=\"center\"><h6 className={classes.hdrText} align=\"center\">\r\n                            {role}<br/>\r\n                            {battingStyle}<br />\r\n                            {bowlingStyle}\r\n                        </h6></div>\r\n                    </CardBody>\r\n                </Card>\r\n            </div>\r\n        );\r\n    }\r\n\r\n    function ShowBalance() {\r\n        return (\r\n            <Table tableHeaderColor=\"warning\" align=\"center\"\r\n                tableHead={[\"Franchise\", \"Player Count\", \"Balance\"]}\r\n                tableData={AuctionTableData.map(x => {\r\n                    const arr = [x.userName, x.playerCount, x.balance]\r\n                    return { data: arr, collapse: [] }\r\n                })}/>\r\n        );\r\n    }\r\n\r\n    async function handleMyBid(newBid) {\r\n        var value = parseInt(newBid) + parseInt(bidAmount);\r\n\r\n        console.log(localStorage.getItem(\"gid\"));\r\n        console.log(localStorage.getItem(\"uid\"));\r\n        console.log(value);        \r\n        let myURL=`/auction/nextbid/${localStorage.getItem(\"gid\")}/${localStorage.getItem(\"uid\")}/${value}`;\r\n        console.log(myURL);\r\n        var resp = await axios(myURL);\r\n        // console.log(`Bid for value ${newBid}`)\r\n        // setBidAmount();\r\n    }\r\n\r\n    function BidButton(props) {\r\n        let btnMsg, btnDisable, btnSize;\r\n        if (props.value === \"AMOUNT\") {\r\n            console.log(bidAmount);\r\n            btnMsg = `Current Bid Amount:  ${bidAmount}`;\r\n            btnDisable = true;\r\n            btnSize = \"medium\";\r\n        } else if (props.value === \"NAME\") {\r\n            btnMsg = `Bid by :  ${bidUser}`;\r\n            btnDisable = true;\r\n            btnSize = \"medium\";\r\n        } else {\r\n            btnMsg = \"+\"+props.value;\r\n            let newValue = parseInt(bidAmount) + parseInt(props.value);\r\n            btnDisable = (newValue > parseInt(myBalanceAmount));\r\n            //     btnDisable = false;\r\n            // } else {\r\n            //     btnMsg = \"---\"\r\n            //     btnDisable = true;\r\n            // }\r\n            // btnSize = \"small\";\r\n        }\r\n        if (btnDisable) {\r\n            return (\r\n            <Button variant=\"contained\"  size={btnSize}\r\n            className={classes.infoButton}\r\n            disabled>\r\n            {btnMsg}\r\n            </Button>\r\n            );\r\n        } else {\r\n            return (\r\n            <Button variant=\"contained\"  size={btnSize}\r\n            className={classes.infoButton}\r\n            onClick={() => { handleMyBid(props.value); }}>\r\n            {btnMsg}\r\n            </Button>\r\n            );\r\n        }\r\n    }\r\n\r\n    function ShowValueButtons() {\r\n        if (auctionStatus === \"RUNNING\")\r\n            return (\r\n            <div>\r\n                <div align=\"center\">\r\n                    <BidButton value=\"AMOUNT\"/>\r\n                </div>\r\n                <div align=\"center\">\r\n                    <BidButton value=\"NAME\"/>\r\n                </div>\r\n                <div align=\"center\">\r\n                    {/* <BidButton value=\"1\" />\r\n                    <BidButton value=\"2\" />\r\n                    <BidButton value=\"3\" />\r\n                    <BidButton value=\"4\" />\r\n                    <BidButton value=\"5\" /> */}\r\n                    <BidButton value=\"1\" />\r\n                    <BidButton value=\"2\" />\r\n                    <BidButton value=\"3\" />\r\n                    <BidButton value=\"4\" />\r\n                </div>\r\n                <div align=\"center\">\r\n                    {/* <BidButton value=\"10\" />\r\n                    <BidButton value=\"15\" />\r\n                    <BidButton value=\"20\" />\r\n                    <BidButton value=\"25\" />\r\n                    <BidButton value=\"50\" /> */}\r\n                    <BidButton value=\"5\" />\r\n                    <BidButton value=\"10\" />\r\n                    <BidButton value=\"25\" />\r\n                    <BidButton value=\"50\" />\r\n                </div>\r\n            </div>);\r\n        else\r\n            return(<div></div>);\r\n    }\r\n\r\n    function ShowAdminButtons() {\r\n        console.log(\"admin buttons\")\r\n        console.log(localStorage.getItem(\"admin\").toLowerCase());\r\n        if (localStorage.getItem(\"admin\").toLowerCase() === \"true\")\r\n            return(\r\n            <div align=\"center\" key=\"playerAuctionButton\">\r\n                <Button\r\n                    variant=\"contained\"\r\n                    color=\"primary\"\r\n                    size=\"small\"\r\n                    className={classes.button}\r\n                    // startIcon={<CheckSharpIcon />}\r\n                    disabled={bidAmount === 0}\r\n                    onClick={sellPlayer}>\r\n                    SOLD\r\n                </Button>\r\n                <Button\r\n                    variant=\"contained\"\r\n                    color=\"primary\"\r\n                    size=\"small\"\r\n                    className={classes.button}\r\n                    // startIcon={<ClearSharpIcon />}\r\n                    disabled={bidAmount !== 0}\r\n                    onClick={() => skipPlayer()}>\r\n                    UNSOLD\r\n                </Button>\r\n            </div>\r\n            );\r\n        else \r\n            return(<div></div>);\r\n    }\r\n\r\n    function ShowDialog() {\r\n        return (\r\n        <Dialog aria-labelledby=\"simple-dialog-title\" open={backDropOpen}\r\n            onClose={() => setBackDropOpen(false)} >\r\n            <DialogTitle id=\"simple-dialog-title\" className={classes.sold}>{playerStatus}</DialogTitle>\r\n        </Dialog>\r\n        );\r\n    }\r\n\r\n    // function SelctNewOwner() {\r\n    //     return (\r\n    //     <Select labelId=\"demo-simple-select-label\" id=\"demo-simple-select\"\r\n    //         value={selectedOwner}\r\n    //         displayEmpty\r\n    //         onChange={handleOwnerChange}>\r\n    //         {AuctionTableData.map(item => <MenuItem key={item.uid} value={item.uid}>{item.userName}</MenuItem>)}\r\n    //     </Select>\r\n    //     );\r\n    // }\r\n\r\n    // function ShowGroupName() {\r\n    //     return(\r\n    //         <div>\r\n    //             <h3 align=\"center\">Auction ({localStorage.getItem(\"groupName\")})</h3>\r\n    //             <br/>\r\n    //         </div>\r\n    //     );\r\n    // }\r\n\r\n    // function UserAuction() {\r\n    //     return (\r\n    //     <Grid container justify=\"center\" alignItems=\"center\" >\r\n    //     <ShowGroupName/>\r\n    //     <GridItem xs={12} sm={12} md={4} >\r\n    //         <ShowPlayerAvatar pName={playerName} pImage={playerImage} pTeamLogo={team} /> \r\n    //         <ShowBalance/>\r\n    //     </GridItem>\r\n    //     </Grid>\r\n    //     );\r\n    // }\r\n\r\n    const startAuction = async () => {\r\n        const response = await axios.get(`/group/setauctionstatus/${localStorage.getItem(\"gid\")}/RUNNING`);\r\n        if (response.data) {\r\n            setAuctionStatus(\"RUNNING\");\r\n        }\r\n    }\r\n\r\n    function DisplayPendingButton() {\r\n        /* if current starting pending.\r\n        */ \r\n        if (localStorage.getItem(\"admin\") === \"true\")\r\n            return ( \r\n                <Button variant=\"contained\"\r\n                color=\"primary\"\r\n                size=\"small\"\r\n                className={classes.button}\r\n                // disabled={localStorage.getItem(\"admin\") !== \"true\"}            \r\n                // startIcon={<NavigateBeforeIcon />}\r\n                onClick={() => startAuction(\"PENDING\")}>Start Auction\r\n                </Button>\r\n            );\r\n        else\r\n            return <div></div>;\r\n    }\r\n\r\n    function DisplayPendingOver(props) {\r\n        return (<Typography align=\"center\">{props.message}</Typography>);\r\n    }\r\n\r\n    if (hasGroup()) {\r\n        if ( auctionStatus === \"PENDING\") {\r\n            return (\r\n                <div align=\"center\">\r\n                    <DisplayPendingOver message=\"Auction has not yet started\"/>\r\n                    <DisplayPending/>\r\n                </div>);\r\n        } else if (auctionStatus === \"OVER\") {\r\n            return (\r\n                <div align=\"center\">\r\n                    <DisplayPendingOver message=\"Auction is Over\"/>\r\n                </div>);\r\n        } else if (auctionStatus === \"RUNNING\") {\r\n            return (<AdminAuction />); \r\n        } else {\r\n            return (<BlankArea/>);\r\n        } \r\n    } else\r\n        return <NoGroup/>;\r\n}\r\n"]},"metadata":{},"sourceType":"module"}