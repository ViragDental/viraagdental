{"ast":null,"code":"import _regeneratorRuntime from\"D:/projects/Cricket/akshu close/IPL/material-dashboard-react-master/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"D:/projects/Cricket/akshu close/IPL/material-dashboard-react-master/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"D:/projects/Cricket/akshu close/IPL/material-dashboard-react-master/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import _classCallCheck from\"D:/projects/Cricket/akshu close/IPL/material-dashboard-react-master/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"D:/projects/Cricket/akshu close/IPL/material-dashboard-react-master/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"D:/projects/Cricket/akshu close/IPL/material-dashboard-react-master/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"D:/projects/Cricket/akshu close/IPL/material-dashboard-react-master/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{useState,useContext}from'react';import Avatar from'@material-ui/core/Avatar';import Button from'@material-ui/core/Button';import CssBaseline from'@material-ui/core/CssBaseline';// import TextField from '@material-ui/core/TextField';\nimport Link from'@material-ui/core/Link';import{Switch,Route}from'react-router-dom';// import Grid from '@material-ui/core/Grid';\n// import Box from '@material-ui/core/Box';\nimport LockOutlinedIcon from'@material-ui/icons/LockOutlined';import Typography from'@material-ui/core/Typography';import{makeStyles}from'@material-ui/core/styles';import Container from'@material-ui/core/Container';import{UserContext}from\"../../UserContext\";import axios from\"axios\";import{ValidatorForm,TextValidator}from'react-material-ui-form-validator';import red from'@material-ui/core/colors/red';import{useHistory}from\"react-router-dom\";import{validateSpecialCharacters,validateEmail,cdRefresh}from\"views/functions.js\";import{CricDreamLogo}from'CustomComponents/CustomComponents.js';import{setTab}from\"CustomComponents/CricDreamTabs.js\";var useStyles=makeStyles(function(theme){return{paper:{marginTop:theme.spacing(8),display:'flex',flexDirection:'column',alignItems:'center'},avatar:{margin:theme.spacing(1),backgroundColor:theme.palette.secondary.main},form:{width:'100%',// Fix IE 11 issue.\nmarginTop:theme.spacing(1)},submit:{margin:theme.spacing(3,0,2)},error:{// right: 0,\nfontSize:'12px',color:red[700],// position: 'absolute',\nalignItems:'center',marginTop:'0px'}};});var ChildComp=/*#__PURE__*/function(_React$Component){_inherits(ChildComp,_React$Component);var _super=_createSuper(ChildComp);function ChildComp(){_classCallCheck(this,ChildComp);return _super.apply(this,arguments);}_createClass(ChildComp,[{key:\"componentDidMount\",value:function componentDidMount(){var _this=this;// custom rule will have name 'isPasswordMatch'\nValidatorForm.addValidationRule('isPasswordMatch',function(value){return value===_this.props.p1;});ValidatorForm.addValidationRule('minLength',function(value){return value.length>=6;});ValidatorForm.addValidationRule('noSpecialCharacters',function(value){return validateSpecialCharacters(value);});ValidatorForm.addValidationRule('isEmailOK',function(value){return validateEmail(value);});}},{key:\"componentWillUnmount\",value:function componentWillUnmount(){// remove rule when it is not needed\nValidatorForm.removeValidationRule('isPasswordMatch');ValidatorForm.removeValidationRule('isEmailOK');ValidatorForm.removeValidationRule('minLength');ValidatorForm.removeValidationRule('noSpecialCharacters');}},{key:\"render\",value:function render(){return/*#__PURE__*/React.createElement(\"br\",null);}}]);return ChildComp;}(React.Component);// const handleSubmit = e => {\n//   e.preventDefault();\n// };\nexport default function ChangePassword(){var classes=useStyles();var history=useHistory();// const [userName, setUserName] = useState(\"\");\nvar _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),currentPassword=_useState2[0],setCurrentPassword=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),newPassword=_useState4[0],setNewPassword=_useState4[1];var _useState5=useState(\"\"),_useState6=_slicedToArray(_useState5,2),repeatPassword=_useState6[0],setRepeatPassword=_useState6[1];var _useState7=useState(0),_useState8=_slicedToArray(_useState7,2),registerStatus=_useState8[0],setRegisterStatus=_useState8[1];// const { setUser } = useContext(UserContext);\n// const handleChange = (event) => {\n//   const { user } = this.state;\n//   user[event.target.name] = event.target.value;\n//   this.setState({ user });\n// }\nvar handleSubmit=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var response;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:console.log(\"Submit command provided\");if(!(currentPassword===newPassword)){_context.next=4;break;}setRegisterStatus(611);return _context.abrupt(\"return\");case 4:_context.next=6;return fetch(\"\".concat(process.env.REACT_APP_AXIOS_BASEPATH,\"/user/reset/\").concat(localStorage.getItem(\"uid\"),\"/\").concat(currentPassword,\"/\").concat(newPassword));case 6:response=_context.sent;if(response.status===200){setTab(0);}else{// error\nsetRegisterStatus(response.status);console.log(\"Status is \".concat(response.status));}case 8:case\"end\":return _context.stop();}}},_callee);}));return function handleSubmit(){return _ref.apply(this,arguments);};}();function handleLogin(){// console.log(\"Call for login here\");\n// history.push(\"/signin\")\nlocalStorage.setItem(\"currentLogin\",\"SIGNIN\");cdRefresh();}function ShowResisterStatus(){// console.log(`Status is ${registerStatus}`);\nvar myMsg;switch(registerStatus){case 200:// setUserName(\"\");\n// setPassword(\"\");\n// setRepeatPassword(\"\");\n// setEmail(\"\");\nmyMsg=\"Updated Password successfully.\";break;case 602:myMsg=\"Invalid Current password\";break;case 611:myMsg=\"New password has to be other than CUrrent Password\";break;default:myMsg=\"\";break;}return/*#__PURE__*/React.createElement(Typography,{className:registerStatus===200?classes.root:classes.error},myMsg);}function BlankArea(){return/*#__PURE__*/React.createElement(\"h3\",null);}return/*#__PURE__*/React.createElement(Container,{component:\"main\",maxWidth:\"xs\"},/*#__PURE__*/React.createElement(CssBaseline,null),/*#__PURE__*/React.createElement(\"div\",{className:classes.paper},/*#__PURE__*/React.createElement(Typography,{component:\"h1\",variant:\"h5\"},\"Change Password\"),/*#__PURE__*/React.createElement(ValidatorForm,{className:classes.form,onSubmit:handleSubmit},/*#__PURE__*/React.createElement(TextValidator,{variant:\"outlined\",required:true,fullWidth:true,label:\"Current Password\",onChange:function onChange(event){return setCurrentPassword(event.target.value);},name:\"currentpassword\",type:\"password\",validators:['required','minLength','noSpecialCharacters'],errorMessages:['Current Password to be provided','Mimumum 6 characters required','Special characters not permitted'],value:currentPassword}),/*#__PURE__*/React.createElement(BlankArea,null),/*#__PURE__*/React.createElement(TextValidator,{variant:\"outlined\",required:true,fullWidth:true,label:\"Password\",onChange:function onChange(event){return setNewPassword(event.target.value);},name:\"password\",type:\"password\",validators:['required','minLength','noSpecialCharacters'],errorMessages:['Password to be provided','Mimumum 6 characters required','Special characters not permitted'],value:newPassword}),/*#__PURE__*/React.createElement(BlankArea,null),/*#__PURE__*/React.createElement(TextValidator,{variant:\"outlined\",required:true,fullWidth:true,label:\"Repeat password\",onChange:function onChange(event){return setRepeatPassword(event.target.value);},name:\"repeatPassword\",type:\"password\",validators:['isPasswordMatch','required'],errorMessages:['password mismatch','this field is required'],value:repeatPassword}),/*#__PURE__*/React.createElement(ShowResisterStatus,null),/*#__PURE__*/React.createElement(BlankArea,null),/*#__PURE__*/React.createElement(Button,{type:\"submit\",fullWidth:true,variant:\"contained\",color:\"primary\",className:classes.submit},\"Update\"))),/*#__PURE__*/React.createElement(ChildComp,{p1:newPassword}));}","map":{"version":3,"sources":["D:/projects/Cricket/akshu close/IPL/material-dashboard-react-master/src/views/Login/ChangePassword.js"],"names":["React","useState","useContext","Avatar","Button","CssBaseline","Link","Switch","Route","LockOutlinedIcon","Typography","makeStyles","Container","UserContext","axios","ValidatorForm","TextValidator","red","useHistory","validateSpecialCharacters","validateEmail","cdRefresh","CricDreamLogo","setTab","useStyles","theme","paper","marginTop","spacing","display","flexDirection","alignItems","avatar","margin","backgroundColor","palette","secondary","main","form","width","submit","error","fontSize","color","ChildComp","addValidationRule","value","props","p1","length","removeValidationRule","Component","ChangePassword","classes","history","currentPassword","setCurrentPassword","newPassword","setNewPassword","repeatPassword","setRepeatPassword","registerStatus","setRegisterStatus","handleSubmit","console","log","fetch","process","env","REACT_APP_AXIOS_BASEPATH","localStorage","getItem","response","status","handleLogin","setItem","ShowResisterStatus","myMsg","root","BlankArea","event","target"],"mappings":"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","sourcesContent":["import React, { useState ,useContext} from 'react';\r\nimport Avatar from '@material-ui/core/Avatar';\r\nimport Button from '@material-ui/core/Button';\r\nimport CssBaseline from '@material-ui/core/CssBaseline';\r\n// import TextField from '@material-ui/core/TextField';\r\nimport Link from '@material-ui/core/Link';\r\nimport { Switch, Route } from 'react-router-dom';\r\n// import Grid from '@material-ui/core/Grid';\r\n// import Box from '@material-ui/core/Box';\r\nimport LockOutlinedIcon from '@material-ui/icons/LockOutlined';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport Container from '@material-ui/core/Container';\r\nimport { UserContext } from \"../../UserContext\";\r\nimport axios from \"axios\";\r\nimport { ValidatorForm, TextValidator} from 'react-material-ui-form-validator';\r\nimport red from '@material-ui/core/colors/red';\r\nimport { useHistory } from \"react-router-dom\";\r\nimport {validateSpecialCharacters, validateEmail, cdRefresh} from \"views/functions.js\";\r\nimport { CricDreamLogo } from 'CustomComponents/CustomComponents.js';\r\nimport { setTab } from \"CustomComponents/CricDreamTabs.js\"\r\n\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  paper: {\r\n    marginTop: theme.spacing(8),\r\n    display: 'flex',\r\n    flexDirection: 'column',\r\n    alignItems: 'center',\r\n  },\r\n  avatar: {\r\n    margin: theme.spacing(1),\r\n    backgroundColor: theme.palette.secondary.main,\r\n  },\r\n  form: {\r\n    width: '100%', // Fix IE 11 issue.\r\n    marginTop: theme.spacing(1),\r\n  },\r\n  submit: {\r\n    margin: theme.spacing(3, 0, 2),\r\n  },\r\n  error:  {\r\n      // right: 0,\r\n      fontSize: '12px',\r\n      color: red[700],\r\n      // position: 'absolute',\r\n      alignItems: 'center',\r\n      marginTop: '0px',\r\n  },\r\n}));\r\n\r\nclass ChildComp extends React.Component {\r\n\r\n  componentDidMount()  {\r\n    // custom rule will have name 'isPasswordMatch'\r\n    ValidatorForm.addValidationRule('isPasswordMatch', (value) => {\r\n      return (value === this.props.p1)\r\n    });\r\n\r\n    ValidatorForm.addValidationRule('minLength', (value) => {\r\n      return (value.length >= 6)\r\n    });\r\n\r\n    ValidatorForm.addValidationRule('noSpecialCharacters', (value) => {\r\n      return validateSpecialCharacters(value);\r\n    });\r\n\r\n    ValidatorForm.addValidationRule('isEmailOK', (value) => {\r\n      return validateEmail(value);\r\n    });\r\n  }\r\n\r\n  \r\n  componentWillUnmount() {\r\n    // remove rule when it is not needed\r\n    ValidatorForm.removeValidationRule('isPasswordMatch');\r\n    ValidatorForm.removeValidationRule('isEmailOK');\r\n    ValidatorForm.removeValidationRule('minLength');\r\n    ValidatorForm.removeValidationRule('noSpecialCharacters');   \r\n  }\r\n\r\n  render() {\r\n    return <br/>;\r\n  }\r\n\r\n}\r\n// const handleSubmit = e => {\r\n//   e.preventDefault();\r\n// };\r\n\r\n\r\n\r\nexport default function ChangePassword() {\r\n  const classes = useStyles();\r\n  const history = useHistory();\r\n  // const [userName, setUserName] = useState(\"\");\r\n  const [currentPassword, setCurrentPassword] = useState(\"\");\r\n  const [newPassword, setNewPassword] = useState(\"\");\r\n  const [repeatPassword, setRepeatPassword] = useState(\"\");\r\n  const [registerStatus, setRegisterStatus] = useState(0);\r\n\r\n  // const { setUser } = useContext(UserContext);\r\n\r\n  // const handleChange = (event) => {\r\n  //   const { user } = this.state;\r\n  //   user[event.target.name] = event.target.value;\r\n  //   this.setState({ user });\r\n  // }\r\n\r\n  const handleSubmit = async() => {\r\n    console.log(\"Submit command provided\");\r\n    if (currentPassword === newPassword) {\r\n      setRegisterStatus(611);\r\n      return;\r\n    }\r\n    let response = await fetch(`${process.env.REACT_APP_AXIOS_BASEPATH}/user/reset/${localStorage.getItem(\"uid\")}/${currentPassword}/${newPassword}`);\r\n    if (response.status === 200) {\r\n      setTab(0);\r\n    } else {\r\n      // error\r\n      setRegisterStatus(response.status);\r\n      console.log(`Status is ${response.status}`);\r\n    }\r\n  }\r\n\r\n  function handleLogin() {\r\n    // console.log(\"Call for login here\");\r\n    // history.push(\"/signin\")\r\n    localStorage.setItem(\"currentLogin\", \"SIGNIN\");\r\n    cdRefresh();\r\n\r\n  }\r\n\r\n  function ShowResisterStatus() {\r\n    // console.log(`Status is ${registerStatus}`);\r\n    let myMsg;\r\n    switch (registerStatus) {\r\n      case 200:\r\n        // setUserName(\"\");\r\n        // setPassword(\"\");\r\n        // setRepeatPassword(\"\");\r\n        // setEmail(\"\");\r\n        myMsg = `Updated Password successfully.`;\r\n        break;\r\n      case 602:\r\n        myMsg = \"Invalid Current password\";\r\n        break;\r\n      case 611:\r\n        myMsg = \"New password has to be other than CUrrent Password\";\r\n        break;\r\n        default:\r\n          myMsg = \"\";\r\n          break;\r\n    }\r\n    return(\r\n      <Typography className={(registerStatus === 200) ? classes.root : classes.error}>{myMsg}</Typography>\r\n    )\r\n  }\r\n\r\n  function BlankArea() {\r\n    return(<h3></h3>)\r\n  }\r\n\r\n  return (\r\n    <Container component=\"main\" maxWidth=\"xs\">\r\n      <CssBaseline />\r\n      <div className={classes.paper}>\r\n      <Typography component=\"h1\" variant=\"h5\">\r\n        Change Password\r\n      </Typography>\r\n      <ValidatorForm className={classes.form} onSubmit={handleSubmit}>\r\n      <TextValidator\r\n          variant=\"outlined\"\r\n          required\r\n          fullWidth      \r\n          label=\"Current Password\"\r\n          onChange={(event) => setCurrentPassword(event.target.value)}\r\n          name=\"currentpassword\"\r\n          type=\"password\"\r\n          validators={['required', 'minLength', 'noSpecialCharacters']}\r\n          errorMessages={['Current Password to be provided', 'Mimumum 6 characters required', 'Special characters not permitted']}\r\n          value={currentPassword}\r\n      />\r\n      <BlankArea/>\r\n      <TextValidator\r\n          variant=\"outlined\"\r\n          required\r\n          fullWidth      \r\n          label=\"Password\"\r\n          onChange={(event) => setNewPassword(event.target.value)}\r\n          name=\"password\"\r\n          type=\"password\"\r\n          validators={['required', 'minLength', 'noSpecialCharacters']}\r\n          errorMessages={['Password to be provided', 'Mimumum 6 characters required', 'Special characters not permitted']}\r\n          value={newPassword}\r\n      />\r\n      <BlankArea/>\r\n      <TextValidator\r\n          variant=\"outlined\"\r\n          required\r\n          fullWidth      \r\n          label=\"Repeat password\"\r\n          onChange={(event) => setRepeatPassword(event.target.value)}\r\n          name=\"repeatPassword\"\r\n          type=\"password\"\r\n          validators={['isPasswordMatch', 'required']}\r\n          errorMessages={['password mismatch', 'this field is required']}\r\n          value={repeatPassword}\r\n      />\r\n      <ShowResisterStatus/>\r\n      <BlankArea/>\r\n      <Button\r\n        type=\"submit\"\r\n        fullWidth\r\n        variant=\"contained\"\r\n        color=\"primary\"\r\n        className={classes.submit}\r\n      >\r\n        Update\r\n    </Button>\r\n    </ValidatorForm>\r\n    </div>\r\n    <ChildComp p1={newPassword}/>    \r\n    </Container>\r\n  );\r\n}\r\n"]},"metadata":{},"sourceType":"module"}