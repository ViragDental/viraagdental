{"ast":null,"code":"import _regeneratorRuntime from \"D:\\\\projects\\\\Cricket\\\\akshu close\\\\IPL\\\\material-dashboard-react-master\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/regenerator\";\nimport _asyncToGenerator from \"D:\\\\projects\\\\Cricket\\\\akshu close\\\\IPL\\\\material-dashboard-react-master\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/asyncToGenerator\";\nimport _slicedToArray from \"D:\\\\projects\\\\Cricket\\\\akshu close\\\\IPL\\\\material-dashboard-react-master\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"D:\\\\projects\\\\Cricket\\\\akshu close\\\\IPL\\\\material-dashboard-react-master\\\\src\\\\views\\\\Group\\\\Group.js\";\nimport React, { useEffect, useState, useContext } from 'react';\nimport axios from \"axios\";\nimport { makeStyles } from '@material-ui/core/styles';\nimport { Switch, Route, Link } from 'react-router-dom';\nimport Button from '@material-ui/core/Button';\nimport Table from \"components/Table/Table.js\";\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\nimport Radio from '@material-ui/core/Radio';\nimport Grid from \"@material-ui/core/Grid\";\nimport GridItem from \"components/Grid/GridItem.js\";\nimport Card from \"components/Card/Card.js\";\nimport CardBody from \"components/Card/CardBody.js\";\nimport Accordion from '@material-ui/core/Accordion';\nimport AccordionSummary from '@material-ui/core/AccordionSummary';\nimport AccordionDetails from '@material-ui/core/AccordionDetails';\nimport Typography from '@material-ui/core/Typography';\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore';\nimport { useHistory } from \"react-router-dom\";\nimport { UserContext } from \"../../UserContext\";\nimport GroupMember from \"views/GroupMember/GroupMember.js\"; // import { \n//     BrowserRouter as Router, \n//     Route, \n//     Link, \n//     Switch \n// } from 'react-router-dom'; \n\nvar useStyles = makeStyles(function (theme) {\n  return {\n    root: {\n      width: '100%'\n    },\n    button: {\n      margin: theme.spacing(0, 1, 0)\n    },\n    heading: {\n      fontSize: theme.typography.pxToRem(15),\n      flexBasis: '33.33%',\n      flexShrink: 0\n    },\n    secondaryHeading: {\n      fontSize: theme.typography.pxToRem(15),\n      color: theme.palette.text.secondary\n    }\n  };\n});\nexport default function Group() {\n  window.onbeforeunload = function () {\n    return setUser(null);\n  };\n\n  var _useContext = useContext(UserContext),\n      setUser = _useContext.setUser;\n\n  var classes = useStyles();\n\n  var _useState = useState([]),\n      _useState2 = _slicedToArray(_useState, 2),\n      myGroupTableData = _useState2[0],\n      setMyGroupTableData = _useState2[1];\n\n  var _useState3 = useState(false),\n      _useState4 = _slicedToArray(_useState3, 2),\n      hasatleast1Group = _useState4[0],\n      setUserHasGroup = _useState4[1];\n\n  var history = useHistory();\n\n  var _useState5 = useState(localStorage.getItem(\"groupName\")),\n      _useState6 = _slicedToArray(_useState5, 2),\n      newCurrentGroup = _useState6[0],\n      setNewCurrentGroup = _useState6[1];\n\n  useEffect(function () {\n    var a = /*#__PURE__*/function () {\n      var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n        var myUrl, teamResponse, hasgroup;\n        return _regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                // get start of tournamnet (i.e. start of 1st match)\n                // var mygroup  = 1;\n                window.localStorage.setItem(\"groupMember\", \"\");\n                myUrl = \"/group/memberof/\".concat(localStorage.getItem(\"uid\"));\n                _context.next = 4;\n                return axios.get(myUrl);\n\n              case 4:\n                teamResponse = _context.sent;\n                hasgroup = false;\n\n                if (teamResponse.data[0].groups.length > 0) {\n                  // console.log(teamResponse);\n                  hasgroup = true; // var currgrp = parseInt(localStorage.getItem(\"gid\"));\n                  // var tmpidx = teamResponse.data[0].groups.findIndex(x => x.gid === currgrp);\n                  // if (tmpidx >= 0) {\n                  //     teamResponse.data[0].groups[tmpidx].groupName =\n                  //     teamResponse.data[0].groups[tmpidx].groupName.concat(\"*\");\n                  // }\n\n                  setMyGroupTableData(teamResponse.data[0].groups); // console.log(teamResponse.data[0].groups);\n                }\n\n                setUserHasGroup(hasgroup);\n\n              case 8:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee);\n      }));\n\n      return function a() {\n        return _ref.apply(this, arguments);\n      };\n    }();\n\n    a();\n  }, []);\n\n  function updateCurrentGroup() {\n    return _updateCurrentGroup.apply(this, arguments);\n  }\n\n  function _updateCurrentGroup() {\n    _updateCurrentGroup = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee2() {\n      var newCurrent, myUID, response;\n      return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              // use has select another group as current group\n              newCurrent = expandedPanel;\n              if (newCurrent.slice(-1) === \"*\") newCurrent = newCurrent.slice(0, -1);\n              console.log(\" New selection is \".concat(newCurrent));\n              myGroupTableData.forEach(function (ggg) {\n                // remove asterix from old groyup name\n                if (ggg.groupName.slice(-1) === \"*\") {\n                  ggg.groupName = ggg.groupName.slice(0, -1);\n                } // set asterix to new current group\n\n\n                if (ggg.groupName === newCurrent) {\n                  window.localStorage.setItem(\"gid\", ggg.gid.toString()); // window.localStorage.setItem(\"groupName\", ggg.groupName);\n\n                  ggg.groupName = ggg.groupName.concat(\"*\");\n                }\n              }); // get data of new current group from backend\n\n              myUID = localStorage.getItem(\"uid\");\n              _context2.next = 7;\n              return axios.get(\"/group/current/\".concat(localStorage.getItem(\"gid\"), \"/\").concat(myUID));\n\n            case 7:\n              response = _context2.sent;\n              // SAMPLE OUTPUT\n              // {\"uid\":\"8\",\"gid\":2,\"displayName\":\"Salgia Super Stars\",\n              // \"groupName\":\"Happy Home Society Grp 2\",\"tournament\":\"ENGAUST20\",\"ismember\":true,\"admin\":true}\n              // window.localStorage.setItem(\"uid\", myUID)\n              // window.localStorage.setItem(\"gid\", response.data.gid);\n              window.localStorage.setItem(\"displayName\", response.data.displayName);\n              window.localStorage.setItem(\"groupName\", response.data.groupName);\n              window.localStorage.setItem(\"tournament\", response.data.tournament);\n              window.localStorage.setItem(\"ismember\", response.data.ismember);\n              window.localStorage.setItem(\"admin\", response.data.admin);\n              setUser({\n                uid: myUID,\n                admin: response.data.admin\n              });\n              setMyGroupTableData(myGroupTableData);\n              setExpandedPanel(false);\n\n            case 16:\n            case \"end\":\n              return _context2.stop();\n          }\n        }\n      }, _callee2);\n    }));\n    return _updateCurrentGroup.apply(this, arguments);\n  }\n\n  function handleShowMember() {\n    localStorage.setItem(\"displayGroupMember\", \"\");\n    localStorage.setItem(\"displayGroupAdmin\", \"false\");\n    var newCurrent = expandedPanel;\n    if (newCurrent.slice(-1) === \"*\") newCurrent = newCurrent.slice(0, -1);\n    myGroupTableData.forEach(function (ggg) {\n      var x = ggg.groupName;\n\n      if (x.slice(-1) === \"*\") {\n        x = x.slice(0, -1);\n      } // set asterix to new current group\n\n\n      if (x === newCurrent) {\n        window.localStorage.setItem(\"gdGid\", ggg.gid.toString());\n        window.localStorage.setItem(\"gdName\", ggg.groupName);\n        window.localStorage.setItem(\"gdAdmin\", ggg.admin.toString());\n      }\n    }); // console.log(localStorage.getItem(\"displayGroupMember\"));\n    // console.log(localStorage.getItem(\"displayGroupAdmin\"));\n    // console.log(\"Settings done\");\n  }\n\n  var _useState7 = useState(false),\n      _useState8 = _slicedToArray(_useState7, 2),\n      expandedPanel = _useState8[0],\n      setExpandedPanel = _useState8[1];\n\n  var handleAccordionChange = function handleAccordionChange(panel) {\n    return function (event, isExpanded) {\n      setExpandedPanel(isExpanded ? panel : false);\n    };\n  };\n\n  function ORG_ShowAllGroups() {\n    var _this = this;\n\n    return myGroupTableData.map(function (element) {\n      return /*#__PURE__*/React.createElement(Accordion, {\n        expanded: expandedPanel === element.groupName,\n        onChange: handleAccordionChange(element.groupName),\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 152,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(AccordionSummary, {\n        expandIcon: /*#__PURE__*/React.createElement(ExpandMoreIcon, {\n          __self: _this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 153,\n            columnNumber: 47\n          }\n        }),\n        \"aria-controls\": \"panel1a-content\",\n        id: \"panel1a-header\",\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 153,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(Typography, {\n        className: classes.heading,\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 154,\n          columnNumber: 21\n        }\n      }, element.groupName), /*#__PURE__*/React.createElement(Typography, {\n        className: classes.secondaryHeading,\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 155,\n          columnNumber: 21\n        }\n      }, element.tournament, \" (\", element.admin, \")\")), /*#__PURE__*/React.createElement(AccordionDetails, {\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 157,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(Button, {\n        variant: \"contained\",\n        color: \"secondary\",\n        size: \"small\",\n        className: classes.button,\n        onClick: updateCurrentGroup,\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 158,\n          columnNumber: 17\n        }\n      }, \"Select\"), /*#__PURE__*/React.createElement(Button, {\n        variant: \"contained\",\n        color: \"secondary\",\n        size: \"small\",\n        className: classes.button,\n        onClick: handleShowMember,\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 161,\n          columnNumber: 17\n        }\n      }, \"Members\")));\n    });\n  }\n\n  function handleSelectGroup(grpName) {\n    var existingCurent = \"radio-\" + newCurrentGroup;\n    var myElement = document.getElementById(existingCurent); // console.log(myElement);\n\n    myElement.checked = false;\n    setNewCurrentGroup(grpName);\n    var ggg = myGroupTableData.find(function (x) {\n      return x.groupName === grpName;\n    });\n    console.log(ggg);\n    window.localStorage.setItem(\"gid\", ggg.gid.toString()); // var response = await axios.get(`/group/current/` +\n    //     `${localStorage.getItem(\"gid\")}/${localStorage.getItem(\"uid\")}`);\n    // // SAMPLE OUTPUT\n    // // {\"uid\":\"8\",\"gid\":2,\"displayName\":\"Salgia Super Stars\",\n    // // \"groupName\":\"Happy Home Society Grp 2\",\"tournament\":\"ENGAUST20\",\"ismember\":true,\"admin\":true}\n    // // window.localStorage.setItem(\"uid\", myUID)\n\n    window.localStorage.setItem(\"displayName\", ggg.displayName);\n    window.localStorage.setItem(\"groupName\", ggg.groupName);\n    window.localStorage.setItem(\"tournament\", ggg.tournament); // window.localStorage.setItem(\"ismember\", response.data.ismember);\n\n    window.localStorage.setItem(\"admin\", ggg.admin);\n    setUser({\n      uid: localStorage.getItem(\"uid\"),\n      admin: gggadmin\n    });\n  }\n\n  ;\n\n  function ShowGroupMembers(grpName) {\n    console.log(grpName);\n    var ggg = myGroupTableData.find(function (x) {\n      return x.groupName === grpName;\n    });\n    window.localStorage.setItem(\"gdGid\", ggg.gid.toString());\n    window.localStorage.setItem(\"gdName\", ggg.groupName);\n    window.localStorage.setItem(\"gdAdmin\", ggg.admin.toString());\n    history.push(\"/groupmember\");\n  }\n\n  ;\n\n  function ShowAllGroups() {\n    var _this2 = this;\n\n    return /*#__PURE__*/React.createElement(Grid, {\n      key: \"gr-group\",\n      container: true,\n      justify: \"center\",\n      alignItems: \"center\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 204,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(GridItem, {\n      key: \"gi-group\",\n      xs: 12,\n      sm: 12,\n      md: 12,\n      lg: 12,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 205,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(Card, {\n      key: \"c-group\",\n      profile: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 206,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(CardBody, {\n      key: \"cb-group\",\n      profile: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 207,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(Table, {\n      tableKey: \"t-group\",\n      id: \"t-group\",\n      tableHeaderColor: \"warning\",\n      tableHead: [\"Group Name\", \"Admin\", \"Current\", \"Members\"],\n      tableData: myGroupTableData.map(function (x) {\n        var arr = [x.groupName, x.admin.toLowerCase() === \"admin\" ? \"Admin\" : \"\", /*#__PURE__*/React.createElement(FormControlLabel, {\n          key: \"fc-\" + x.groupName,\n          className: classes.groupName,\n          value: x.groupName,\n          control: /*#__PURE__*/React.createElement(Radio, {\n            color: \"primary\",\n            key: \"radio-\" + newCurrentGroup,\n            id: \"radio-\" + newCurrentGroup,\n            defaultChecked: x.groupName === newCurrentGroup,\n            __self: _this2,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 221,\n              columnNumber: 46\n            }\n          }),\n          onClick: function onClick() {\n            return handleSelectGroup(x.groupName);\n          },\n          __self: _this2,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 217,\n            columnNumber: 37\n          }\n        }), /*#__PURE__*/React.createElement(Button, {\n          key: \"button-\" + newCurrentGroup,\n          variant: \"contained\",\n          color: \"primary\",\n          size: \"small\",\n          className: classes.button,\n          onClick: function onClick() {\n            return ShowGroupMembers(x.groupName);\n          },\n          __self: _this2,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 224,\n            columnNumber: 37\n          }\n        }, \"Member List\")];\n        return {\n          data: arr,\n          collapse: []\n        };\n      }),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 208,\n        columnNumber: 25\n      }\n    })))));\n  }\n\n  function NewGroupButton() {\n    return /*#__PURE__*/React.createElement(Link, {\n      align: \"center\",\n      to: \"admin/createnewgroup\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 241,\n        columnNumber: 17\n      }\n    }, \"Create New Group\");\n  }\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: classes.root,\n    key: \"groupinfo\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 245,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"h3\", {\n    align: \"center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 246,\n      columnNumber: 13\n    }\n  }, \"My Groups (\", localStorage.getItem(\"displayName\"), \")\"), /*#__PURE__*/React.createElement(ShowAllGroups, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 247,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(NewGroupButton, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 248,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(Switch, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 249,\n      columnNumber: 13\n    }\n  }, \" \", /*#__PURE__*/React.createElement(Route, {\n    exact: true,\n    path: \"/groupmember\",\n    component: GroupMember,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 250,\n      columnNumber: 17\n    }\n  })));\n}","map":{"version":3,"sources":["D:/projects/Cricket/akshu close/IPL/material-dashboard-react-master/src/views/Group/Group.js"],"names":["React","useEffect","useState","useContext","axios","makeStyles","Switch","Route","Link","Button","Table","FormControlLabel","Radio","Grid","GridItem","Card","CardBody","Accordion","AccordionSummary","AccordionDetails","Typography","ExpandMoreIcon","useHistory","UserContext","GroupMember","useStyles","theme","root","width","button","margin","spacing","heading","fontSize","typography","pxToRem","flexBasis","flexShrink","secondaryHeading","color","palette","text","secondary","Group","window","onbeforeunload","setUser","classes","myGroupTableData","setMyGroupTableData","hasatleast1Group","setUserHasGroup","history","localStorage","getItem","newCurrentGroup","setNewCurrentGroup","a","setItem","myUrl","get","teamResponse","hasgroup","data","groups","length","updateCurrentGroup","newCurrent","expandedPanel","slice","console","log","forEach","ggg","groupName","gid","toString","concat","myUID","response","displayName","tournament","ismember","admin","uid","setExpandedPanel","handleShowMember","x","handleAccordionChange","panel","event","isExpanded","ORG_ShowAllGroups","map","element","handleSelectGroup","grpName","existingCurent","myElement","document","getElementById","checked","find","gggadmin","ShowGroupMembers","push","ShowAllGroups","arr","toLowerCase","collapse","NewGroupButton"],"mappings":"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","sourcesContent":["import React, { useEffect, useState, useContext } from 'react';\r\nimport axios from \"axios\";\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport { Switch, Route, Link } from 'react-router-dom';\r\nimport Button from '@material-ui/core/Button';\r\nimport Table from \"components/Table/Table.js\";\r\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\r\nimport Radio from '@material-ui/core/Radio';\r\nimport Grid from \"@material-ui/core/Grid\";\r\nimport GridItem from \"components/Grid/GridItem.js\";\r\nimport Card from \"components/Card/Card.js\";\r\nimport CardBody from \"components/Card/CardBody.js\";\r\nimport Accordion from '@material-ui/core/Accordion';\r\nimport AccordionSummary from '@material-ui/core/AccordionSummary';\r\nimport AccordionDetails from '@material-ui/core/AccordionDetails';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore';\r\nimport { useHistory } from \"react-router-dom\";\r\nimport { UserContext } from \"../../UserContext\";\r\nimport GroupMember from \"views/GroupMember/GroupMember.js\"\r\n// import { \r\n//     BrowserRouter as Router, \r\n//     Route, \r\n//     Link, \r\n//     Switch \r\n// } from 'react-router-dom'; \r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n    root: {\r\n      width: '100%',\r\n    },\r\n    button: {\r\n        margin: theme.spacing(0, 1, 0),\r\n      },\r\n        heading: {\r\n      fontSize: theme.typography.pxToRem(15),\r\n      flexBasis: '33.33%',\r\n      flexShrink: 0,\r\n    },\r\n    secondaryHeading: {\r\n      fontSize: theme.typography.pxToRem(15),\r\n      color: theme.palette.text.secondary,\r\n    },\r\n  }));\r\n\r\n\r\nexport default function Group() {\r\n\r\n    window.onbeforeunload = () => setUser(null)\r\n    const { setUser } = useContext(UserContext);\r\n    const classes = useStyles();\r\n    const [myGroupTableData, setMyGroupTableData] = useState([]);\r\n    const [hasatleast1Group, setUserHasGroup] = useState(false);\r\n    const history = useHistory();\r\n    const [newCurrentGroup, setNewCurrentGroup] = useState(localStorage.getItem(\"groupName\"));\r\n\r\n      \r\n    useEffect(() => {\r\n        const a = async () => {\r\n            // get start of tournamnet (i.e. start of 1st match)\r\n            // var mygroup  = 1;\r\n            window.localStorage.setItem(\"groupMember\", \"\");\r\n            var myUrl = `/group/memberof/${localStorage.getItem(\"uid\")}`;\r\n            const teamResponse = await axios.get(myUrl);\r\n            var hasgroup = false;\r\n            if (teamResponse.data[0].groups.length > 0) {\r\n                // console.log(teamResponse);\r\n                hasgroup = true;\r\n                // var currgrp = parseInt(localStorage.getItem(\"gid\"));\r\n                // var tmpidx = teamResponse.data[0].groups.findIndex(x => x.gid === currgrp);\r\n                // if (tmpidx >= 0) {\r\n                //     teamResponse.data[0].groups[tmpidx].groupName =\r\n                //     teamResponse.data[0].groups[tmpidx].groupName.concat(\"*\");\r\n                // }\r\n                setMyGroupTableData(teamResponse.data[0].groups);\r\n                // console.log(teamResponse.data[0].groups);\r\n            }\r\n            setUserHasGroup(hasgroup);\r\n        }\r\n        a();\r\n    }, [])\r\n\r\n    async function  updateCurrentGroup() {\r\n        // use has select another group as current group\r\n        var newCurrent = expandedPanel;\r\n        if (newCurrent.slice(-1) === \"*\")\r\n            newCurrent = newCurrent.slice(0, -1);\r\n        console.log(` New selection is ${newCurrent}`);\r\n\r\n        myGroupTableData.forEach( ggg => {\r\n            // remove asterix from old groyup name\r\n            if (ggg.groupName.slice(-1) === \"*\") {\r\n                ggg.groupName = ggg.groupName.slice(0, -1);\r\n            }\r\n            // set asterix to new current group\r\n            if (ggg.groupName === newCurrent) {\r\n                window.localStorage.setItem(\"gid\", ggg.gid.toString());\r\n                // window.localStorage.setItem(\"groupName\", ggg.groupName);\r\n                ggg.groupName = ggg.groupName.concat(\"*\");\r\n            }\r\n        });\r\n\r\n        // get data of new current group from backend\r\n        var myUID = localStorage.getItem(\"uid\");\r\n        var response = await axios.get(`/group/current/${localStorage.getItem(\"gid\")}/${myUID}`);\r\n        // SAMPLE OUTPUT\r\n        // {\"uid\":\"8\",\"gid\":2,\"displayName\":\"Salgia Super Stars\",\r\n        // \"groupName\":\"Happy Home Society Grp 2\",\"tournament\":\"ENGAUST20\",\"ismember\":true,\"admin\":true}\r\n        // window.localStorage.setItem(\"uid\", myUID)\r\n        // window.localStorage.setItem(\"gid\", response.data.gid);\r\n        window.localStorage.setItem(\"displayName\", response.data.displayName);\r\n        window.localStorage.setItem(\"groupName\", response.data.groupName);\r\n        window.localStorage.setItem(\"tournament\", response.data.tournament);\r\n        window.localStorage.setItem(\"ismember\", response.data.ismember);\r\n        window.localStorage.setItem(\"admin\", response.data.admin)\r\n        setUser({ uid: myUID, admin: response.data.admin })    \r\n\r\n        setMyGroupTableData(myGroupTableData);\r\n        setExpandedPanel(false);\r\n    }\r\n\r\n    function handleShowMember() {\r\n        localStorage.setItem(\"displayGroupMember\", \"\");\r\n        localStorage.setItem(\"displayGroupAdmin\", \"false\");\r\n        var newCurrent = expandedPanel;\r\n        if (newCurrent.slice(-1) === \"*\")\r\n            newCurrent = newCurrent.slice(0, -1);\r\n\r\n        myGroupTableData.forEach( ggg => {\r\n            var x = ggg.groupName;\r\n            if (x.slice(-1) === \"*\") {\r\n                x = x.slice(0, -1);\r\n            }\r\n            // set asterix to new current group\r\n            if (x === newCurrent) {\r\n                window.localStorage.setItem(\"gdGid\", ggg.gid.toString());\r\n                window.localStorage.setItem(\"gdName\", ggg.groupName)\r\n                window.localStorage.setItem(\"gdAdmin\", ggg.admin.toString());\r\n            }\r\n        });\r\n        // console.log(localStorage.getItem(\"displayGroupMember\"));\r\n        // console.log(localStorage.getItem(\"displayGroupAdmin\"));\r\n        // console.log(\"Settings done\");\r\n    }\r\n\r\n    const [expandedPanel, setExpandedPanel] = useState(false);\r\n    const handleAccordionChange = (panel) => (event, isExpanded) => {\r\n      setExpandedPanel(isExpanded ? panel : false);\r\n    };  \r\n    function ORG_ShowAllGroups() {\r\n        return (myGroupTableData.map(element =>\r\n            <Accordion expanded={expandedPanel === element.groupName} onChange={handleAccordionChange(element.groupName)}>\r\n                <AccordionSummary expandIcon={<ExpandMoreIcon />} aria-controls=\"panel1a-content\" id=\"panel1a-header\">\r\n                    <Typography className={classes.heading}>{element.groupName}</Typography>\r\n                    <Typography className={classes.secondaryHeading}>{element.tournament} ({element.admin})</Typography>\r\n                </AccordionSummary>\r\n                <AccordionDetails>\r\n                <Button variant=\"contained\" color=\"secondary\" size=\"small\"\r\n                    className={classes.button} onClick={updateCurrentGroup}>Select\r\n                </Button>\r\n                <Button variant=\"contained\" color=\"secondary\" size=\"small\"\r\n                    className={classes.button} onClick={handleShowMember}>Members\r\n                </Button>\r\n                </AccordionDetails>\r\n            </Accordion>\r\n        ));\r\n    }\r\n\r\n\r\n    function handleSelectGroup(grpName) {\r\n        var existingCurent = \"radio-\" + newCurrentGroup;\r\n        var myElement = document.getElementById(existingCurent);\r\n        // console.log(myElement);\r\n        myElement.checked = false;\r\n        setNewCurrentGroup(grpName);\r\n        var ggg = myGroupTableData.find(x => x.groupName === grpName);\r\n        console.log(ggg);\r\n        window.localStorage.setItem(\"gid\", ggg.gid.toString());\r\n        // var response = await axios.get(`/group/current/` +\r\n        //     `${localStorage.getItem(\"gid\")}/${localStorage.getItem(\"uid\")}`);\r\n        // // SAMPLE OUTPUT\r\n        // // {\"uid\":\"8\",\"gid\":2,\"displayName\":\"Salgia Super Stars\",\r\n        // // \"groupName\":\"Happy Home Society Grp 2\",\"tournament\":\"ENGAUST20\",\"ismember\":true,\"admin\":true}\r\n        // // window.localStorage.setItem(\"uid\", myUID)\r\n        window.localStorage.setItem(\"displayName\", ggg.displayName);\r\n        window.localStorage.setItem(\"groupName\", ggg.groupName);\r\n        window.localStorage.setItem(\"tournament\", ggg.tournament);\r\n        // window.localStorage.setItem(\"ismember\", response.data.ismember);\r\n        window.localStorage.setItem(\"admin\", ggg.admin)\r\n        setUser({ uid: localStorage.getItem(\"uid\"), admin: gggadmin })    \r\n    };\r\n\r\n    function ShowGroupMembers(grpName) {\r\n        console.log(grpName);\r\n        var ggg = myGroupTableData.find(x=> x.groupName === grpName);\r\n        window.localStorage.setItem(\"gdGid\", ggg.gid.toString());\r\n        window.localStorage.setItem(\"gdName\", ggg.groupName)\r\n        window.localStorage.setItem(\"gdAdmin\", ggg.admin.toString());\r\n        history.push(\"/groupmember\");        \r\n    };\r\n\r\n    function  ShowAllGroups() {\r\n        return(\r\n            <Grid key=\"gr-group\" container justify=\"center\" alignItems=\"center\" >\r\n            <GridItem key=\"gi-group\" xs={12} sm={12} md={12} lg={12} >\r\n                <Card key=\"c-group\" profile>\r\n                    <CardBody key=\"cb-group\" profile>\r\n                        <Table\r\n                            tableKey=\"t-group\"\r\n                            id=\"t-group\"\r\n                            tableHeaderColor=\"warning\"\r\n                            tableHead={[\"Group Name\", \"Admin\", \"Current\",  \"Members\"]}\r\n                            tableData={myGroupTableData.map(x => {\r\n                                const arr = [\r\n                                    x.groupName,\r\n                                    (x.admin.toLowerCase() === \"admin\") ? \"Admin\" : \"\",\r\n                                    <FormControlLabel \r\n                                    key={\"fc-\"+x.groupName}\r\n                                    className={classes.groupName} \r\n                                    value={x.groupName}    \r\n                                    control={<Radio color=\"primary\" key={\"radio-\"+newCurrentGroup} id={\"radio-\"+newCurrentGroup} defaultChecked={x.groupName === newCurrentGroup}/>}\r\n                                    onClick={() => handleSelectGroup(x.groupName)}\r\n                                    />,\r\n                                    <Button key={\"button-\"+newCurrentGroup} variant=\"contained\" color=\"primary\" size=\"small\"\r\n                                        className={classes.button} onClick={() => ShowGroupMembers(x.groupName)}>Member List\r\n                                    </Button>\r\n                                ]\r\n                                return { data: arr, collapse: [] }\r\n                            })}\r\n                        />\r\n                    </CardBody>\r\n                </Card>\r\n                {/* <DisplayCaptainSelectButton/> */}\r\n            </GridItem>\r\n            </Grid>\r\n        );\r\n    }\r\n\r\n\r\n    function NewGroupButton() {\r\n        return (<Link align=\"center\" to='admin/createnewgroup' >Create New Group</Link>) \r\n    }\r\n\r\n    return (\r\n        <div className={classes.root} key=\"groupinfo\">\r\n            <h3 align=\"center\">My Groups ({localStorage.getItem(\"displayName\")})</h3>\r\n            <ShowAllGroups/>\r\n            <NewGroupButton/>  \r\n            <Switch> {/* The Switch decides which component to show based on the current URL.*/}\r\n                <Route exact path='/groupmember' component={GroupMember}></Route>\r\n            </Switch>\r\n        </div>\r\n        );\r\n    \r\n}\r\n"]},"metadata":{},"sourceType":"module"}