{"ast":null,"code":"import _regeneratorRuntime from \"D:/projects/Cricket/akshu close/IPL/material-dashboard-react-master/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"D:/projects/Cricket/akshu close/IPL/material-dashboard-react-master/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _slicedToArray from \"D:/projects/Cricket/akshu close/IPL/material-dashboard-react-master/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nimport _classCallCheck from \"D:/projects/Cricket/akshu close/IPL/material-dashboard-react-master/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"D:/projects/Cricket/akshu close/IPL/material-dashboard-react-master/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _inherits from \"D:/projects/Cricket/akshu close/IPL/material-dashboard-react-master/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _createSuper from \"D:/projects/Cricket/akshu close/IPL/material-dashboard-react-master/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";\n\nvar _jsxFileName = \"D:\\\\projects\\\\Cricket\\\\akshu close\\\\IPL\\\\material-dashboard-react-master\\\\src\\\\views\\\\Login\\\\SignUp.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useContext } from 'react';\nimport Avatar from '@material-ui/core/Avatar';\nimport Button from '@material-ui/core/Button';\nimport CssBaseline from '@material-ui/core/CssBaseline'; // import TextField from '@material-ui/core/TextField';\n\nimport Link from '@material-ui/core/Link';\nimport { Switch, Route } from 'react-router-dom'; // import Grid from '@material-ui/core/Grid';\n// import Box from '@material-ui/core/Box';\n\nimport LockOutlinedIcon from '@material-ui/icons/LockOutlined';\nimport Typography from '@material-ui/core/Typography';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Container from '@material-ui/core/Container';\nimport { UserContext } from \"../../UserContext\";\nimport axios from \"axios\";\nimport { ValidatorForm, TextValidator } from 'react-material-ui-form-validator';\nimport red from '@material-ui/core/colors/red';\nimport { useHistory } from \"react-router-dom\";\nimport SignIn from \"./SignIn.js\";\nimport { validateSpecialCharacters, validateEmail, cdRefresh, encrypt, decrypt } from \"views/functions.js\";\nimport { CricDreamLogo } from 'CustomComponents/CustomComponents.js';\nvar useStyles = makeStyles(function (theme) {\n  return {\n    paper: {\n      marginTop: theme.spacing(8),\n      display: 'flex',\n      flexDirection: 'column',\n      alignItems: 'center'\n    },\n    avatar: {\n      margin: theme.spacing(1),\n      backgroundColor: theme.palette.secondary.main\n    },\n    form: {\n      width: '100%',\n      // Fix IE 11 issue.\n      marginTop: theme.spacing(1)\n    },\n    submit: {\n      margin: theme.spacing(3, 0, 2)\n    },\n    error: {\n      // right: 0,\n      fontSize: '12px',\n      color: red[700],\n      // position: 'absolute',\n      alignItems: 'center',\n      marginTop: '0px'\n    }\n  };\n});\n\nvar ChildComp = /*#__PURE__*/function (_React$Component) {\n  _inherits(ChildComp, _React$Component);\n\n  var _super = _createSuper(ChildComp);\n\n  function ChildComp() {\n    _classCallCheck(this, ChildComp);\n\n    return _super.apply(this, arguments);\n  }\n\n  _createClass(ChildComp, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this = this;\n\n      // custom rule will have name 'isPasswordMatch'\n      ValidatorForm.addValidationRule('isPasswordMatch', function (value) {\n        return value === _this.props.p1;\n      });\n      ValidatorForm.addValidationRule('minLength', function (value) {\n        return value.length >= 6;\n      });\n      ValidatorForm.addValidationRule('noSpecialCharacters', function (value) {\n        return validateSpecialCharacters(value);\n      });\n      ValidatorForm.addValidationRule('isEmailOK', function (value) {\n        return validateEmail(value);\n      });\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      // remove rule when it is not needed\n      ValidatorForm.removeValidationRule('isPasswordMatch');\n      ValidatorForm.removeValidationRule('isEmailOK');\n      ValidatorForm.removeValidationRule('minLength');\n      ValidatorForm.removeValidationRule('noSpecialCharacters');\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return /*#__PURE__*/React.createElement(\"br\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 83,\n          columnNumber: 12\n        }\n      });\n    }\n  }]);\n\n  return ChildComp;\n}(React.Component); // const handleSubmit = e => {\n//   e.preventDefault();\n// };\n\n\nexport default function SignUp() {\n  _s();\n\n  var classes = useStyles();\n  var history = useHistory();\n\n  var _useState = useState(\"\"),\n      _useState2 = _slicedToArray(_useState, 2),\n      userName = _useState2[0],\n      setUserName = _useState2[1];\n\n  var _useState3 = useState(\"\"),\n      _useState4 = _slicedToArray(_useState3, 2),\n      password = _useState4[0],\n      setPassword = _useState4[1];\n\n  var _useState5 = useState(\"\"),\n      _useState6 = _slicedToArray(_useState5, 2),\n      email = _useState6[0],\n      setEmail = _useState6[1];\n\n  var _useState7 = useState(\"\"),\n      _useState8 = _slicedToArray(_useState7, 2),\n      repeatPassword = _useState8[0],\n      setRepeatPassword = _useState8[1];\n\n  var _useState9 = useState(0),\n      _useState10 = _slicedToArray(_useState9, 2),\n      registerStatus = _useState10[0],\n      setRegisterStatus = _useState10[1]; // const { setUser } = useContext(UserContext);\n  // const handleChange = (event) => {\n  //   const { user } = this.state;\n  //   user[event.target.name] = event.target.value;\n  //   this.setState({ user });\n  // }\n\n\n  var handleSubmit = /*#__PURE__*/function () {\n    var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n      var tmp1, tmp2, response, setemailresp;\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              console.log(\"Submit command provided\");\n              tmp1 = encrypt(password);\n              tmp2 = encrypt(email);\n              _context.next = 5;\n              return fetch(\"\".concat(process.env.REACT_APP_AXIOS_BASEPATH, \"/user/cricsignup/\").concat(userName, \"/\").concat(tmp1, \"/\").concat(tmp2));\n\n            case 5:\n              response = _context.sent;\n\n              if (!(response.status === 200)) {\n                _context.next = 14;\n                break;\n              }\n\n              _context.next = 9;\n              return fetch(\"\".concat(process.env.REACT_APP_AXIOS_BASEPATH, \"/user/cricemailwelcome/\").concat(tmp2));\n\n            case 9:\n              setemailresp = _context.sent;\n              // history.push(\"/signin\");\n              localStorage.setItem(\"currentLogin\", \"SIGNIN\");\n              cdRefresh();\n              _context.next = 16;\n              break;\n\n            case 14:\n              // error\n              setRegisterStatus(response.status);\n              console.log(\"Status is \".concat(response.status));\n\n            case 16:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }));\n\n    return function handleSubmit() {\n      return _ref.apply(this, arguments);\n    };\n  }();\n\n  function handleLogin() {\n    // console.log(\"Call for login here\");\n    // history.push(\"/signin\")\n    localStorage.setItem(\"currentLogin\", \"SIGNIN\");\n    cdRefresh();\n  }\n\n  function ShowResisterStatus() {\n    // console.log(`Status is ${registerStatus}`);\n    var myMsg;\n\n    switch (registerStatus) {\n      case 200:\n        // setUserName(\"\");\n        // setPassword(\"\");\n        // setRepeatPassword(\"\");\n        // setEmail(\"\");\n        myMsg = \"User \".concat(userName, \" successfully regisitered.\");\n        break;\n\n      case 602:\n        myMsg = \"User Name already in use\";\n        break;\n\n      case 603:\n        myMsg = \"Email id already in use\";\n        break;\n\n      default:\n        myMsg = \"\";\n        break;\n    }\n\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 158,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(Typography, {\n      className: registerStatus === 200 ? classes.root : classes.error,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 159,\n        columnNumber: 9\n      }\n    }, myMsg), /*#__PURE__*/React.createElement(Typography, {\n      className: classes.root,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 160,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(Link, {\n      href: \"#\",\n      onClick: handleLogin,\n      variant: \"body2\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 161,\n        columnNumber: 13\n      }\n    }, \"Already have an account? Sign in\")));\n  }\n\n  function BlankArea() {\n    return /*#__PURE__*/React.createElement(\"h3\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 170,\n        columnNumber: 12\n      }\n    });\n  }\n\n  return /*#__PURE__*/React.createElement(Container, {\n    component: \"main\",\n    maxWidth: \"xs\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 174,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(CssBaseline, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 175,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: classes.paper,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 176,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(CricDreamLogo, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 177,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(Typography, {\n    component: \"h1\",\n    variant: \"h5\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 181,\n      columnNumber: 9\n    }\n  }, \"Register New User\"), /*#__PURE__*/React.createElement(ValidatorForm, {\n    className: classes.form,\n    onSubmit: handleSubmit,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 184,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(TextValidator, {\n    variant: \"outlined\",\n    required: true,\n    fullWidth: true,\n    label: \"User Name\",\n    onChange: function onChange(event) {\n      return setUserName(event.target.value);\n    },\n    name: \"username\" // type=\"\"\n    ,\n    validators: ['required', 'minLength', 'noSpecialCharacters'],\n    errorMessages: ['User Name to be provided', 'Mimumum 6 characters required', 'Special characters not permitted'],\n    value: userName,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 185,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(BlankArea, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 197,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(TextValidator, {\n    variant: \"outlined\",\n    required: true,\n    fullWidth: true,\n    label: \"Email\",\n    onChange: function onChange(event) {\n      return setEmail(event.target.value);\n    },\n    name: \"email\",\n    type: \"email\",\n    validators: ['isEmailOK', 'required'],\n    errorMessages: ['Invalid Email', 'Email to be provided'],\n    value: email,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 198,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(BlankArea, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 210,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(TextValidator, {\n    variant: \"outlined\",\n    required: true,\n    fullWidth: true,\n    label: \"Password\",\n    onChange: function onChange(event) {\n      return setPassword(event.target.value);\n    },\n    name: \"password\",\n    type: \"password\",\n    validators: ['required', 'minLength', 'noSpecialCharacters'],\n    errorMessages: ['Password to be provided', 'Mimumum 6 characters required', 'Special characters not permitted'],\n    value: password,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 211,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(BlankArea, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 223,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(TextValidator, {\n    variant: \"outlined\",\n    required: true,\n    fullWidth: true,\n    label: \"Repeat password\",\n    onChange: function onChange(event) {\n      return setRepeatPassword(event.target.value);\n    },\n    name: \"repeatPassword\",\n    type: \"password\",\n    validators: ['isPasswordMatch', 'required'],\n    errorMessages: ['password mismatch', 'this field is required'],\n    value: repeatPassword,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 224,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(BlankArea, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 236,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(Button, {\n    type: \"submit\",\n    fullWidth: true,\n    variant: \"contained\",\n    color: \"primary\",\n    className: classes.submit,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 237,\n      columnNumber: 7\n    }\n  }, \"Register\")), /*#__PURE__*/React.createElement(ShowResisterStatus, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 247,\n      columnNumber: 5\n    }\n  })), /*#__PURE__*/React.createElement(ChildComp, {\n    p1: password,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 249,\n      columnNumber: 5\n    }\n  }), /*#__PURE__*/React.createElement(Switch, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 250,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(Route, {\n    path: \"/admin/signin\",\n    component: SignIn,\n    key: \"MemberList\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 251,\n      columnNumber: 7\n    }\n  })));\n}\n\n_s(SignUp, \"h0Y/1bCrp90T8rfkHeOHy7pJS7k=\", false, function () {\n  return [useStyles, useHistory];\n});\n\n_c = SignUp;\n\nvar _c;\n\n$RefreshReg$(_c, \"SignUp\");","map":{"version":3,"sources":["D:/projects/Cricket/akshu close/IPL/material-dashboard-react-master/src/views/Login/SignUp.js"],"names":["React","useState","useContext","Avatar","Button","CssBaseline","Link","Switch","Route","LockOutlinedIcon","Typography","makeStyles","Container","UserContext","axios","ValidatorForm","TextValidator","red","useHistory","SignIn","validateSpecialCharacters","validateEmail","cdRefresh","encrypt","decrypt","CricDreamLogo","useStyles","theme","paper","marginTop","spacing","display","flexDirection","alignItems","avatar","margin","backgroundColor","palette","secondary","main","form","width","submit","error","fontSize","color","ChildComp","addValidationRule","value","props","p1","length","removeValidationRule","Component","SignUp","classes","history","userName","setUserName","password","setPassword","email","setEmail","repeatPassword","setRepeatPassword","registerStatus","setRegisterStatus","handleSubmit","console","log","tmp1","tmp2","fetch","process","env","REACT_APP_AXIOS_BASEPATH","response","status","setemailresp","localStorage","setItem","handleLogin","ShowResisterStatus","myMsg","root","BlankArea","event","target"],"mappings":"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","sourcesContent":["import React, { useState ,useContext} from 'react';\r\nimport Avatar from '@material-ui/core/Avatar';\r\nimport Button from '@material-ui/core/Button';\r\nimport CssBaseline from '@material-ui/core/CssBaseline';\r\n// import TextField from '@material-ui/core/TextField';\r\nimport Link from '@material-ui/core/Link';\r\nimport { Switch, Route } from 'react-router-dom';\r\n// import Grid from '@material-ui/core/Grid';\r\n// import Box from '@material-ui/core/Box';\r\nimport LockOutlinedIcon from '@material-ui/icons/LockOutlined';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport Container from '@material-ui/core/Container';\r\nimport { UserContext } from \"../../UserContext\";\r\nimport axios from \"axios\";\r\nimport { ValidatorForm, TextValidator} from 'react-material-ui-form-validator';\r\nimport red from '@material-ui/core/colors/red';\r\nimport { useHistory } from \"react-router-dom\";\r\nimport SignIn from \"./SignIn.js\";\r\nimport {validateSpecialCharacters, validateEmail, cdRefresh, encrypt, decrypt} from \"views/functions.js\";\r\nimport { CricDreamLogo } from 'CustomComponents/CustomComponents.js';\r\n\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  paper: {\r\n    marginTop: theme.spacing(8),\r\n    display: 'flex',\r\n    flexDirection: 'column',\r\n    alignItems: 'center',\r\n  },\r\n  avatar: {\r\n    margin: theme.spacing(1),\r\n    backgroundColor: theme.palette.secondary.main,\r\n  },\r\n  form: {\r\n    width: '100%', // Fix IE 11 issue.\r\n    marginTop: theme.spacing(1),\r\n  },\r\n  submit: {\r\n    margin: theme.spacing(3, 0, 2),\r\n  },\r\n  error:  {\r\n      // right: 0,\r\n      fontSize: '12px',\r\n      color: red[700],\r\n      // position: 'absolute',\r\n      alignItems: 'center',\r\n      marginTop: '0px',\r\n  },\r\n}));\r\n\r\nclass ChildComp extends React.Component {\r\n\r\n  componentDidMount()  {\r\n    // custom rule will have name 'isPasswordMatch'\r\n    ValidatorForm.addValidationRule('isPasswordMatch', (value) => {\r\n      return (value === this.props.p1)\r\n    });\r\n\r\n    ValidatorForm.addValidationRule('minLength', (value) => {\r\n      return (value.length >= 6)\r\n    });\r\n\r\n    ValidatorForm.addValidationRule('noSpecialCharacters', (value) => {\r\n      return validateSpecialCharacters(value);\r\n    });\r\n\r\n    ValidatorForm.addValidationRule('isEmailOK', (value) => {\r\n      return validateEmail(value);\r\n    });\r\n  }\r\n\r\n  \r\n  componentWillUnmount() {\r\n    // remove rule when it is not needed\r\n    ValidatorForm.removeValidationRule('isPasswordMatch');\r\n    ValidatorForm.removeValidationRule('isEmailOK');\r\n    ValidatorForm.removeValidationRule('minLength');\r\n    ValidatorForm.removeValidationRule('noSpecialCharacters');   \r\n  }\r\n\r\n  render() {\r\n    return <br/>;\r\n  }\r\n\r\n}\r\n// const handleSubmit = e => {\r\n//   e.preventDefault();\r\n// };\r\n\r\n\r\n\r\nexport default function SignUp() {\r\n  const classes = useStyles();\r\n  const history = useHistory();\r\n  const [userName, setUserName] = useState(\"\");\r\n  const [password, setPassword] = useState(\"\");\r\n  const [email, setEmail] = useState(\"\");\r\n  const [repeatPassword, setRepeatPassword] = useState(\"\");\r\n  const [registerStatus, setRegisterStatus] = useState(0);\r\n\r\n  // const { setUser } = useContext(UserContext);\r\n\r\n  // const handleChange = (event) => {\r\n  //   const { user } = this.state;\r\n  //   user[event.target.name] = event.target.value;\r\n  //   this.setState({ user });\r\n  // }\r\n\r\n  const handleSubmit = async() => {\r\n    console.log(\"Submit command provided\");\r\n    let tmp1 = encrypt(password);\r\n    let tmp2 = encrypt(email);\r\n    let response = await fetch(`${process.env.REACT_APP_AXIOS_BASEPATH}/user/cricsignup/${userName}/${tmp1}/${tmp2}`);\r\n    if (response.status === 200) {\r\n      let setemailresp = await fetch(`${process.env.REACT_APP_AXIOS_BASEPATH}/user/cricemailwelcome/${tmp2}`);\r\n      // history.push(\"/signin\");\r\n      localStorage.setItem(\"currentLogin\", \"SIGNIN\");\r\n      cdRefresh();\r\n\r\n    } else {\r\n      // error\r\n      setRegisterStatus(response.status);\r\n      console.log(`Status is ${response.status}`);\r\n    }\r\n  }\r\n\r\n  function handleLogin() {\r\n    // console.log(\"Call for login here\");\r\n    // history.push(\"/signin\")\r\n    localStorage.setItem(\"currentLogin\", \"SIGNIN\");\r\n    cdRefresh();\r\n\r\n  }\r\n\r\n  function ShowResisterStatus() {\r\n    // console.log(`Status is ${registerStatus}`);\r\n    let myMsg;\r\n    switch (registerStatus) {\r\n      case 200:\r\n        // setUserName(\"\");\r\n        // setPassword(\"\");\r\n        // setRepeatPassword(\"\");\r\n        // setEmail(\"\");\r\n        myMsg = `User ${userName} successfully regisitered.`;\r\n        break;\r\n      case 602:\r\n        myMsg = \"User Name already in use\";\r\n        break;\r\n      case 603:\r\n        myMsg = \"Email id already in use\";\r\n        break;\r\n      default:\r\n          myMsg = \"\";\r\n          break;\r\n    }\r\n    return(\r\n      <div>\r\n        <Typography className={(registerStatus === 200) ? classes.root : classes.error}>{myMsg}</Typography>\r\n        <Typography className={classes.root}>\r\n            <Link href=\"#\" onClick={handleLogin} variant=\"body2\">\r\n            Already have an account? Sign in\r\n          </Link>\r\n        </Typography>\r\n      </div>\r\n    )\r\n  }\r\n\r\n  function BlankArea() {\r\n    return(<h3></h3>)\r\n  }\r\n\r\n  return (\r\n    <Container component=\"main\" maxWidth=\"xs\">\r\n      <CssBaseline />\r\n      <div className={classes.paper}>\r\n        <CricDreamLogo />\r\n        {/* <Avatar className={classes.avatar}>\r\n          <LockOutlinedIcon />\r\n        </Avatar> */}\r\n        <Typography component=\"h1\" variant=\"h5\">\r\n          Register New User\r\n        </Typography>\r\n    <ValidatorForm className={classes.form} onSubmit={handleSubmit}>\r\n      <TextValidator\r\n          variant=\"outlined\"\r\n          required\r\n          fullWidth      \r\n          label=\"User Name\"\r\n          onChange={(event) => setUserName(event.target.value)}\r\n          name=\"username\"\r\n          // type=\"\"\r\n          validators={['required', 'minLength', 'noSpecialCharacters']}\r\n          errorMessages={['User Name to be provided', 'Mimumum 6 characters required', 'Special characters not permitted']}\r\n          value={userName}\r\n      />\r\n      <BlankArea/>\r\n      <TextValidator\r\n          variant=\"outlined\"\r\n          required\r\n          fullWidth      \r\n          label=\"Email\"\r\n          onChange={(event) => setEmail(event.target.value)}\r\n          name=\"email\"\r\n          type=\"email\"\r\n          validators={['isEmailOK', 'required']}\r\n          errorMessages={['Invalid Email', 'Email to be provided']}\r\n          value={email}\r\n      />\r\n      <BlankArea/>\r\n      <TextValidator\r\n          variant=\"outlined\"\r\n          required\r\n          fullWidth      \r\n          label=\"Password\"\r\n          onChange={(event) => setPassword(event.target.value)}\r\n          name=\"password\"\r\n          type=\"password\"\r\n          validators={['required', 'minLength', 'noSpecialCharacters']}\r\n          errorMessages={['Password to be provided', 'Mimumum 6 characters required', 'Special characters not permitted']}\r\n          value={password}\r\n      />\r\n      <BlankArea/>\r\n      <TextValidator\r\n          variant=\"outlined\"\r\n          required\r\n          fullWidth      \r\n          label=\"Repeat password\"\r\n          onChange={(event) => setRepeatPassword(event.target.value)}\r\n          name=\"repeatPassword\"\r\n          type=\"password\"\r\n          validators={['isPasswordMatch', 'required']}\r\n          errorMessages={['password mismatch', 'this field is required']}\r\n          value={repeatPassword}\r\n      />\r\n      <BlankArea/>\r\n      <Button\r\n        type=\"submit\"\r\n        fullWidth\r\n        variant=\"contained\"\r\n        color=\"primary\"\r\n        className={classes.submit}\r\n      >\r\n        Register\r\n    </Button>\r\n    </ValidatorForm>\r\n    <ShowResisterStatus/>\r\n    </div>\r\n    <ChildComp p1={password}/>    \r\n    <Switch>\r\n      <Route  path='/admin/signin' component={SignIn} key=\"MemberList\"/>\r\n    </Switch>\r\n    </Container>\r\n  );\r\n}\r\n"]},"metadata":{},"sourceType":"module"}