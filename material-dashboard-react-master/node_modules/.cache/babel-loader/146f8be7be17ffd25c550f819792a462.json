{"ast":null,"code":"import _regeneratorRuntime from\"D:/projects/Cricket/akshu close/IPL/material-dashboard-react-master/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"D:/projects/Cricket/akshu close/IPL/material-dashboard-react-master/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"D:/projects/Cricket/akshu close/IPL/material-dashboard-react-master/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import _classCallCheck from\"D:/projects/Cricket/akshu close/IPL/material-dashboard-react-master/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"D:/projects/Cricket/akshu close/IPL/material-dashboard-react-master/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"D:/projects/Cricket/akshu close/IPL/material-dashboard-react-master/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"D:/projects/Cricket/akshu close/IPL/material-dashboard-react-master/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{useEffect,useState,useContext}from'react';import Avatar from'@material-ui/core/Avatar';import Button from'@material-ui/core/Button';import CssBaseline from'@material-ui/core/CssBaseline';// import TextField from '@material-ui/core/TextField';\nimport Link from'@material-ui/core/Link';import{Route}from'react-router-dom';// import Grid from '@material-ui/core/Grid';\n// import Box from '@material-ui/core/Box';\nimport LockOutlinedIcon from'@material-ui/icons/LockOutlined';import Typography from'@material-ui/core/Typography';import TextField from'@material-ui/core/TextField';import Grid from'@material-ui/core/Grid';import Switch from'@material-ui/core/Switch';import{makeStyles}from'@material-ui/core/styles';import Container from'@material-ui/core/Container';import{UserContext}from\"../../UserContext\";import axios from\"axios\";import{ValidatorForm,TextValidator}from'react-material-ui-form-validator';import red from'@material-ui/core/colors/red';import blue from'@material-ui/core/colors/blue';import{useHistory}from\"react-router-dom\";import{validateSpecialCharacters,validateEmail}from\"views/functions.js\";import{BlankArea}from\"CustomComponents/CustomComponents.js\";import{useParams}from\"react-router\";import GroupMember from\"views/Group/GroupMember.js\";// const [myGroupName, setMyGroupName] = useState(\"\");\nvar useStyles=makeStyles(function(theme){return{paper:{marginTop:theme.spacing(8),display:'flex',flexDirection:'column',alignItems:'center'},avatar:{margin:theme.spacing(1),backgroundColor:theme.palette.secondary.main},form:{width:'100%',// Fix IE 11 issue.\nmarginTop:theme.spacing(1)},submit:{margin:theme.spacing(3,0,2)},button:{margin:theme.spacing(0,1,0)},groupName:{// right: 0,\nfontSize:'12px',color:blue[700],// position: 'absolute',\nalignItems:'center',marginTop:'0px'},error:{// right: 0,\nfontSize:'12px',color:red[700],// position: 'absolute',\nalignItems:'center',marginTop:'0px'}};});var myGroupName=\"\";var ChildComp=/*#__PURE__*/function(_React$Component){_inherits(ChildComp,_React$Component);var _super=_createSuper(ChildComp);function ChildComp(){_classCallCheck(this,ChildComp);return _super.apply(this,arguments);}_createClass(ChildComp,[{key:\"componentDidMount\",value:function componentDidMount(){// custom rule will have name 'isPasswordMatch'\n// ValidatorForm.addValidationRule('isPasswordMatch', (value) => {\n//   return (value === this.props.p1)\n// });\n// ValidatorForm.addValidationRule('minLength', (value) => {\n//   return (value.length >= 6)\n// });\nValidatorForm.addValidationRule('noSpecialCharacters',function(value){return validateSpecialCharacters(value);});// ValidatorForm.addValidationRule('isEmailOK', (value) => {\n//   return validateEmail(value);\n// });\n}},{key:\"componentWillUnmount\",value:function componentWillUnmount(){// remove rule when it is not needed\n// ValidatorForm.removeValidationRule('isPasswordMatch');\n// ValidatorForm.removeValidationRule('isEmailOK');\n// ValidatorForm.removeValidationRule('minLength');\nValidatorForm.removeValidationRule('noSpecialCharacters');}},{key:\"render\",value:function render(){return/*#__PURE__*/React.createElement(\"br\",null);}}]);return ChildComp;}(React.Component);export default function GroupDetails(){var classes=useStyles();var history=useHistory();var _useState=useState(0),_useState2=_slicedToArray(_useState,2),registerStatus=_useState2[0],setRegisterStatus=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),myDisplayName=_useState4[0],setDisplayName=_useState4[1];var _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),myAdminSwitch=_useState6[0],setMyAdminSwitch=_useState6[1];var _useState7=useState(false),_useState8=_slicedToArray(_useState7,2),myDefaultSwitch=_useState8[0],setMyDefaultSwitch=_useState8[1];var _useState9=useState(false),_useState10=_slicedToArray(_useState9,2),myCurrentSwitch=_useState10[0],setMyCurrentSwitch=_useState10[1];var _useState11=useState(\"\"),_useState12=_slicedToArray(_useState11,2),masterDisplayName=_useState12[0],setMasterDisplayName=_useState12[1];var _useState13=useState(false),_useState14=_slicedToArray(_useState13,2),masterDefaultSwitch=_useState14[0],setMasterDefaultSwitch=_useState14[1];var _useState15=useState(false),_useState16=_slicedToArray(_useState15,2),masterCurrentSwitch=_useState16[0],setMasterCurrentSwitch=_useState16[1];var _useContext=useContext(UserContext),setUser=_useContext.setUser;useEffect(function(){myGroupName=window.localStorage.getItem(\"gdName\");setDisplayName(window.localStorage.getItem(\"gdDisplay\"));setMasterDisplayName(window.localStorage.getItem(\"gdDisplay\"));setMyAdminSwitch(window.localStorage.getItem(\"gdAdmin\").toLowerCase()===\"admin\");setMyCurrentSwitch(window.localStorage.getItem(\"gdCurrent\").toLowerCase()===\"true\");setMasterCurrentSwitch(window.localStorage.getItem(\"gdCurrent\").toLowerCase()===\"true\");setMyDefaultSwitch(window.localStorage.getItem(\"gdDefault\").toLowerCase()===\"true\");setMasterDefaultSwitch(window.localStorage.getItem(\"gdDefault\").toLowerCase()===\"true\");},[]);function updateFranchiseName(_x,_x2){return _updateFranchiseName.apply(this,arguments);}function _updateFranchiseName(){_updateFranchiseName=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(newGid,newName){var sts;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.next=2;return fetch(\"/group/setfranchisename/\".concat(localStorage.getItem(\"uid\"),\"/\").concat(newGid,\"/\").concat(newName));case 2:sts=_context2.sent;case 3:case\"end\":return _context2.stop();}}},_callee2);}));return _updateFranchiseName.apply(this,arguments);}function updateDefaultGroup(_x3){return _updateDefaultGroup.apply(this,arguments);}function _updateDefaultGroup(){_updateDefaultGroup=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee3(newGid){var sts;return _regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:_context3.next=2;return fetch(\"/group/setdefaultgroup/\".concat(localStorage.getItem(\"uid\"),\"/\").concat(newGid));case 2:sts=_context3.sent;case 3:case\"end\":return _context3.stop();}}},_callee3);}));return _updateDefaultGroup.apply(this,arguments);}var handleSubmit=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:case\"end\":return _context.stop();}}},_callee);}));return function handleSubmit(){return _ref.apply(this,arguments);};}();function ShowResisterStatus(){var myMsg;switch(registerStatus){case 200:// setUserName(\"\");\n// setPassword(\"\");\n// setRepeatPassword(\"\");\n// setEmail(\"\");\nmyMsg=\"User \".concat(userName,\" successfully regisitered.\");break;case 602:myMsg=\"User Name already in use\";break;case 603:myMsg=\"Email id already in use\";break;default:myMsg=\"\";break;}return/*#__PURE__*/React.createElement(Typography,{className:registerStatus===200?classes.root:classes.error},myMsg);}function AdminSwitch(){return/*#__PURE__*/React.createElement(Typography,{component:\"div\"},\"GroupAdmin:\",/*#__PURE__*/React.createElement(Switch,{color:\"primary\",checked:myAdminSwitch,name:\"adminSw\",inputProps:{'aria-label':'primary checkbox'}}));}function handleCurrent(){//   console.log(myCurrentSwitch);\nif(!myCurrentSwitch){// var myElement;\n// window.localStorage.setItem(\"gdGid\", ggg.gid.toString());\n// window.localStorage.setItem(\"gdName\", ggg.groupName)\n// window.localStorage.setItem(\"gdDisplay\", ggg.displayName)\n// window.localStorage.setItem(\"gdAdmin\", ggg.admin.toString());\n// window.localStorage.setItem(\"gdCurrent\", (newCurrentGroup === ggg.groupName) ? \"true\" : \"false\");\n// window.localStorage.setItem(\"gdDefault\", ggg.defaultGroup.toString());\n// window.localStorage.setItem(\"gdTournament\", ggg.tournament);\nlocalStorage.setItem(\"gid\",localStorage.getItem(\"gdGid\"));localStorage.setItem(\"groupName\",localStorage.getItem(\"gdName\"));localStorage.setItem(\"displayName\",myDisplayName);localStorage.setItem(\"tournament\",localStorage.getItem(\"gdTournament\"));localStorage.setItem(\"admin\",localStorage.getItem(\"gdAdmin\"));setUser({uid:localStorage.getItem(\"uid\"),admin:localStorage.getItem(\"admin\").toLowerCase()===\"admin\"});setMyCurrentSwitch(true);}}function CurrentSwitch(){return/*#__PURE__*/React.createElement(Typography,{component:\"div\"},\"Set Current :\",/*#__PURE__*/React.createElement(Switch,{color:\"primary\",checked:myCurrentSwitch,onChange:handleCurrent,name:\"adminSw\",inputProps:{'aria-label':'primary checkbox'}}));}function handleDefault(){return _handleDefault.apply(this,arguments);}function _handleDefault(){_handleDefault=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee4(){return _regeneratorRuntime.wrap(function _callee4$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:if(myDefaultSwitch){_context4.next=4;break;}_context4.next=3;return updateDefaultGroup(localStorage.getItem(\"gdGid\"));case 3:setMyDefaultSwitch(true);case 4:case\"end\":return _context4.stop();}}},_callee4);}));return _handleDefault.apply(this,arguments);}function DefaultSwitch(){return/*#__PURE__*/React.createElement(Typography,{component:\"div\"},\"Set Default :\",/*#__PURE__*/React.createElement(Switch,{color:\"primary\",checked:myDefaultSwitch,onChange:handleDefault,name:\"adminSw\",inputProps:{'aria-label':'primary checkbox'}}));}function DisplaySwitch(){return/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(AdminSwitch,null),/*#__PURE__*/React.createElement(CurrentSwitch,null),/*#__PURE__*/React.createElement(DefaultSwitch,null));}function ShowGroupMembers(){history.push(\"/admin/membergroup\");};function DisplayButtons(){return/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(Button,{key:\"members\",variant:\"contained\",color:\"primary\",className:classes.button,onClick:ShowGroupMembers},\"Members\"),/*#__PURE__*/React.createElement(Button,{variant:\"contained\",color:\"primary\",className:classes.button,onClick:function onClick(){history.push('/admin/mygroup');},type:\"cancel\"},\"Done\"),/*#__PURE__*/React.createElement(Route,{path:\"/admin/membergroup\",component:GroupMember,key:\"MemberList\"}));}function DisplayHeader(){return/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(Typography,{component:\"h1\",variant:\"h5\"},\"Group Details\"),/*#__PURE__*/React.createElement(Typography,{className:classes.groupName,align:\"center\"},\"(\",myGroupName,\")\"));}function SetFranchiseName(){return _SetFranchiseName.apply(this,arguments);}function _SetFranchiseName(){_SetFranchiseName=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee5(){var newName;return _regeneratorRuntime.wrap(function _callee5$(_context5){while(1){switch(_context5.prev=_context5.next){case 0:newName=document.getElementById(\"franchise\").value;if(!(newName!==myDisplayName)){_context5.next=4;break;}_context5.next=4;return updateFranchiseName(localStorage.getItem(\"gdGid\"),newName);case 4:case\"end\":return _context5.stop();}}},_callee5);}));return _SetFranchiseName.apply(this,arguments);}function DisplayFranchise(){return/*#__PURE__*/React.createElement(\"div\",{className:classes.filter,align:\"left\"},/*#__PURE__*/React.createElement(TextField,{className:classes.filter,id:\"franchise\",margin:\"none\",size:\"small\",defaultValue:myDisplayName}),/*#__PURE__*/React.createElement(Button,{key:\"filterbtn\",variant:\"contained\",color:\"primary\",size:\"small\",className:classes.button,onClick:SetFranchiseName},\"Update\"));}return/*#__PURE__*/React.createElement(Container,{component:\"main\",maxWidth:\"xs\"},/*#__PURE__*/React.createElement(CssBaseline,null),/*#__PURE__*/React.createElement(\"div\",{className:classes.paper},/*#__PURE__*/React.createElement(DisplayHeader,null),/*#__PURE__*/React.createElement(BlankArea,null),/*#__PURE__*/React.createElement(ValidatorForm,{className:classes.form,onSubmit:handleSubmit},/*#__PURE__*/React.createElement(DisplayFranchise,null),/*#__PURE__*/React.createElement(BlankArea,null),/*#__PURE__*/React.createElement(DisplaySwitch,null),/*#__PURE__*/React.createElement(BlankArea,null),/*#__PURE__*/React.createElement(ShowResisterStatus,null),/*#__PURE__*/React.createElement(DisplayButtons,null))));}","map":{"version":3,"sources":["D:/projects/Cricket/akshu close/IPL/material-dashboard-react-master/src/views/Group/GroupDetails.js"],"names":["React","useEffect","useState","useContext","Avatar","Button","CssBaseline","Link","Route","LockOutlinedIcon","Typography","TextField","Grid","Switch","makeStyles","Container","UserContext","axios","ValidatorForm","TextValidator","red","blue","useHistory","validateSpecialCharacters","validateEmail","BlankArea","useParams","GroupMember","useStyles","theme","paper","marginTop","spacing","display","flexDirection","alignItems","avatar","margin","backgroundColor","palette","secondary","main","form","width","submit","button","groupName","fontSize","color","error","myGroupName","ChildComp","addValidationRule","value","removeValidationRule","Component","GroupDetails","classes","history","registerStatus","setRegisterStatus","myDisplayName","setDisplayName","myAdminSwitch","setMyAdminSwitch","myDefaultSwitch","setMyDefaultSwitch","myCurrentSwitch","setMyCurrentSwitch","masterDisplayName","setMasterDisplayName","masterDefaultSwitch","setMasterDefaultSwitch","masterCurrentSwitch","setMasterCurrentSwitch","setUser","window","localStorage","getItem","toLowerCase","updateFranchiseName","newGid","newName","fetch","sts","updateDefaultGroup","handleSubmit","ShowResisterStatus","myMsg","userName","root","AdminSwitch","handleCurrent","setItem","uid","admin","CurrentSwitch","handleDefault","DefaultSwitch","DisplaySwitch","ShowGroupMembers","push","DisplayButtons","DisplayHeader","SetFranchiseName","document","getElementById","DisplayFranchise","filter"],"mappings":"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","sourcesContent":["import React, {useEffect, useState ,useContext} from 'react';\r\nimport Avatar from '@material-ui/core/Avatar';\r\nimport Button from '@material-ui/core/Button';\r\nimport CssBaseline from '@material-ui/core/CssBaseline';\r\n// import TextField from '@material-ui/core/TextField';\r\nimport Link from '@material-ui/core/Link';\r\nimport { Route } from 'react-router-dom';\r\n// import Grid from '@material-ui/core/Grid';\r\n// import Box from '@material-ui/core/Box';\r\nimport LockOutlinedIcon from '@material-ui/icons/LockOutlined';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport Switch from '@material-ui/core/Switch';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport Container from '@material-ui/core/Container';\r\nimport { UserContext } from \"../../UserContext\";\r\nimport axios from \"axios\";\r\nimport { ValidatorForm, TextValidator} from 'react-material-ui-form-validator';\r\nimport red from '@material-ui/core/colors/red';\r\nimport blue from '@material-ui/core/colors/blue';\r\nimport { useHistory } from \"react-router-dom\";\r\nimport {validateSpecialCharacters, validateEmail} from \"views/functions.js\";\r\nimport {BlankArea} from \"CustomComponents/CustomComponents.js\"\r\nimport { useParams } from \"react-router\";\r\nimport GroupMember from \"views/Group/GroupMember.js\"\r\n\r\n// const [myGroupName, setMyGroupName] = useState(\"\");\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  paper: {\r\n    marginTop: theme.spacing(8),\r\n    display: 'flex',\r\n    flexDirection: 'column',\r\n    alignItems: 'center',\r\n  },\r\n  avatar: {\r\n    margin: theme.spacing(1),\r\n    backgroundColor: theme.palette.secondary.main,\r\n  },\r\n  form: {\r\n    width: '100%', // Fix IE 11 issue.\r\n    marginTop: theme.spacing(1),\r\n  },\r\n  submit: {\r\n    margin: theme.spacing(3, 0, 2),\r\n  },\r\n  button: {\r\n    margin: theme.spacing(0, 1, 0),\r\n  },\r\n  groupName:  {\r\n    // right: 0,\r\n    fontSize: '12px',\r\n    color: blue[700],\r\n    // position: 'absolute',\r\n    alignItems: 'center',\r\n    marginTop: '0px',\r\n},\r\nerror:  {\r\n      // right: 0,\r\n      fontSize: '12px',\r\n      color: red[700],\r\n      // position: 'absolute',\r\n      alignItems: 'center',\r\n      marginTop: '0px',\r\n  },\r\n}));\r\n\r\nvar myGroupName = \"\";\r\n\r\nclass ChildComp extends React.Component {\r\n\r\n  componentDidMount()  {\r\n    // custom rule will have name 'isPasswordMatch'\r\n    // ValidatorForm.addValidationRule('isPasswordMatch', (value) => {\r\n    //   return (value === this.props.p1)\r\n    // });\r\n\r\n    // ValidatorForm.addValidationRule('minLength', (value) => {\r\n    //   return (value.length >= 6)\r\n    // });\r\n\r\n    ValidatorForm.addValidationRule('noSpecialCharacters', (value) => {\r\n      return validateSpecialCharacters(value);\r\n    });\r\n\r\n    // ValidatorForm.addValidationRule('isEmailOK', (value) => {\r\n    //   return validateEmail(value);\r\n    // });\r\n  }\r\n\r\n  \r\n  componentWillUnmount() {\r\n    // remove rule when it is not needed\r\n    // ValidatorForm.removeValidationRule('isPasswordMatch');\r\n    // ValidatorForm.removeValidationRule('isEmailOK');\r\n    // ValidatorForm.removeValidationRule('minLength');\r\n    ValidatorForm.removeValidationRule('noSpecialCharacters');   \r\n  }\r\n\r\n  render() {\r\n    return <br/>;\r\n  }\r\n\r\n}\r\n\r\n\r\nexport default function GroupDetails() {\r\nconst classes = useStyles();\r\nconst history = useHistory();\r\nconst [registerStatus, setRegisterStatus] = useState(0);\r\nconst [myDisplayName, setDisplayName] = useState(\"\");\r\nconst [myAdminSwitch, setMyAdminSwitch] = useState(false);\r\nconst [myDefaultSwitch, setMyDefaultSwitch] = useState(false);\r\nconst [myCurrentSwitch, setMyCurrentSwitch] = useState(false);\r\nconst [masterDisplayName, setMasterDisplayName] = useState(\"\");\r\nconst [masterDefaultSwitch, setMasterDefaultSwitch] = useState(false);\r\nconst [masterCurrentSwitch, setMasterCurrentSwitch] = useState(false);\r\n\r\n  const { setUser } = useContext(UserContext);\r\n\r\n  useEffect(() => {\r\n    myGroupName = window.localStorage.getItem(\"gdName\")\r\n\r\n    setDisplayName(window.localStorage.getItem(\"gdDisplay\"));\r\n    setMasterDisplayName(window.localStorage.getItem(\"gdDisplay\"));\r\n\r\n    setMyAdminSwitch(window.localStorage.getItem(\"gdAdmin\").toLowerCase() === \"admin\");\r\n\r\n    setMyCurrentSwitch(window.localStorage.getItem(\"gdCurrent\").toLowerCase() === \"true\");\r\n    setMasterCurrentSwitch(window.localStorage.getItem(\"gdCurrent\").toLowerCase() === \"true\");\r\n\r\n    setMyDefaultSwitch(window.localStorage.getItem(\"gdDefault\").toLowerCase() === \"true\");\r\n    setMasterDefaultSwitch(window.localStorage.getItem(\"gdDefault\").toLowerCase() === \"true\");\r\n    \r\n  }, [])\r\n\r\n  async function updateFranchiseName(newGid, newName) {\r\n    let sts = await fetch(`/group/setfranchisename/${localStorage.getItem(\"uid\")}/${newGid}/${newName}`);\r\n  }\r\n\r\n\r\n  async function updateDefaultGroup(newGid) {\r\n    let sts = await fetch(`/group/setdefaultgroup/${localStorage.getItem(\"uid\")}/${newGid}`)\r\n  }\r\n\r\n  const handleSubmit = async() => {\r\n  }\r\n\r\n\r\n  function ShowResisterStatus() {\r\n    let myMsg;\r\n    switch (registerStatus) {\r\n      case 200:\r\n        // setUserName(\"\");\r\n        // setPassword(\"\");\r\n        // setRepeatPassword(\"\");\r\n        // setEmail(\"\");\r\n        myMsg = `User ${userName} successfully regisitered.`;\r\n        break;\r\n      case 602:\r\n        myMsg = \"User Name already in use\";\r\n        break;\r\n      case 603:\r\n        myMsg = \"Email id already in use\";\r\n        break;\r\n      default:\r\n          myMsg = \"\";\r\n          break;\r\n    }\r\n    return(\r\n        <Typography className={(registerStatus === 200) ? classes.root : classes.error}>{myMsg}</Typography>\r\n    )\r\n  }\r\n\r\n  function AdminSwitch() {\r\n    return (\r\n        <Typography component=\"div\">GroupAdmin: \r\n         <Switch color=\"primary\" checked={myAdminSwitch} name=\"adminSw\" inputProps={{ 'aria-label': 'primary checkbox' }}/>\r\n        </Typography>\r\n    )\r\n  }\r\n\r\n  function handleCurrent() {\r\n    //   console.log(myCurrentSwitch);\r\n    if (!myCurrentSwitch) {\r\n        // var myElement;\r\n        // window.localStorage.setItem(\"gdGid\", ggg.gid.toString());\r\n        // window.localStorage.setItem(\"gdName\", ggg.groupName)\r\n        // window.localStorage.setItem(\"gdDisplay\", ggg.displayName)\r\n        // window.localStorage.setItem(\"gdAdmin\", ggg.admin.toString());\r\n        // window.localStorage.setItem(\"gdCurrent\", (newCurrentGroup === ggg.groupName) ? \"true\" : \"false\");\r\n        // window.localStorage.setItem(\"gdDefault\", ggg.defaultGroup.toString());\r\n        // window.localStorage.setItem(\"gdTournament\", ggg.tournament);\r\n        localStorage.setItem(\"gid\", localStorage.getItem(\"gdGid\"));\r\n        localStorage.setItem(\"groupName\", localStorage.getItem(\"gdName\"));\r\n        localStorage.setItem(\"displayName\", myDisplayName);\r\n        localStorage.setItem(\"tournament\", localStorage.getItem(\"gdTournament\"));\r\n        localStorage.setItem(\"admin\", localStorage.getItem(\"gdAdmin\"))\r\n        setUser({ uid: localStorage.getItem(\"uid\"), admin: (localStorage.getItem(\"admin\").toLowerCase() === \"admin\")})    \r\n        setMyCurrentSwitch(true);\r\n    }\r\n  }\r\n\r\n  function CurrentSwitch() {\r\n    return (\r\n        <Typography component=\"div\">Set Current : \r\n        <Switch color=\"primary\" checked={myCurrentSwitch} onChange={handleCurrent} name=\"adminSw\" inputProps={{ 'aria-label': 'primary checkbox' }}/>\r\n        </Typography>\r\n    )\r\n  }\r\n\r\n  async function handleDefault() {\r\n    if (!myDefaultSwitch) {\r\n      await updateDefaultGroup(localStorage.getItem(\"gdGid\"));\r\n      setMyDefaultSwitch(true);\r\n    }\r\n  }\r\n\r\n  function DefaultSwitch() {\r\n      return (\r\n          <Typography component=\"div\">Set Default : \r\n          <Switch color=\"primary\" checked={myDefaultSwitch} onChange={handleDefault} name=\"adminSw\" inputProps={{ 'aria-label': 'primary checkbox' }}/>\r\n          </Typography>\r\n      );\r\n}\r\n\r\n  function DisplaySwitch() {\r\n    return (\r\n      <div>\r\n        <AdminSwitch />\r\n        <CurrentSwitch />\r\n        <DefaultSwitch />\r\n      </div>\r\n    )\r\n  }\r\n\r\n  function ShowGroupMembers() {\r\n    history.push(\"/admin/membergroup\");        \r\n  };\r\n\r\n  function DisplayButtons() {\r\n    return (\r\n    <div>\r\n      {/* <Button variant=\"contained\" color=\"primary\" className={classes.button}\r\n        type=\"submit\">\r\n        Update\r\n      </Button> */}\r\n      <Button key={\"members\"} variant=\"contained\" color=\"primary\"\r\n            className={classes.button} onClick={ShowGroupMembers}>Members\r\n      </Button>\r\n      <Button variant=\"contained\" color=\"primary\" className={classes.button}\r\n          onClick={() => {history.push('/admin/mygroup')}}\r\n          type=\"cancel\">\r\n        Done\r\n      </Button>\r\n      <Route  path='/admin/membergroup' component={GroupMember} key=\"MemberList\"/>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  function DisplayHeader() {\r\n    return (\r\n      <div>\r\n        <Typography component=\"h1\" variant=\"h5\">Group Details</Typography>\r\n        <Typography className={classes.groupName} align=\"center\">({myGroupName})</Typography>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  async function SetFranchiseName() {\r\n    const newName = document.getElementById(\"franchise\").value;\r\n    if (newName !== myDisplayName) {\r\n      // console.log(`New display name ${newName}`);\r\n      await updateFranchiseName(localStorage.getItem(\"gdGid\"), newName);\r\n    }\r\n  }\r\n\r\n  function DisplayFranchise() {\r\n    return (\r\n      <div className={classes.filter} align=\"left\">\r\n        <TextField className={classes.filter} id=\"franchise\" margin=\"none\" size=\"small\" defaultValue={myDisplayName}/>        \r\n        <Button key=\"filterbtn\" variant=\"contained\" color=\"primary\" size=\"small\"\r\n          className={classes.button} onClick={SetFranchiseName}>Update\r\n        </Button>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <Container component=\"main\" maxWidth=\"xs\">\r\n      <CssBaseline />\r\n      <div className={classes.paper}>\r\n        <DisplayHeader/>\r\n        <BlankArea/>\r\n    <ValidatorForm className={classes.form} onSubmit={handleSubmit}>\r\n      <DisplayFranchise/>\r\n      {/* <TextValidator\r\n          variant=\"outlined\"\r\n        //   required\r\n          fullWidth      \r\n          label=\"Franchise Name\"\r\n          onChange={(event) => setDisplayName(event.target.value)}\r\n          name=\"displayname\"\r\n          validators={['noSpecialCharacters']}\r\n          errorMessages={['Special characters not permitted']}\r\n          value={myDisplayName}\r\n      /> */}\r\n      <BlankArea/>\r\n      <DisplaySwitch/>\r\n      <BlankArea/>\r\n      <ShowResisterStatus/>\r\n      <DisplayButtons/>\r\n    </ValidatorForm>\r\n    </div>\r\n    {/* <ChildComp />     */}\r\n    </Container>\r\n  );\r\n}\r\n\r\n"]},"metadata":{},"sourceType":"module"}