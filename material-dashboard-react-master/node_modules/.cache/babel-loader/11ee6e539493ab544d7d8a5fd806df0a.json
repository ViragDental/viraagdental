{"ast":null,"code":"import _slicedToArray from \"D:/projects/Cricket/akshu close/IPL/material-dashboard-react-master/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\n\nvar _jsxFileName = \"D:\\\\projects\\\\Cricket\\\\akshu close\\\\IPL\\\\material-dashboard-react-master\\\\src\\\\App.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useMemo } from \"react\";\nimport { BrowserRouter as Router, Route, Redirect } from \"react-router-dom\";\nimport { createBrowserHistory } from \"history\";\nimport { UserContext } from \"./UserContext\";\nimport Admin from \"layouts/Admin.js\";\nimport \"assets/css/material-dashboard-react.css?v=1.9.0\"; // import { DesktopWindows } from \"@material-ui/icons\";\n\nimport { CricDreamTabs, setTab } from \"CustomComponents/CricDreamTabs\";\nimport SignIn from \"views/Login/SignIn.js\";\nimport SignUp from \"views/Login/SignUp.js\";\nimport JoinGroup from \"views/Group/JoinGroup.js\";\nimport ForgotPassword from \"views/Login/ForgotPassword.js\";\nvar hist = createBrowserHistory();\n\nfunction checkJoinGroup(pathArray) {\n  var sts = false;\n\n  if (pathArray[1].toLowerCase() === \"joingroup\" && pathArray.length === 3 && pathArray[2].length > 0) {\n    localStorage.setItem(\"joinGroupCode\", pathArray[2]);\n    sts = true;\n  }\n\n  return sts;\n}\n\nfunction initCdParams() {\n  localStorage.setItem(\"joinGroupCode\", \"\");\n\n  if (localStorage.getItem(\"tabpos\") !== null && localStorage.getItem(\"tabpos\") !== \"\") {\n    var ipos = parseInt(localStorage.getItem(\"tabpos\"));\n    if (ipos > process.env.REACT_APP_BASEPOS) localStorage.setItem(\"tabpos\", ipos - process.env.REACT_APP_BASEPOS);\n  } else localStorage.setItem(\"tabpos\", 0);\n}\n\nfunction isUserLogged() {\n  console.log(\"User is \".concat(localStorage.getItem(\"uid\")));\n  if (localStorage.getItem(\"uid\") === \"\" || localStorage.getItem(\"uid\") === \"0\" || localStorage.getItem(\"uid\") === null) return false;else return true;\n}\n\nfunction AppRouter() {\n  _s();\n\n  var _useState = useState(null),\n      _useState2 = _slicedToArray(_useState, 2),\n      user = _useState2[0],\n      setUser = _useState2[1];\n\n  var value = useMemo(function () {\n    return {\n      user: user,\n      setUser: setUser\n    };\n  }, [user, setUser]);\n\n  function DispayTabs() {\n    // console.log(localStorage.getItem(\"uid\"));\n    // console.log(`Status is ${isUserLogged()}`)\n    if (isUserLogged()) return /*#__PURE__*/React.createElement(CricDreamTabs, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 15\n      }\n    });else {\n      if (localStorage.getItem(\"currentLogin\") === \"SIGNUP\") return /*#__PURE__*/React.createElement(SignUp, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 60,\n          columnNumber: 17\n        }\n      });else if (localStorage.getItem(\"currentLogin\") === \"RESET\") return /*#__PURE__*/React.createElement(ForgotPassword, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 62,\n          columnNumber: 17\n        }\n      });else return /*#__PURE__*/React.createElement(SignIn, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 64,\n          columnNumber: 17\n        }\n      });\n    }\n  } // localStorage.clear()\n\n\n  window.onbeforeunload = function () {\n    return Router.refresh();\n  };\n\n  console.log(\"in before unload\"); // localStorage.clear();\n  // console.log(\"clearing local storage\");\n\n  initCdParams(); //console.log(\"GTP \"+window.location.pathname.toLowerCase());\n\n  var mypath = window.location.pathname.split(\"/\");\n\n  if (checkJoinGroup(mypath)) {\n    //console.log(\"join group found\");\n    localStorage.setItem(\"tabpos\", 105); //history.push(\"/\")\n  } // return (\n  // <Router history={hist}> \n  //     <UserContext.Provider value={value}>\n  //       {!user && <Redirect from=\"/\" to=\"/signIn\" />}\n  // <Route path=\"/joingroup\" component={JoinGroup} />\n  //       <Route path=\"/admin\" component={value ? Admin : SignIn} />\n  //       <Redirect from=\"/\" to=\"/signIn\" />\n  //     </UserContext.Provider>\n  // </Router>\n  // );\n\n\n  return /*#__PURE__*/React.createElement(Router, {\n    history: hist,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(UserContext.Provider, {\n    value: value,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(DispayTabs, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 7\n    }\n  }));\n}\n\n_s(AppRouter, \"+m7beLtAnuVU1u6C3kePTCNrrkk=\");\n\n_c = AppRouter;\nexport default AppRouter;\n\nvar _c;\n\n$RefreshReg$(_c, \"AppRouter\");","map":{"version":3,"sources":["D:/projects/Cricket/akshu close/IPL/material-dashboard-react-master/src/App.js"],"names":["React","useState","useMemo","BrowserRouter","Router","Route","Redirect","createBrowserHistory","UserContext","Admin","CricDreamTabs","setTab","SignIn","SignUp","JoinGroup","ForgotPassword","hist","checkJoinGroup","pathArray","sts","toLowerCase","length","localStorage","setItem","initCdParams","getItem","ipos","parseInt","process","env","REACT_APP_BASEPOS","isUserLogged","console","log","AppRouter","user","setUser","value","DispayTabs","window","onbeforeunload","refresh","mypath","location","pathname","split"],"mappings":"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","sourcesContent":["import React, { useState, useMemo } from \"react\";\r\nimport { BrowserRouter as Router, Route, Redirect } from \"react-router-dom\";\r\nimport { createBrowserHistory } from \"history\";\r\nimport { UserContext } from \"./UserContext\";\r\nimport Admin from \"layouts/Admin.js\";\r\nimport \"assets/css/material-dashboard-react.css?v=1.9.0\";\r\n// import { DesktopWindows } from \"@material-ui/icons\";\r\nimport { CricDreamTabs, setTab }from \"CustomComponents/CricDreamTabs\"\r\nimport SignIn from \"views/Login/SignIn.js\";\r\nimport SignUp from \"views/Login/SignUp.js\";\r\nimport JoinGroup from \"views/Group/JoinGroup.js\"\r\nimport ForgotPassword from \"views/Login/ForgotPassword.js\";\r\n\r\nconst hist = createBrowserHistory();\r\n\r\nfunction checkJoinGroup(pathArray) {\r\n  let sts = false;\r\n  if ((pathArray[1].toLowerCase() === \"joingroup\") && (pathArray.length === 3) && (pathArray[2].length > 0)) {\r\n    localStorage.setItem(\"joinGroupCode\", pathArray[2]);\r\n    sts = true;\r\n  }\r\n  return sts;\r\n}\r\n\r\nfunction initCdParams() {\r\n  localStorage.setItem(\"joinGroupCode\", \"\");\r\n  if ((localStorage.getItem(\"tabpos\") !== null) &&\r\n  (localStorage.getItem(\"tabpos\") !== \"\") ) {\r\n    let ipos = parseInt(localStorage.getItem(\"tabpos\"));\r\n    if (ipos > process.env.REACT_APP_BASEPOS) localStorage.setItem(\"tabpos\", ipos-process.env.REACT_APP_BASEPOS);\r\n  } else\r\n    localStorage.setItem(\"tabpos\", 0);\r\n}\r\n\r\nfunction isUserLogged() {\r\n  console.log(`User is ${localStorage.getItem(\"uid\")}`)\r\n  if ((localStorage.getItem(\"uid\") === \"\") || \r\n      (localStorage.getItem(\"uid\") === \"0\") ||\r\n      (localStorage.getItem(\"uid\") === null))\r\n    return false;\r\n  else\r\n    return true;\r\n}\r\n\r\nfunction AppRouter() {\r\n\r\n  const [user, setUser] = useState(null);\r\n\r\n  const value = useMemo(() => ({ user, setUser }), [user, setUser]);\r\n\r\n\r\n  function DispayTabs() {\r\n    // console.log(localStorage.getItem(\"uid\"));\r\n    // console.log(`Status is ${isUserLogged()}`)\r\n\r\n    if (isUserLogged())\r\n      return (<CricDreamTabs/>)  \r\n    else {\r\n      if (localStorage.getItem(\"currentLogin\") === \"SIGNUP\")\r\n        return (<SignUp/>)\r\n      else if (localStorage.getItem(\"currentLogin\") === \"RESET\")\r\n        return (<ForgotPassword/>)\r\n      else\r\n        return (<SignIn/>)\r\n    }\r\n  }\r\n  // localStorage.clear()\r\n  window.onbeforeunload = () => Router.refresh();\r\n  console.log(\"in before unload\");\r\n  // localStorage.clear();\r\n  // console.log(\"clearing local storage\");\r\n    initCdParams();\r\n    //console.log(\"GTP \"+window.location.pathname.toLowerCase());\r\n    let mypath = window.location.pathname.split(\"/\");\r\n    if (checkJoinGroup(mypath)) {\r\n      //console.log(\"join group found\");\r\n      localStorage.setItem(\"tabpos\", 105);\r\n      //history.push(\"/\")\r\n    } \r\n\r\n  // return (\r\n    // <Router history={hist}> \r\n  //     <UserContext.Provider value={value}>\r\n  //       {!user && <Redirect from=\"/\" to=\"/signIn\" />}\r\n        // <Route path=\"/joingroup\" component={JoinGroup} />\r\n  //       <Route path=\"/admin\" component={value ? Admin : SignIn} />\r\n  //       <Redirect from=\"/\" to=\"/signIn\" />\r\n  //     </UserContext.Provider>\r\n    // </Router>\r\n  // );\r\n\r\nreturn (\r\n      <Router history={hist}> \r\n      <UserContext.Provider value={value}>\r\n      </UserContext.Provider>\r\n      <DispayTabs />\r\n      </Router>\r\n  );\r\n\r\n}\r\n\r\nexport default AppRouter;\r\n"]},"metadata":{},"sourceType":"module"}