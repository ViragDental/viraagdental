{"ast":null,"code":"import _defineProperty from \"D:\\\\projects\\\\Cricket\\\\akshu close\\\\IPL\\\\material-dashboard-react-master\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/defineProperty\";\nimport _regeneratorRuntime from \"D:\\\\projects\\\\Cricket\\\\akshu close\\\\IPL\\\\material-dashboard-react-master\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/regenerator\";\nimport _asyncToGenerator from \"D:\\\\projects\\\\Cricket\\\\akshu close\\\\IPL\\\\material-dashboard-react-master\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/asyncToGenerator\";\nimport _slicedToArray from \"D:\\\\projects\\\\Cricket\\\\akshu close\\\\IPL\\\\material-dashboard-react-master\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"D:\\\\projects\\\\Cricket\\\\akshu close\\\\IPL\\\\material-dashboard-react-master\\\\src\\\\views\\\\Captain\\\\Captain.js\";\nimport React, { useEffect, useState, useContext } from 'react';\nimport axios from \"axios\";\nimport { makeStyles, useTheme } from '@material-ui/core/styles';\nimport DialogTitle from '@material-ui/core/DialogTitle';\nimport Dialog from '@material-ui/core/Dialog';\nimport Accordion from '@material-ui/core/Accordion';\nimport AccordionSummary from '@material-ui/core/AccordionSummary';\nimport AccordionDetails from '@material-ui/core/AccordionDetails';\nimport Typography from '@material-ui/core/Typography';\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore';\nimport MenuItem from '@material-ui/core/MenuItem';\nimport FormControl from '@material-ui/core/FormControl';\nimport DoneIcon from '@material-ui/icons/Done';\nimport Select from \"@material-ui/core/Select\";\nimport Table from \"components/Table/Table.js\";\nimport Grid from \"@material-ui/core/Grid\";\nimport Button from '@material-ui/core/Button';\nimport GridItem from \"components/Grid/GridItem.js\";\nimport Card from \"components/Card/Card.js\";\nimport CardBody from \"components/Card/CardBody.js\";\nimport { UserContext } from \"../../UserContext\"; // import socketIOClient from \"socket.io-client\";\n// const ENDPOINT = \"https://happy-home-ipl-2020.herokuapp.com/\";\n// const ENDPOINT = \"http://localhost:4000\";\n\nvar useStyles = makeStyles(function (theme) {\n  return {\n    root: {\n      width: '100%'\n    },\n    heading: {\n      fontSize: theme.typography.pxToRem(15),\n      flexBasis: '33.33%',\n      flexShrink: 0\n    },\n    secondaryHeading: {\n      fontSize: theme.typography.pxToRem(15),\n      color: theme.palette.text.secondary\n    }\n  };\n});\nexport default function ImgMediaCard() {\n  var _React$createElement;\n\n  window.onbeforeunload = function () {\n    return setUser(null);\n  };\n\n  var _useContext = useContext(UserContext),\n      setUser = _useContext.setUser;\n\n  var classes = useStyles();\n  var theme = useTheme();\n\n  var _useState = useState(false),\n      _useState2 = _slicedToArray(_useState, 2),\n      open = _useState2[0],\n      setOpen = _useState2[1];\n\n  var _useState3 = useState(false),\n      _useState4 = _slicedToArray(_useState3, 2),\n      confirmDialogOpen = _useState4[0],\n      setConfirmDialogOpen = _useState4[1];\n\n  var _useState5 = useState(null),\n      _useState6 = _slicedToArray(_useState5, 2),\n      selectedOwner = _useState6[0],\n      setSelectedOwner = _useState6[1];\n\n  var _useState7 = useState(false),\n      _useState8 = _slicedToArray(_useState7, 2),\n      backDropOpen = _useState8[0],\n      setBackDropOpen = _useState8[1];\n\n  var _useState9 = useState(),\n      _useState10 = _slicedToArray(_useState9, 2),\n      playerStatus = _useState10[0],\n      setPlayerStatus = _useState10[1];\n\n  var _useState11 = useState([{\n    desc: \"Captain\",\n    name: \"\"\n  }, {\n    desc: \"ViceCaptain\",\n    name: \"\"\n  }]),\n      _useState12 = _slicedToArray(_useState11, 2),\n      captainTableData = _useState12[0],\n      setCaptainTableData = _useState12[1];\n\n  var _useState13 = useState([]),\n      _useState14 = _slicedToArray(_useState13, 2),\n      myTeamTableData = _useState14[0],\n      setMyTeamTableData = _useState14[1];\n\n  var _useState15 = useState(false),\n      _useState16 = _slicedToArray(_useState15, 2),\n      isUserMemberOfGroup = _useState16[0],\n      setGroupMember = _useState16[1];\n\n  var _useState17 = useState(false),\n      _useState18 = _slicedToArray(_useState17, 2),\n      tournamentStated = _useState18[0],\n      setTournamentStarted = _useState18[1];\n\n  var _useState19 = useState(\"Captain\"),\n      _useState20 = _slicedToArray(_useState19, 2),\n      selectWhat = _useState20[0],\n      setSelectWhat = _useState20[1];\n\n  var _useState21 = useState(\"\"),\n      _useState22 = _slicedToArray(_useState21, 2),\n      selectedPlayerValue = _useState22[0],\n      setSelectedPlayerValue = _useState22[1]; // const classes = useStyles();\n\n\n  useEffect(function () {\n    var a = /*#__PURE__*/function () {\n      var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n        var gameStarted, mygroup, response, myUrl, teamResponse;\n        return _regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                // get start of tournamnet (i.e. start of 1st match)\n                gameStarted = false;\n                mygroup = localStorage.getItem(\"gid\");\n\n                if (!(mygroup === \"\" || mygroup === \"0\")) {\n                  _context.next = 7;\n                  break;\n                }\n\n                // handle if not a member of any group\n                setGroupMember(false);\n                setTournamentStarted(false);\n                console.log(\"Not a member of group. No cap/vice cap\");\n                return _context.abrupt(\"return\");\n\n              case 7:\n                _context.next = 9;\n                return axios.get(\"/user/getcaptain/\".concat(mygroup, \"/\").concat(localStorage.getItem(\"uid\")));\n\n              case 9:\n                response = _context.sent;\n\n                // var isGroupMember = false;\n                if (response.data.length > 0) {\n                  captainTableData[0].name = response.data[0].captainName;\n                  captainTableData[1].name = response.data[0].viceCaptainName;\n                }\n\n                _context.next = 13;\n                return axios.get(\"/group/gamestarted/\".concat(localStorage.getItem(\"gid\")));\n\n              case 13:\n                response = _context.sent;\n                gameStarted = response.data.length > 0;\n                gameStarted = false;\n\n                if (gameStarted) {\n                  _context.next = 22;\n                  break;\n                }\n\n                // get list of player purchased by user for aelecting captain / vice captain\n                myUrl = \"/user/myteamwos/\".concat(mygroup, \"/\").concat(localStorage.getItem(\"uid\"));\n                _context.next = 20;\n                return axios.get(myUrl);\n\n              case 20:\n                teamResponse = _context.sent;\n                setMyTeamTableData(teamResponse.data[0].players);\n\n              case 22:\n                setCaptainTableData(captainTableData);\n                setTournamentStarted(gameStarted); //setTournamentStarted(false);  // for testing\n\n                setGroupMember(true);\n\n              case 25:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee);\n      }));\n\n      return function a() {\n        return _ref.apply(this, arguments);\n      };\n    }();\n\n    a();\n  }, []);\n\n  function CvcSummary(props) {\n    return /*#__PURE__*/React.createElement(AccordionSummary, {\n      expandIcon: /*#__PURE__*/React.createElement(ExpandMoreIcon, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 122,\n          columnNumber: 39\n        }\n      }),\n      \"aria-controls\": \"panel1a-content\",\n      id: \"panel1a-header\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 122,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(Typography, {\n      className: classes.heading,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 123,\n        columnNumber: 9\n      }\n    }, props.desc), /*#__PURE__*/React.createElement(Typography, {\n      className: classes.secondaryHeading,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 124,\n        columnNumber: 9\n      }\n    }, props.name));\n  }\n\n  var _useState23 = useState(false),\n      _useState24 = _slicedToArray(_useState23, 2),\n      expandedPanel = _useState24[0],\n      setExpandedPanel = _useState24[1];\n\n  var handleAccordionChange = function handleAccordionChange(panel) {\n    return function (event, isExpanded) {\n      setExpandedPanel(isExpanded ? panel : false);\n    };\n  };\n\n  var _useState25 = useState(\"\"),\n      _useState26 = _slicedToArray(_useState25, 2),\n      selectedCaptain = _useState26[0],\n      SetSelectedCaptain = _useState26[1];\n\n  var handleSelectedCaptain = function handleSelectedCaptain(event) {\n    SetSelectedCaptain(event.target.value);\n  };\n\n  var _useState27 = useState(\"\"),\n      _useState28 = _slicedToArray(_useState27, 2),\n      selectedViceCaptain = _useState28[0],\n      SetSelectedViceCaptain = _useState28[1];\n\n  var handleSelectedViceCaptain = function handleSelectedViceCaptain(event) {\n    SetSelectedViceCaptain(event.target.value);\n  };\n\n  function ShowCaptainViceCaptain() {\n    var _this = this;\n\n    if (isUserMemberOfGroup) {\n      return /*#__PURE__*/React.createElement(\"div\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 146,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(Accordion, {\n        expanded: expandedPanel === captainTableData[0].desc,\n        onChange: handleAccordionChange(captainTableData[0].desc),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 147,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(CvcSummary, {\n        desc: captainTableData[0].desc,\n        name: captainTableData[0].name,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 149,\n          columnNumber: 17\n        }\n      }), /*#__PURE__*/React.createElement(AccordionDetails, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 150,\n          columnNumber: 15\n        }\n      }, /*#__PURE__*/React.createElement(Select, {\n        labelId: \"captain\",\n        id: \"captain\",\n        value: selectedCaptain,\n        displayEmpty: true,\n        onChange: handleSelectedCaptain,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 151,\n          columnNumber: 19\n        }\n      }, myTeamTableData.map(function (item) {\n        return /*#__PURE__*/React.createElement(MenuItem, {\n          key: item.pid,\n          value: item.playerName,\n          __self: _this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 155,\n            columnNumber: 25\n          }\n        }, item.playerName);\n      })), /*#__PURE__*/React.createElement(Button, {\n        variant: \"contained\",\n        color: \"secondary\",\n        size: \"small\",\n        className: classes.button,\n        startIcon: /*#__PURE__*/React.createElement(CheckSharpIcon, {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 158,\n            columnNumber: 59\n          }\n        }),\n        onClick: function onClick() {},\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 157,\n          columnNumber: 17\n        }\n      }, \"Select Captain\"))), /*#__PURE__*/React.createElement(Accordion, {\n        expanded: expandedPanel === captainTableData[1].desc,\n        onChange: handleAccordionChange(captainTableData[1].desc),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 163,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(CvcSummary, {\n        desc: captainTableData[1].desc,\n        name: captainTableData[1].name,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 165,\n          columnNumber: 17\n        }\n      }), /*#__PURE__*/React.createElement(AccordionDetails, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 166,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(Select, {\n        labelId: \"captain\",\n        id: \"captain\",\n        value: selectedCaptain,\n        displayEmpty: true,\n        onChange: handleSelectedCaptain,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 167,\n          columnNumber: 17\n        }\n      }, myTeamTableData.map(function (item) {\n        return /*#__PURE__*/React.createElement(MenuItem, {\n          key: item.pid,\n          value: item.playerName,\n          __self: _this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 171,\n            columnNumber: 25\n          }\n        }, item.playerName);\n      })), /*#__PURE__*/React.createElement(Button, {\n        variant: \"contained\",\n        color: \"secondary\",\n        size: \"small\",\n        className: classes.button,\n        startIcon: /*#__PURE__*/React.createElement(CheckSharpIcon, {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 174,\n            columnNumber: 59\n          }\n        }),\n        onClick: function onClick() {},\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 173,\n          columnNumber: 17\n        }\n      }, \"Select Vice Captain\"))));\n    } else {\n      return /*#__PURE__*/React.createElement(\"div\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 182,\n          columnNumber: 20\n        }\n      });\n    }\n  }\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: classes.root,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 187,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"h3\", (_React$createElement = {\n    My: true,\n    Captain: true,\n    and: true,\n    Vice: true\n  }, _defineProperty(_React$createElement, \"Captain\", true), _defineProperty(_React$createElement, \"__self\", this), _defineProperty(_React$createElement, \"__source\", {\n    fileName: _jsxFileName,\n    lineNumber: 188,\n    columnNumber: 9\n  }), _React$createElement)), /*#__PURE__*/React.createElement(ShowCaptainViceCaptain, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 189,\n      columnNumber: 9\n    }\n  }));\n}\n;","map":{"version":3,"sources":["D:/projects/Cricket/akshu close/IPL/material-dashboard-react-master/src/views/Captain/Captain.js"],"names":["React","useEffect","useState","useContext","axios","makeStyles","useTheme","DialogTitle","Dialog","Accordion","AccordionSummary","AccordionDetails","Typography","ExpandMoreIcon","MenuItem","FormControl","DoneIcon","Select","Table","Grid","Button","GridItem","Card","CardBody","UserContext","useStyles","theme","root","width","heading","fontSize","typography","pxToRem","flexBasis","flexShrink","secondaryHeading","color","palette","text","secondary","ImgMediaCard","window","onbeforeunload","setUser","classes","open","setOpen","confirmDialogOpen","setConfirmDialogOpen","selectedOwner","setSelectedOwner","backDropOpen","setBackDropOpen","playerStatus","setPlayerStatus","desc","name","captainTableData","setCaptainTableData","myTeamTableData","setMyTeamTableData","isUserMemberOfGroup","setGroupMember","tournamentStated","setTournamentStarted","selectWhat","setSelectWhat","selectedPlayerValue","setSelectedPlayerValue","a","gameStarted","mygroup","localStorage","getItem","console","log","get","response","data","length","captainName","viceCaptainName","myUrl","teamResponse","players","CvcSummary","props","expandedPanel","setExpandedPanel","handleAccordionChange","panel","event","isExpanded","selectedCaptain","SetSelectedCaptain","handleSelectedCaptain","target","value","selectedViceCaptain","SetSelectedViceCaptain","handleSelectedViceCaptain","ShowCaptainViceCaptain","map","item","pid","playerName","button"],"mappings":"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","sourcesContent":["import React, { useEffect, useState, useContext } from 'react';\r\nimport axios from \"axios\";\r\nimport { makeStyles, useTheme } from '@material-ui/core/styles';\r\nimport DialogTitle from '@material-ui/core/DialogTitle';\r\nimport Dialog from '@material-ui/core/Dialog';\r\n\r\n\r\nimport Accordion from '@material-ui/core/Accordion';\r\nimport AccordionSummary from '@material-ui/core/AccordionSummary';\r\nimport AccordionDetails from '@material-ui/core/AccordionDetails';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore';\r\n\r\nimport MenuItem from '@material-ui/core/MenuItem';\r\n\r\nimport FormControl from '@material-ui/core/FormControl';\r\n\r\n\r\nimport DoneIcon from '@material-ui/icons/Done';\r\n\r\nimport Select from \"@material-ui/core/Select\";\r\nimport Table from \"components/Table/Table.js\";\r\nimport Grid from \"@material-ui/core/Grid\";\r\nimport Button from '@material-ui/core/Button';\r\n\r\nimport GridItem from \"components/Grid/GridItem.js\";\r\nimport Card from \"components/Card/Card.js\";\r\nimport CardBody from \"components/Card/CardBody.js\";\r\n\r\n\r\nimport { UserContext } from \"../../UserContext\";\r\n\r\n// import socketIOClient from \"socket.io-client\";\r\n// const ENDPOINT = \"https://happy-home-ipl-2020.herokuapp.com/\";\r\n// const ENDPOINT = \"http://localhost:4000\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n    root: {\r\n      width: '100%',\r\n    },\r\n    heading: {\r\n      fontSize: theme.typography.pxToRem(15),\r\n      flexBasis: '33.33%',\r\n      flexShrink: 0,\r\n    },\r\n    secondaryHeading: {\r\n      fontSize: theme.typography.pxToRem(15),\r\n      color: theme.palette.text.secondary,\r\n    },\r\n  }));\r\n\r\n\r\n\r\nexport default function ImgMediaCard() {\r\n\r\n    window.onbeforeunload = () => setUser(null)\r\n\r\n    const { setUser } = useContext(UserContext);\r\n    const classes = useStyles();\r\n    const theme = useTheme();\r\n    const [open, setOpen] = useState(false);\r\n    const [confirmDialogOpen, setConfirmDialogOpen] = useState(false)\r\n    const [selectedOwner, setSelectedOwner] = useState(null);\r\n\r\n    const [backDropOpen, setBackDropOpen] = useState(false);\r\n    const [playerStatus, setPlayerStatus] = useState();\r\n    const [captainTableData, setCaptainTableData] = useState([{desc: \"Captain\", name: \"\"},\r\n        {desc: \"ViceCaptain\", name: \"\"}]);\r\n    const [myTeamTableData, setMyTeamTableData] = useState([]);\r\n    const [isUserMemberOfGroup, setGroupMember] = useState(false);\r\n    const [tournamentStated, setTournamentStarted] = useState(false);\r\n    const [selectWhat, setSelectWhat] = useState(\"Captain\");\r\n    const [selectedPlayerValue, setSelectedPlayerValue] = useState(\"\");\r\n\r\n    // const classes = useStyles();\r\n\r\n    useEffect(() => {\r\n        const a = async () => {\r\n            // get start of tournamnet (i.e. start of 1st match)\r\n            var gameStarted = false;  \r\n            var mygroup  = localStorage.getItem(\"gid\")\r\n            if  ((mygroup === \"\") || (mygroup === \"0\")) {\r\n                // handle if not a member of any group\r\n                setGroupMember(false);\r\n                setTournamentStarted(false);\r\n                console.log(\"Not a member of group. No cap/vice cap\")\r\n                return;\r\n            }\r\n          \r\n\r\n            // user belong to group. get cpation / vice captian alreasy set\r\n            // let response = \"\"\r\n            var response = await axios.get(`/user/getcaptain/${mygroup}/${localStorage.getItem(\"uid\")}`);\r\n            // var isGroupMember = false;\r\n            if (response.data.length > 0) {\r\n                captainTableData[0].name = response.data[0].captainName;\r\n                captainTableData[1].name = response.data[0].viceCaptainName;\r\n            }\r\n\r\n            response = await axios.get(`/group/gamestarted/${localStorage.getItem(\"gid\")}`);\r\n            gameStarted = (response.data.length > 0);\r\n            gameStarted = false;\r\n            if (!gameStarted) {\r\n                // get list of player purchased by user for aelecting captain / vice captain\r\n                var myUrl = `/user/myteamwos/${mygroup}/${localStorage.getItem(\"uid\")}`;\r\n                const teamResponse = await axios.get(myUrl);\r\n                setMyTeamTableData(teamResponse.data[0].players);\r\n            }         \r\n            setCaptainTableData(captainTableData);\r\n            setTournamentStarted(gameStarted);\r\n            //setTournamentStarted(false);  // for testing\r\n            setGroupMember(true);\r\n\r\n        }\r\n\r\n        a();\r\n    }, [])\r\n\r\n    \r\n    function CvcSummary(props) {\r\n        return (\r\n        <AccordionSummary expandIcon={<ExpandMoreIcon />} aria-controls=\"panel1a-content\" id=\"panel1a-header\">\r\n        <Typography className={classes.heading}>{props.desc}</Typography>\r\n        <Typography className={classes.secondaryHeading}>{props.name}</Typography>\r\n        </AccordionSummary>\r\n        );\r\n    }\r\n\r\n    const [expandedPanel, setExpandedPanel] = useState(false);\r\n    const handleAccordionChange = (panel) => (event, isExpanded) => {\r\n      setExpandedPanel(isExpanded ? panel : false);\r\n    };\r\n    const [selectedCaptain, SetSelectedCaptain] = useState(\"\");\r\n    const handleSelectedCaptain = (event) => {\r\n        SetSelectedCaptain(event.target.value);\r\n    };\r\n    const [selectedViceCaptain, SetSelectedViceCaptain] = useState(\"\");\r\n    const handleSelectedViceCaptain = (event) => {\r\n        SetSelectedViceCaptain(event.target.value);\r\n    };\r\n\r\n    \r\n    function  ShowCaptainViceCaptain() {\r\n        if (isUserMemberOfGroup) {\r\n            return(\r\n            <div>\r\n            <Accordion expanded={expandedPanel === captainTableData[0].desc} \r\n                onChange={handleAccordionChange(captainTableData[0].desc)}>\r\n                <CvcSummary desc={captainTableData[0].desc} name={captainTableData[0].name}/>\r\n              <AccordionDetails>\r\n                  <Select labelId='captain' id='captain'\r\n                    value={selectedCaptain}\r\n                    displayEmpty onChange={handleSelectedCaptain}>\r\n                    {myTeamTableData.map(item => \r\n                        <MenuItem key={item.pid} value={item.playerName}>{item.playerName}</MenuItem>)}\r\n                </Select>\r\n                <Button variant=\"contained\" color=\"secondary\" size=\"small\"\r\n                    className={classes.button} startIcon={<CheckSharpIcon />}\r\n                    onClick={() => {  }}>Select Captain\r\n                </Button>\r\n              </AccordionDetails>\r\n            </Accordion>\r\n            <Accordion expanded={expandedPanel === captainTableData[1].desc} \r\n                onChange={handleAccordionChange(captainTableData[1].desc)}>\r\n                <CvcSummary desc={captainTableData[1].desc} name={captainTableData[1].name}/>\r\n                <AccordionDetails>\r\n                <Select labelId='captain' id='captain'\r\n                    value={selectedCaptain}\r\n                    displayEmpty onChange={handleSelectedCaptain}>\r\n                    {myTeamTableData.map(item => \r\n                        <MenuItem key={item.pid} value={item.playerName}>{item.playerName}</MenuItem>)}\r\n                </Select>\r\n                <Button variant=\"contained\" color=\"secondary\" size=\"small\"\r\n                    className={classes.button} startIcon={<CheckSharpIcon />}\r\n                    onClick={() => { }}>Select Vice Captain\r\n                </Button>\r\n                </AccordionDetails>\r\n            </Accordion>\r\n            </div>\r\n            );\r\n        } else {\r\n            return(<div></div>);\r\n        }\r\n    }\r\n\r\n    return (\r\n    <div className={classes.root}>\r\n        <h3 My Captain and Vice Captain/>\r\n        <ShowCaptainViceCaptain/>\r\n    </div>\r\n    );\r\n\r\n};\r\n"]},"metadata":{},"sourceType":"module"}