{"ast":null,"code":"import _regeneratorRuntime from \"D:/projects/Cricket/akshu close/IPL/material-dashboard-react-master/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"D:/projects/Cricket/akshu close/IPL/material-dashboard-react-master/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _slicedToArray from \"D:/projects/Cricket/akshu close/IPL/material-dashboard-react-master/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nimport _objectSpread from \"D:/projects/Cricket/akshu close/IPL/material-dashboard-react-master/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";\n\nvar _jsxFileName = \"D:\\\\projects\\\\Cricket\\\\akshu close\\\\IPL\\\\material-dashboard-react-master\\\\src\\\\views\\\\Auction\\\\Auction.js\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useState, useContext } from 'react';\nimport axios from \"axios\";\nimport { makeStyles, useTheme } from '@material-ui/core/styles';\nimport DialogTitle from '@material-ui/core/DialogTitle';\nimport Dialog from '@material-ui/core/Dialog';\nimport Typography from '@material-ui/core/Typography';\nimport Table from \"components/Table/Table.js\";\nimport Grid from \"@material-ui/core/Grid\";\nimport GridItem from \"components/Grid/GridItem.js\";\nimport Button from '@material-ui/core/Button'; // import MenuItem from '@material-ui/core/MenuItem';\n// import FormControl from '@material-ui/core/FormControl';\n// import DoneIcon from '@material-ui/icons/Done';\n// import NavigateBeforeIcon from '@material-ui/icons/NavigateBefore';\n// import NavigateNextIcon from '@material-ui/icons/NavigateNext';\n//import Container from \"@material-ui/core/Container\";\n// import Select from \"@material-ui/core/Select\";\n// import DialogActions from '@material-ui/core/DialogActions';\n// import DialogContent from '@material-ui/core/DialogContent';\n// import DialogContentText from '@material-ui/core/DialogContentText';\n// import Drawer from '@material-ui/core/Drawer';\n// import ChevronLeftIcon from '@material-ui/icons/ChevronLeft';\n// import ChevronRightIcon from '@material-ui/icons/ChevronRight';\n// import IconButton from '@material-ui/core/IconButton';\n// import CheckSharpIcon from '@material-ui/icons/CheckSharp';\n// import ClearSharpIcon from '@material-ui/icons/ClearSharp';\n// import Input from '@material-ui/core/Input';\n\nimport Avatar from \"@material-ui/core/Avatar\";\nimport Card from \"components/Card/Card.js\";\nimport CardAvatar from \"components/Card/CardAvatar.js\";\nimport CardBody from \"components/Card/CardBody.js\";\nimport { BlankArea, NoGroup, DisplayPageHeader, MessageToUser } from 'CustomComponents/CustomComponents.js';\nimport { UserContext } from \"../../UserContext\";\nimport socketIOClient from \"socket.io-client\";\nimport { hasGroup } from 'views/functions';\nvar drawerWidth = 100;\nvar useStyles = makeStyles(function (theme) {\n  return {\n    infoButton: {\n      backgroundColor: '#FCDC00',\n      \":disabled\": {\n        backgroundColor: '#cddc39'\n      }\n    },\n    margin: {\n      margin: theme.spacing(1)\n    },\n    hdrText: {\n      // right: 0,\n      // fontSize: '12px',\n      // color: red[700],\n      // // position: 'absolute',\n      align: 'center',\n      marginTop: '0px',\n      marginBottom: '0px'\n    },\n    image: {\n      height: \"200px\"\n    },\n    container: {\n      backgroundImage: \"url(\".concat(process.env.PUBLIC_URL, \"/0.JPG)\"),\n      backgroundSize: 'cover'\n    },\n    drawer: {\n      width: drawerWidth,\n      flexShrink: 0\n    },\n    drawerPaper: {\n      width: drawerWidth\n    },\n    drawerHeader: _objectSpread(_objectSpread({\n      display: 'flex',\n      alignItems: 'center',\n      padding: theme.spacing(0, 1)\n    }, theme.mixins.toolbar), {}, {\n      justifyContent: 'flex-start'\n    }),\n    sold: {\n      color: \"green\"\n    },\n    cardCategoryWhite: {\n      color: \"rgba(255,255,255,.62)\",\n      margin: \"0\",\n      fontSize: \"14px\",\n      marginTop: \"0\",\n      marginBottom: \"0\"\n    },\n    cardTitleWhite: {\n      color: \"#FFFFFF\",\n      marginTop: \"0px\",\n      minHeight: \"auto\",\n      fontWeight: \"300\",\n      fontFamily: \"'Roboto', 'Helvetica', 'Arial', sans-serif\",\n      marginBottom: \"0px\",\n      textDecoration: \"none\"\n    },\n    large: {\n      width: theme.spacing(12),\n      height: theme.spacing(12)\n    },\n    medium: {\n      width: theme.spacing(9),\n      height: theme.spacing(9)\n    },\n    playerinfo: {\n      display: 'flex',\n      alignItems: 'center',\n      padding: theme.spacing(0, 0),\n      justifyContent: 'flex-start'\n    }\n  };\n});\n\nfunction leavingAuction(myConn) {\n  console.log(\"Leaving Auction wah wah \");\n  myConn.disconnect();\n}\n\nexport default function Auction() {\n  _s();\n\n  window.onbeforeunload = function () {\n    return setUser(null);\n  }; // const { user, setUser } = useContext(UserContext);\n\n\n  var classes = useStyles();\n  var theme = useTheme();\n\n  var _useState = useState(0),\n      _useState2 = _slicedToArray(_useState, 2),\n      playerId = _useState2[0],\n      setPid = _useState2[1];\n\n  var _useState3 = useState(\"\"),\n      _useState4 = _slicedToArray(_useState3, 2),\n      auctionStatus = _useState4[0],\n      setAuctionStatus = _useState4[1];\n\n  var _useState5 = useState(\"\"),\n      _useState6 = _slicedToArray(_useState5, 2),\n      playerName = _useState6[0],\n      setPlayerName = _useState6[1];\n\n  var _useState7 = useState(\"\"),\n      _useState8 = _slicedToArray(_useState7, 2),\n      playerImage = _useState8[0],\n      setPlayerImage = _useState8[1];\n\n  var _useState9 = useState(\"\"),\n      _useState10 = _slicedToArray(_useState9, 2),\n      team = _useState10[0],\n      setTeam = _useState10[1];\n\n  var _useState11 = useState(\"\"),\n      _useState12 = _slicedToArray(_useState11, 2),\n      role = _useState12[0],\n      setRole = _useState12[1];\n\n  var _useState13 = useState(\"\"),\n      _useState14 = _slicedToArray(_useState13, 2),\n      battingStyle = _useState14[0],\n      setBattingStyle = _useState14[1];\n\n  var _useState15 = useState(\"\"),\n      _useState16 = _slicedToArray(_useState15, 2),\n      bowlingStyle = _useState16[0],\n      setBowlingStyle = _useState16[1];\n\n  var _useState17 = useState(true),\n      _useState18 = _slicedToArray(_useState17, 2),\n      bidPaused = _useState18[0],\n      setBidPaused = _useState18[1]; // const [open, setOpen] = useState(false);\n\n\n  var _useState19 = useState(0),\n      _useState20 = _slicedToArray(_useState19, 2),\n      bidAmount = _useState20[0],\n      setBidAmount = _useState20[1];\n\n  var _useState21 = useState(\"\"),\n      _useState22 = _slicedToArray(_useState21, 2),\n      bidUser = _useState22[0],\n      setBidUser = _useState22[1];\n\n  var _useState23 = useState(0),\n      _useState24 = _slicedToArray(_useState23, 2),\n      bidUid = _useState24[0],\n      setBidUid = _useState24[1]; // const [bidOverMsg, setBidOverMsg] = useState(\"\");\n  // const [confirmDialogOpen, setConfirmDialogOpen] = useState(false)\n  // const [selectedOwner, setSelectedOwner] = useState(null);\n\n\n  var _useState25 = useState(false),\n      _useState26 = _slicedToArray(_useState25, 2),\n      backDropOpen = _useState26[0],\n      setBackDropOpen = _useState26[1];\n\n  var _useState27 = useState(\"\"),\n      _useState28 = _slicedToArray(_useState27, 2),\n      playerStatus = _useState28[0],\n      setPlayerStatus = _useState28[1];\n\n  var _useState29 = useState([]),\n      _useState30 = _slicedToArray(_useState29, 2),\n      AuctionTableData = _useState30[0],\n      setAuctionTableData = _useState30[1];\n\n  var _useState31 = useState(0),\n      _useState32 = _slicedToArray(_useState31, 2),\n      myBalanceAmount = _useState32[0],\n      setMyBalanceAmount = _useState32[1]; // const handleDrawerClose = () => {\n  //     setOpen(false);\n  // };\n  // const handleModalClose = () => {\n  //     setConfirmDialogOpen(false);\n  // };\n\n\n  function DisplayBidOverMsg(msg) {\n    setPlayerStatus(msg); // setConfirmDialogOpen(false);\n\n    setBackDropOpen(true);\n    setTimeout(function () {\n      return setBackDropOpen(false);\n    }, process.env.REACT_APP_MESSAGE_TIME);\n  } // console.log(`Dangerous ${playerId}`)\n\n\n  useEffect(function () {\n    // console.log(process.env.PUBLIC_URL);\n    var sendMessage = {\n      page: \"AUCT\",\n      gid: localStorage.getItem(\"gid\"),\n      uid: localStorage.getItem(\"uid\")\n    };\n    var sockConn = socketIOClient(process.env.REACT_APP_ENDPOINT);\n\n    var makeconnection = /*#__PURE__*/function () {\n      var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n        return _regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                _context.next = 2;\n                return sockConn.connect();\n\n              case 2:\n                sockConn.emit(\"page\", sendMessage);\n\n              case 3:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee);\n      }));\n\n      return function makeconnection() {\n        return _ref.apply(this, arguments);\n      };\n    }();\n\n    function updatePlayerChange(newPlayerDetails, balanceDetails) {\n      setBidPaused(false); // console.log(\"Player Changed\");\n      // console.log(`New: ${newPlayerDetails.pid}  Old: ${playerId} `)\n      // first set PID so that display is better\n\n      setPid(newPlayerDetails.pid);\n      var tmp = \"\".concat(process.env.PUBLIC_URL, \"/\").concat(newPlayerDetails.pid, \".JPG\");\n\n      if (playerImage != tmp) {\n        // console.log(\"Different image\")\n        setPlayerImage(\"\".concat(process.env.PUBLIC_URL, \"/\").concat(newPlayerDetails.pid, \".JPG\"));\n      } else {// console.log(\"Same player image\")\n      }\n\n      setTeam(newPlayerDetails.Team);\n      setRole(newPlayerDetails.role);\n      setBattingStyle(newPlayerDetails.battingStyle);\n      setBowlingStyle(newPlayerDetails.bowlingStyle);\n      setPlayerName(newPlayerDetails.fullName);\n      var ourBalance = balanceDetails.filter(function (balance) {\n        return balance.uid == localStorage.getItem(\"uid\");\n      });\n      setMyBalanceAmount(ourBalance[0].balance); // for ADMIN, NOW WE WILL SHOW BALANCE of himself/herself. Not of other members\n      // let allUserBalance = (localStorage.getItem(\"admin\") === \"false\") ? ourBalance : balanceDetails;\n\n      var allUserBalance = ourBalance;\n      setAuctionTableData(allUserBalance);\n      setAuctionStatus(\"RUNNING\");\n    }\n\n    makeconnection();\n    sockConn.on(\"connect\", function () {\n      sockConn.emit(\"page\", sendMessage);\n      sockConn.on(\"auctionStatus\", function (newAuctionStatus) {\n        console.log(\"auction status: \".concat(newAuctionStatus));\n        setAuctionStatus(newAuctionStatus);\n      });\n      sockConn.on(\"bidOver\", function (myrec) {\n        console.log(\"bid over reveived\"); // console.log(myrec);\n\n        DisplayBidOverMsg(\"\".concat(myrec.playerName, \" successfully purchased by \").concat(myrec.userName));\n      });\n      sockConn.on(\"newBid\", function (grec) {\n        // console.log(\"new bid reveived\");\n        // console.log(grec);\n        setBidAmount(grec.auctionBid);\n        setBidUser(grec.currentBidUser);\n        setBidUid(grec.currentBidUid);\n      });\n      sockConn.on(\"playerChange\", /*#__PURE__*/function () {\n        var _ref2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee2(newPlayerDetails, balanceDetails) {\n          return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n            while (1) {\n              switch (_context2.prev = _context2.next) {\n                case 0:\n                  // console.log(\"Calling updatePlayerChange from socker\");\n                  updatePlayerChange(newPlayerDetails, balanceDetails);\n\n                case 1:\n                case \"end\":\n                  return _context2.stop();\n              }\n            }\n          }, _callee2);\n        }));\n\n        return function (_x, _x2) {\n          return _ref2.apply(this, arguments);\n        };\n      }());\n    });\n\n    var a = /*#__PURE__*/function () {\n      var _ref3 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee3() {\n        var response, response2, response1;\n        return _regeneratorRuntime.wrap(function _callee3$(_context3) {\n          while (1) {\n            switch (_context3.prev = _context3.next) {\n              case 0:\n                if (hasGroup()) {\n                  _context3.next = 2;\n                  break;\n                }\n\n                return _context3.abrupt(\"return\");\n\n              case 2:\n                _context3.next = 4;\n                return axios.get(\"\".concat(process.env.REACT_APP_AXIOS_BASEPATH, \"/group/getauctionstatus/\").concat(localStorage.getItem(\"gid\")));\n\n              case 4:\n                response = _context3.sent;\n                // console.log(response.data)\n                setAuctionStatus(response.data);\n\n                if (!(response.data === \"RUNNING\")) {\n                  _context3.next = 15;\n                  break;\n                }\n\n                _context3.next = 9;\n                return axios.get(\"\".concat(process.env.REACT_APP_AXIOS_BASEPATH, \"/auction/current/\").concat(localStorage.getItem(\"gid\")));\n\n              case 9:\n                response2 = _context3.sent;\n                // console.log(\"Calling updatePlayerChange from currentr\");\n                updatePlayerChange(response2.data.a, response2.data.b); // get whi has bidded\n\n                _context3.next = 13;\n                return axios.get(\"\".concat(process.env.REACT_APP_AXIOS_BASEPATH, \"/auction/getbid/\").concat(localStorage.getItem(\"gid\")));\n\n              case 13:\n                response1 = _context3.sent;\n\n                // console.log(\"GETBID\");\n                // console.log(response1.data)\n                if (response1.status === 200) {\n                  setBidAmount(response1.data.auctionBid);\n                  setBidUser(response1.data.currentBidUser);\n                  setBidUid(response1.data.currentBidUid);\n                }\n\n              case 15:\n              case \"end\":\n                return _context3.stop();\n            }\n          }\n        }, _callee3);\n      }));\n\n      return function a() {\n        return _ref3.apply(this, arguments);\n      };\n    }();\n\n    a();\n    return function () {\n      leavingAuction(sockConn);\n    };\n  }, []); // const handleOwnerChange = (event) => {\n  //     setSelectedOwner(event.target.value);\n  // };\n\n  function sellPlayer() {\n    return _sellPlayer.apply(this, arguments);\n  }\n\n  function _sellPlayer() {\n    _sellPlayer = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee5() {\n      var myUrl, response, msg;\n      return _regeneratorRuntime.wrap(function _callee5$(_context5) {\n        while (1) {\n          switch (_context5.prev = _context5.next) {\n            case 0:\n              setBidPaused(true);\n              myUrl = \"\".concat(process.env.REACT_APP_AXIOS_BASEPATH, \"/auction/add/\").concat(localStorage.getItem(\"gid\"), \"/\").concat(bidUid, \"/\").concat(playerId, \"/\").concat(bidAmount); // console.log(myUrl);\n\n              _context5.next = 4;\n              return fetch(myUrl);\n\n            case 4:\n              response = _context5.sent;\n\n              if (!(response.status == 200)) {\n                _context5.next = 8;\n                break;\n              }\n\n              _context5.next = 22;\n              break;\n\n            case 8:\n              _context5.t0 = response.status;\n              _context5.next = _context5.t0 === 707 ? 11 : _context5.t0 === 706 ? 13 : _context5.t0 === 704 ? 15 : _context5.t0 === 708 ? 17 : 19;\n              break;\n\n            case 11:\n              msg = \"Already Purchased\";\n              return _context5.abrupt(\"break\", 21);\n\n            case 13:\n              msg = \"User does not belong to this group\";\n              return _context5.abrupt(\"break\", 21);\n\n            case 15:\n              msg = \"Invalid Player\";\n              return _context5.abrupt(\"break\", 21);\n\n            case 17:\n              msg = \"Insufficient Balance\";\n              return _context5.abrupt(\"break\", 21);\n\n            case 19:\n              msg = \"unknown error \".concat(response.status);\n              return _context5.abrupt(\"break\", 21);\n\n            case 21:\n              DisplayBidOverMsg(msg);\n\n            case 22:\n            case \"end\":\n              return _context5.stop();\n          }\n        }\n      }, _callee5);\n    }));\n    return _sellPlayer.apply(this, arguments);\n  }\n\n  function handleAuctionOver() {\n    return _handleAuctionOver.apply(this, arguments);\n  }\n\n  function _handleAuctionOver() {\n    _handleAuctionOver = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee6() {\n      var response;\n      return _regeneratorRuntime.wrap(function _callee6$(_context6) {\n        while (1) {\n          switch (_context6.prev = _context6.next) {\n            case 0:\n              _context6.next = 2;\n              return axios.get(\"\".concat(process.env.REACT_APP_AXIOS_BASEPATH, \"/group/setauctionstatus/\").concat(localStorage.getItem(\"gid\"), \"/OVER\"));\n\n            case 2:\n              response = _context6.sent;\n\n              if (response.data) {\n                setAuctionStatus(\"OVER\");\n              }\n\n            case 4:\n            case \"end\":\n              return _context6.stop();\n          }\n        }\n      }, _callee6);\n    }));\n    return _handleAuctionOver.apply(this, arguments);\n  }\n\n  function skipPlayer() {\n    return _skipPlayer.apply(this, arguments);\n  }\n\n  function _skipPlayer() {\n    _skipPlayer = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee7() {\n      return _regeneratorRuntime.wrap(function _callee7$(_context7) {\n        while (1) {\n          switch (_context7.prev = _context7.next) {\n            case 0:\n              setBidPaused(true);\n              _context7.next = 3;\n              return fetch(\"\".concat(process.env.REACT_APP_AXIOS_BASEPATH, \"/auction/skip/\").concat(localStorage.getItem(\"gid\"), \"/\").concat(playerId));\n\n            case 3:\n            case \"end\":\n              return _context7.stop();\n          }\n        }\n      }, _callee7);\n    }));\n    return _skipPlayer.apply(this, arguments);\n  }\n\n  function DisplayRunningAuction() {\n    // console.log(`Pid from admin auction ${playerId}`)\n    return /*#__PURE__*/React.createElement(\"div\", {\n      align: \"center\",\n      className: classes.root,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 304,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(Grid, {\n      container: true,\n      justify: \"center\",\n      alignItems: \"center\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 305,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(GridItem, {\n      xs: 12,\n      sm: 12,\n      md: 12,\n      lg: 12,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 306,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(ShowPlayerAvatar, {\n      pName: playerName,\n      pImage: playerImage,\n      pTeamLogo: team,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 307,\n        columnNumber: 21\n      }\n    }), /*#__PURE__*/React.createElement(ShowValueButtons, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 308,\n        columnNumber: 21\n      }\n    }), /*#__PURE__*/React.createElement(ShowAdminButtons, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 309,\n        columnNumber: 21\n      }\n    }))), /*#__PURE__*/React.createElement(ShowBalance, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 312,\n        columnNumber: 13\n      }\n    }), /*#__PURE__*/React.createElement(ShowAuctionOverButton, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 313,\n        columnNumber: 13\n      }\n    }), /*#__PURE__*/React.createElement(MessageToUser, {\n      mtuOpen: backDropOpen,\n      mtuClose: setBackDropOpen,\n      mtuMessage: playerStatus,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 314,\n        columnNumber: 13\n      }\n    }));\n  }\n\n  function ShowPlayerAvatar(props) {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      key: \"playerInfo\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 322,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(Card, {\n      profile: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 323,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(CardAvatar, {\n      profile: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 324,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"img\", {\n      src: props.pImage,\n      alt: \"...\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 325,\n        columnNumber: 25\n      }\n    })), /*#__PURE__*/React.createElement(CardBody, {\n      profile: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 327,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"h6\", {\n      className: classes.hdrText,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 329,\n        columnNumber: 25\n      }\n    }, props.pName), /*#__PURE__*/React.createElement(Grid, {\n      container: true,\n      justify: \"center\",\n      alignItems: \"center\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 330,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(Avatar, {\n      variant: \"square\",\n      src: \"\".concat(process.env.PUBLIC_URL, \"/\").concat(props.pTeamLogo, \".JPG\"),\n      className: classes.medium,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 331,\n        columnNumber: 29\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      align: \"center\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 333,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"h6\", {\n      className: classes.hdrText,\n      align: \"center\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 333,\n        columnNumber: 45\n      }\n    }, role, /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 334,\n        columnNumber: 35\n      }\n    }), battingStyle, /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 335,\n        columnNumber: 43\n      }\n    }), bowlingStyle)))));\n  }\n\n  function ShowBalance() {\n    return /*#__PURE__*/React.createElement(Table, {\n      tableHeaderColor: \"warning\",\n      align: \"center\",\n      tableHead: [\"Franchise\", \"Player Count\", \"Balance\"],\n      tableData: AuctionTableData.map(function (x) {\n        var arr = [x.userName, x.playerCount, x.balance];\n        return {\n          data: arr,\n          collapse: []\n        };\n      }),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 346,\n        columnNumber: 13\n      }\n    });\n  }\n\n  function handleMyBid(_x3) {\n    return _handleMyBid.apply(this, arguments);\n  }\n\n  function _handleMyBid() {\n    _handleMyBid = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee8(newBid) {\n      var value, myURL, resp;\n      return _regeneratorRuntime.wrap(function _callee8$(_context8) {\n        while (1) {\n          switch (_context8.prev = _context8.next) {\n            case 0:\n              value = parseInt(newBid) + parseInt(bidAmount);\n              myURL = \"\".concat(process.env.REACT_APP_AXIOS_BASEPATH, \"/auction/nextbid/\").concat(localStorage.getItem(\"gid\"), \"/\").concat(localStorage.getItem(\"uid\"), \"/\").concat(playerId, \"/\").concat(value); // console.log(myURL);\n\n              _context8.next = 4;\n              return axios(myURL);\n\n            case 4:\n              resp = _context8.sent;\n\n            case 5:\n            case \"end\":\n              return _context8.stop();\n          }\n        }\n      }, _callee8);\n    }));\n    return _handleMyBid.apply(this, arguments);\n  }\n\n  function BidButton(props) {\n    var btnMsg, btnDisable, btnSize;\n\n    if (props.value === \"AMOUNT\") {\n      // console.log(bidAmount);\n      btnMsg = \"Current Bid Amount:  \".concat(bidAmount);\n      btnDisable = true;\n      btnSize = \"medium\";\n    } else if (props.value === \"NAME\") {\n      btnMsg = \"Bid by :  \".concat(bidUser);\n      btnDisable = true;\n      btnSize = \"medium\";\n    } else {\n      btnMsg = \"+\" + props.value;\n      var newValue = parseInt(bidAmount) + parseInt(props.value);\n      btnDisable = newValue > parseInt(myBalanceAmount);\n      btnSize = \"small\";\n    }\n\n    if (btnDisable) {\n      return /*#__PURE__*/React.createElement(Button, {\n        variant: \"contained\",\n        size: btnSize,\n        className: classes.infoButton,\n        disabled: true,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 384,\n          columnNumber: 13\n        }\n      }, btnMsg);\n    } else {\n      return /*#__PURE__*/React.createElement(Button, {\n        variant: \"contained\",\n        size: btnSize,\n        className: classes.infoButton,\n        onClick: function onClick() {\n          handleMyBid(props.value);\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 392,\n          columnNumber: 13\n        }\n      }, btnMsg);\n    }\n  }\n\n  function ShowValueButtons() {\n    if (auctionStatus === \"RUNNING\") return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 404,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      align: \"center\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 405,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(BidButton, {\n      value: \"AMOUNT\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 406,\n        columnNumber: 21\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      align: \"center\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 408,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(BidButton, {\n      value: \"NAME\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 409,\n        columnNumber: 21\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      align: \"center\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 411,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(BidButton, {\n      value: \"5\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 412,\n        columnNumber: 21\n      }\n    }), /*#__PURE__*/React.createElement(BidButton, {\n      value: \"10\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 413,\n        columnNumber: 21\n      }\n    }), /*#__PURE__*/React.createElement(BidButton, {\n      value: \"15\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 414,\n        columnNumber: 21\n      }\n    }), /*#__PURE__*/React.createElement(BidButton, {\n      value: \"20\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 415,\n        columnNumber: 21\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      align: \"center\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 417,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(BidButton, {\n      value: \"25\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 418,\n        columnNumber: 21\n      }\n    }), /*#__PURE__*/React.createElement(BidButton, {\n      value: \"50\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 419,\n        columnNumber: 21\n      }\n    }), /*#__PURE__*/React.createElement(BidButton, {\n      value: \"75\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 420,\n        columnNumber: 21\n      }\n    }), /*#__PURE__*/React.createElement(BidButton, {\n      value: \"100\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 421,\n        columnNumber: 21\n      }\n    })));else return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 425,\n        columnNumber: 20\n      }\n    });\n  }\n\n  function ShowAuctionOverButton() {\n    if (localStorage.getItem(\"admin\").toLowerCase() === \"true\") return /*#__PURE__*/React.createElement(\"div\", {\n      align: \"center\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 431,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(Button, {\n      variant: \"contained\",\n      color: \"primary\",\n      size: \"large\",\n      className: classes.button,\n      onClick: handleAuctionOver,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 432,\n        columnNumber: 17\n      }\n    }, \"AUCTION OVER\"));else return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 443,\n        columnNumber: 20\n      }\n    });\n  }\n\n  function ShowAdminButtons() {\n    // console.log(\"admin buttons\")\n    // console.log(localStorage.getItem(\"admin\").toLowerCase());\n    if (localStorage.getItem(\"admin\").toLowerCase() === \"true\") return /*#__PURE__*/React.createElement(\"div\", {\n      align: \"center\",\n      key: \"playerAuctionButton\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 452,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(Button, {\n      variant: \"contained\",\n      color: \"primary\",\n      size: \"small\",\n      className: classes.button // startIcon={<CheckSharpIcon />}\n      ,\n      disabled: bidAmount === 0 || bidPaused === \"true\",\n      onClick: sellPlayer,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 453,\n        columnNumber: 17\n      }\n    }, \"SOLD\"), /*#__PURE__*/React.createElement(Button, {\n      variant: \"contained\",\n      color: \"primary\",\n      size: \"small\",\n      className: classes.button // startIcon={<ClearSharpIcon />}\n      ,\n      disabled: bidAmount !== 0 || bidPaused === \"true\",\n      onClick: function onClick() {\n        return skipPlayer();\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 463,\n        columnNumber: 17\n      }\n    }, \"UNSOLD\"));else return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 476,\n        columnNumber: 20\n      }\n    });\n  } // function OrgShowDialog() {\n  //     return (\n  //     <Dialog aria-labelledby=\"simple-dialog-title\" open={backDropOpen}\n  //         onClose={() => setBackDropOpen(false)} >\n  //         <DialogTitle id=\"simple-dialog-title\" className={classes.sold}>{playerStatus}</DialogTitle>\n  //     </Dialog>\n  //     );\n  // }\n  // function ShowDialog() {\n  //     return (<MessageToUser mtuOpen={backDropOpen} mtuClose={setBackDropOpen} mtuMessage={playerStatus} />);\n  // }\n  // function SelctNewOwner() {\n  //     return (\n  //     <Select labelId=\"demo-simple-select-label\" id=\"demo-simple-select\"\n  //         value={selectedOwner}\n  //         displayEmpty\n  //         onChange={handleOwnerChange}>\n  //         {AuctionTableData.map(item => <MenuItem key={item.uid} value={item.uid}>{item.userName}</MenuItem>)}\n  //     </Select>\n  //     );\n  // }\n  // function ShowGroupName() {\n  //     return(\n  //         <div>\n  //             <h3 align=\"center\">Auction ({localStorage.getItem(\"groupName\")})</h3>\n  //             <br/>\n  //         </div>\n  //     );\n  // }\n  // function UserAuction() {\n  //     return (\n  //     <Grid container justify=\"center\" alignItems=\"center\" >\n  //     <ShowGroupName/>\n  //     <GridItem xs={12} sm={12} md={4} >\n  //         <ShowPlayerAvatar pName={playerName} pImage={playerImage} pTeamLogo={team} /> \n  //         <ShowBalance/>\n  //     </GridItem>\n  //     </Grid>\n  //     );\n  // }\n\n\n  var startAuction = /*#__PURE__*/function () {\n    var _ref4 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee4() {\n      var response;\n      return _regeneratorRuntime.wrap(function _callee4$(_context4) {\n        while (1) {\n          switch (_context4.prev = _context4.next) {\n            case 0:\n              _context4.prev = 0;\n              _context4.next = 3;\n              return axios.get(\"\".concat(process.env.REACT_APP_AXIOS_BASEPATH, \"/group/setauctionstatus/\").concat(localStorage.getItem(\"gid\"), \"/RUNNING\"));\n\n            case 3:\n              response = _context4.sent;\n              setAuctionStatus(\"RUNNING\");\n              _context4.next = 10;\n              break;\n\n            case 7:\n              _context4.prev = 7;\n              _context4.t0 = _context4[\"catch\"](0);\n              // should show the display\n              // console.log(\"cannot start auction\");\n              // console.log(err.response.status);\n              DisplayBidOverMsg(\"Insufficient members in Group.\");\n\n            case 10:\n            case \"end\":\n              return _context4.stop();\n          }\n        }\n      }, _callee4, null, [[0, 7]]);\n    }));\n\n    return function startAuction() {\n      return _ref4.apply(this, arguments);\n    };\n  }();\n\n  function DisplayPendingButton() {\n    /* if current starting pending.\r\n    */\n    if (localStorage.getItem(\"admin\") === \"true\") return /*#__PURE__*/React.createElement(Button, {\n      variant: \"contained\",\n      color: \"primary\",\n      size: \"small\",\n      className: classes.button // disabled={localStorage.getItem(\"admin\") !== \"true\"}            \n      // startIcon={<NavigateBeforeIcon />}\n      ,\n      onClick: function onClick() {\n        return startAuction(\"PENDING\");\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 541,\n        columnNumber: 17\n      }\n    }, \"Start Auction\");else return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 551,\n        columnNumber: 20\n      }\n    });\n  }\n\n  function DisplayPendingOver(props) {\n    // console.log(props);\n    return /*#__PURE__*/React.createElement(Typography, {\n      align: \"center\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 556,\n        columnNumber: 17\n      }\n    }, props.message);\n  }\n\n  function DisplayAuctionInformation() {\n    if (hasGroup()) {\n      // console.log(auctionStatus);\n      if (auctionStatus === \"PENDING\") {\n        return /*#__PURE__*/React.createElement(\"div\", {\n          align: \"center\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 564,\n            columnNumber: 21\n          }\n        }, /*#__PURE__*/React.createElement(DisplayPendingOver, {\n          message: \"Auction has not yet started\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 565,\n            columnNumber: 25\n          }\n        }), /*#__PURE__*/React.createElement(DisplayPendingButton, {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 566,\n            columnNumber: 25\n          }\n        }), /*#__PURE__*/React.createElement(MessageToUser, {\n          mtuOpen: backDropOpen,\n          mtuClose: setBackDropOpen,\n          mtuMessage: playerStatus,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 567,\n            columnNumber: 25\n          }\n        }));\n      } else if (auctionStatus === \"OVER\") {\n        return /*#__PURE__*/React.createElement(\"div\", {\n          align: \"center\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 571,\n            columnNumber: 21\n          }\n        }, /*#__PURE__*/React.createElement(DisplayPendingOver, {\n          message: \"Auction is Over\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 572,\n            columnNumber: 25\n          }\n        }));\n      } else if (auctionStatus === \"RUNNING\") {\n        return /*#__PURE__*/React.createElement(\"div\", {\n          align: \"center\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 576,\n            columnNumber: 21\n          }\n        }, /*#__PURE__*/React.createElement(DisplayRunningAuction, {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 577,\n            columnNumber: 25\n          }\n        }));\n      } else {\n        return /*#__PURE__*/React.createElement(BlankArea, {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 581,\n            columnNumber: 25\n          }\n        });\n      }\n    } else return /*#__PURE__*/React.createElement(NoGroup, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 584,\n        columnNumber: 20\n      }\n    });\n  }\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    align: \"center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 588,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(DisplayPageHeader, {\n    headerName: \"AUCTION\",\n    groupName: localStorage.getItem(\"groupName\"),\n    tournament: localStorage.getItem(\"tournament\"),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 589,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(BlankArea, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 590,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(DisplayAuctionInformation, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 591,\n      columnNumber: 13\n    }\n  }));\n}\n\n_s(Auction, \"I0AfV26HKVTc+rQU8FCwGNakCp4=\", false, function () {\n  return [useStyles, useTheme];\n});\n\n_c = Auction;\n\nvar _c;\n\n$RefreshReg$(_c, \"Auction\");","map":{"version":3,"sources":["D:/projects/Cricket/akshu close/IPL/material-dashboard-react-master/src/views/Auction/Auction.js"],"names":["React","useEffect","useState","useContext","axios","makeStyles","useTheme","DialogTitle","Dialog","Typography","Table","Grid","GridItem","Button","Avatar","Card","CardAvatar","CardBody","BlankArea","NoGroup","DisplayPageHeader","MessageToUser","UserContext","socketIOClient","hasGroup","drawerWidth","useStyles","theme","infoButton","backgroundColor","margin","spacing","hdrText","align","marginTop","marginBottom","image","height","container","backgroundImage","process","env","PUBLIC_URL","backgroundSize","drawer","width","flexShrink","drawerPaper","drawerHeader","display","alignItems","padding","mixins","toolbar","justifyContent","sold","color","cardCategoryWhite","fontSize","cardTitleWhite","minHeight","fontWeight","fontFamily","textDecoration","large","medium","playerinfo","leavingAuction","myConn","console","log","disconnect","Auction","window","onbeforeunload","setUser","classes","playerId","setPid","auctionStatus","setAuctionStatus","playerName","setPlayerName","playerImage","setPlayerImage","team","setTeam","role","setRole","battingStyle","setBattingStyle","bowlingStyle","setBowlingStyle","bidPaused","setBidPaused","bidAmount","setBidAmount","bidUser","setBidUser","bidUid","setBidUid","backDropOpen","setBackDropOpen","playerStatus","setPlayerStatus","AuctionTableData","setAuctionTableData","myBalanceAmount","setMyBalanceAmount","DisplayBidOverMsg","msg","setTimeout","REACT_APP_MESSAGE_TIME","sendMessage","page","gid","localStorage","getItem","uid","sockConn","REACT_APP_ENDPOINT","makeconnection","connect","emit","updatePlayerChange","newPlayerDetails","balanceDetails","pid","tmp","Team","fullName","ourBalance","filter","balance","allUserBalance","on","newAuctionStatus","myrec","userName","grec","auctionBid","currentBidUser","currentBidUid","a","get","REACT_APP_AXIOS_BASEPATH","response","data","response2","b","response1","status","sellPlayer","myUrl","fetch","handleAuctionOver","skipPlayer","DisplayRunningAuction","root","ShowPlayerAvatar","props","pImage","pName","pTeamLogo","ShowBalance","map","x","arr","playerCount","collapse","handleMyBid","newBid","value","parseInt","myURL","resp","BidButton","btnMsg","btnDisable","btnSize","newValue","ShowValueButtons","ShowAuctionOverButton","toLowerCase","button","ShowAdminButtons","startAuction","DisplayPendingButton","DisplayPendingOver","message","DisplayAuctionInformation"],"mappings":"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","sourcesContent":["import React, { useEffect, useState, useContext } from 'react';\r\nimport axios from \"axios\";\r\nimport { makeStyles, useTheme } from '@material-ui/core/styles';\r\nimport DialogTitle from '@material-ui/core/DialogTitle';\r\nimport Dialog from '@material-ui/core/Dialog';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport Table from \"components/Table/Table.js\";\r\nimport Grid from \"@material-ui/core/Grid\";\r\nimport GridItem from \"components/Grid/GridItem.js\";\r\nimport Button from '@material-ui/core/Button';\r\n// import MenuItem from '@material-ui/core/MenuItem';\r\n// import FormControl from '@material-ui/core/FormControl';\r\n// import DoneIcon from '@material-ui/icons/Done';\r\n// import NavigateBeforeIcon from '@material-ui/icons/NavigateBefore';\r\n// import NavigateNextIcon from '@material-ui/icons/NavigateNext';\r\n//import Container from \"@material-ui/core/Container\";\r\n// import Select from \"@material-ui/core/Select\";\r\n// import DialogActions from '@material-ui/core/DialogActions';\r\n// import DialogContent from '@material-ui/core/DialogContent';\r\n// import DialogContentText from '@material-ui/core/DialogContentText';\r\n// import Drawer from '@material-ui/core/Drawer';\r\n// import ChevronLeftIcon from '@material-ui/icons/ChevronLeft';\r\n// import ChevronRightIcon from '@material-ui/icons/ChevronRight';\r\n// import IconButton from '@material-ui/core/IconButton';\r\n// import CheckSharpIcon from '@material-ui/icons/CheckSharp';\r\n// import ClearSharpIcon from '@material-ui/icons/ClearSharp';\r\n// import Input from '@material-ui/core/Input';\r\nimport Avatar from \"@material-ui/core/Avatar\"\r\nimport Card from \"components/Card/Card.js\";\r\nimport CardAvatar from \"components/Card/CardAvatar.js\";\r\nimport CardBody from \"components/Card/CardBody.js\";\r\nimport { BlankArea, NoGroup, DisplayPageHeader, MessageToUser } from 'CustomComponents/CustomComponents.js';\r\nimport { UserContext } from \"../../UserContext\";\r\nimport socketIOClient from \"socket.io-client\";\r\nimport { hasGroup } from 'views/functions';\r\n\r\n\r\nconst drawerWidth = 100;\r\nconst useStyles = makeStyles((theme) => ({\r\n    infoButton: {\r\n        backgroundColor: '#FCDC00',\r\n        \":disabled\": {\r\n            backgroundColor: '#cddc39',\r\n        }\r\n    },\r\n    margin: {\r\n        margin: theme.spacing(1),\r\n    },\r\n    hdrText:  {\r\n        // right: 0,\r\n        // fontSize: '12px',\r\n        // color: red[700],\r\n        // // position: 'absolute',\r\n        align: 'center',\r\n        marginTop: '0px',\r\n        marginBottom: '0px',\r\n    },\r\n    image: {\r\n        height: \"200px\"\r\n    },\r\n    container: {\r\n        backgroundImage: `url(${process.env.PUBLIC_URL}/0.JPG)`,\r\n        backgroundSize: 'cover'\r\n    }, drawer: {\r\n        width: drawerWidth,\r\n        flexShrink: 0,\r\n    },\r\n    drawerPaper: {\r\n        width: drawerWidth,\r\n    },\r\n    drawerHeader: {\r\n        display: 'flex',\r\n        alignItems: 'center',\r\n        padding: theme.spacing(0, 1),\r\n        // necessary for content to be below app bar\r\n        ...theme.mixins.toolbar,\r\n        justifyContent: 'flex-start',\r\n    },\r\n    sold: {\r\n        color: \"green\"\r\n    }, \r\n    cardCategoryWhite: {\r\n        color: \"rgba(255,255,255,.62)\",\r\n        margin: \"0\",\r\n        fontSize: \"14px\",\r\n        marginTop: \"0\",\r\n        marginBottom: \"0\"\r\n    },\r\n    cardTitleWhite: {\r\n        color: \"#FFFFFF\",\r\n        marginTop: \"0px\",\r\n        minHeight: \"auto\",\r\n        fontWeight: \"300\",\r\n        fontFamily: \"'Roboto', 'Helvetica', 'Arial', sans-serif\",\r\n        marginBottom: \"0px\",\r\n        textDecoration: \"none\"\r\n    }, \r\n    large: {\r\n        width: theme.spacing(12),\r\n        height: theme.spacing(12),\r\n    },\r\n    medium: {\r\n        width: theme.spacing(9),\r\n        height: theme.spacing(9),\r\n    },\r\n    playerinfo: {\r\n        display: 'flex',\r\n        alignItems: 'center',\r\n        padding: theme.spacing(0, 0),\r\n        justifyContent: 'flex-start',\r\n    },\r\n}));\r\n\r\n\r\nfunction leavingAuction(myConn) {\r\n    console.log(\"Leaving Auction wah wah \");\r\n    myConn.disconnect();\r\n  }\r\n  \r\n  \r\n\r\nexport default function Auction() {\r\n\r\n    window.onbeforeunload = () => setUser(null)\r\n\r\n    // const { user, setUser } = useContext(UserContext);\r\n    const classes = useStyles();\r\n    const theme = useTheme();\r\n    const [playerId, setPid] = useState(0);\r\n    const [auctionStatus, setAuctionStatus] = useState(\"\");\r\n    const [playerName, setPlayerName] = useState(\"\");\r\n    const [playerImage, setPlayerImage] = useState(\"\");\r\n    const [team, setTeam] = useState(\"\");\r\n    const [role, setRole] = useState(\"\");\r\n    const [battingStyle, setBattingStyle] = useState(\"\");\r\n    const [bowlingStyle, setBowlingStyle] = useState(\"\");\r\n    const [bidPaused, setBidPaused] = useState(true);\r\n    // const [open, setOpen] = useState(false);\r\n\r\n    const [bidAmount, setBidAmount] = useState(0);\r\n    const [bidUser, setBidUser] = useState(\"\");\r\n    const [bidUid, setBidUid] = useState(0);\r\n    // const [bidOverMsg, setBidOverMsg] = useState(\"\");\r\n    // const [confirmDialogOpen, setConfirmDialogOpen] = useState(false)\r\n    // const [selectedOwner, setSelectedOwner] = useState(null);\r\n    const [backDropOpen, setBackDropOpen] = useState(false);\r\n    const [playerStatus, setPlayerStatus] = useState(\"\");\r\n    const [AuctionTableData, setAuctionTableData] = useState([]);\r\n    const [myBalanceAmount, setMyBalanceAmount] = useState(0);\r\n\r\n    // const handleDrawerClose = () => {\r\n    //     setOpen(false);\r\n    // };\r\n    // const handleModalClose = () => {\r\n    //     setConfirmDialogOpen(false);\r\n    // };\r\n    function DisplayBidOverMsg(msg) {\r\n        setPlayerStatus(msg);\r\n        // setConfirmDialogOpen(false);\r\n        setBackDropOpen(true); \r\n        setTimeout(() => setBackDropOpen(false), process.env.REACT_APP_MESSAGE_TIME);       \r\n    }\r\n\r\n    // console.log(`Dangerous ${playerId}`)\r\n    useEffect(() => {\r\n        // console.log(process.env.PUBLIC_URL);\r\n        var sendMessage = {page: \"AUCT\", gid: localStorage.getItem(\"gid\"), uid: localStorage.getItem(\"uid\") };\r\n        var sockConn = socketIOClient(process.env.REACT_APP_ENDPOINT);\r\n\r\n        const makeconnection = async () => {\r\n          await sockConn.connect();\r\n          sockConn.emit(\"page\", sendMessage);\r\n        }\r\n\r\n        function updatePlayerChange(newPlayerDetails, balanceDetails) {\r\n            setBidPaused(false);\r\n            // console.log(\"Player Changed\");\r\n            // console.log(`New: ${newPlayerDetails.pid}  Old: ${playerId} `)\r\n            // first set PID so that display is better\r\n            setPid(newPlayerDetails.pid)\r\n            let tmp = `${process.env.PUBLIC_URL}/${newPlayerDetails.pid}.JPG`\r\n            if (playerImage != tmp) {\r\n                // console.log(\"Different image\")\r\n                setPlayerImage(`${process.env.PUBLIC_URL}/${newPlayerDetails.pid}.JPG`);\r\n            } else {\r\n                // console.log(\"Same player image\")\r\n            }\r\n            setTeam(newPlayerDetails.Team)\r\n            setRole(newPlayerDetails.role)\r\n            setBattingStyle(newPlayerDetails.battingStyle)\r\n            setBowlingStyle(newPlayerDetails.bowlingStyle)\r\n            setPlayerName(newPlayerDetails.fullName)\r\n\r\n            let ourBalance = balanceDetails.filter(balance => balance.uid == localStorage.getItem(\"uid\"))\r\n            setMyBalanceAmount(ourBalance[0].balance);\r\n            // for ADMIN, NOW WE WILL SHOW BALANCE of himself/herself. Not of other members\r\n            // let allUserBalance = (localStorage.getItem(\"admin\") === \"false\") ? ourBalance : balanceDetails;\r\n            let allUserBalance = ourBalance;\r\n            setAuctionTableData(allUserBalance);\r\n            setAuctionStatus(\"RUNNING\");\r\n        }\r\n\r\n        makeconnection();    \r\n        sockConn.on(\"connect\", () => {\r\n            sockConn.emit(\"page\", sendMessage);\r\n\r\n            sockConn.on(\"auctionStatus\", (newAuctionStatus) => {\r\n                console.log(`auction status: ${newAuctionStatus}`);\r\n                setAuctionStatus(newAuctionStatus);\r\n            });\r\n\r\n            sockConn.on(\"bidOver\", (myrec) => {\r\n                console.log(\"bid over reveived\");\r\n                // console.log(myrec);\r\n                DisplayBidOverMsg(`${myrec.playerName} successfully purchased by ${myrec.userName}`);\r\n            });\r\n            sockConn.on(\"newBid\", (grec) => {\r\n                // console.log(\"new bid reveived\");\r\n                // console.log(grec);\r\n                setBidAmount(grec.auctionBid);\r\n                setBidUser(grec.currentBidUser);\r\n                setBidUid(grec.currentBidUid);\r\n            });\r\n            sockConn.on(\"playerChange\", async (newPlayerDetails, balanceDetails) => {\r\n                // console.log(\"Calling updatePlayerChange from socker\");\r\n                updatePlayerChange(newPlayerDetails, balanceDetails);\r\n            });\r\n        })\r\n\r\n        const a = async () => {\r\n            if (!hasGroup()) return;\r\n            // console.log(\"Calling get auction status\");\r\n            const response = await axios.get(`${process.env.REACT_APP_AXIOS_BASEPATH}/group/getauctionstatus/${localStorage.getItem(\"gid\")}`);\r\n            // console.log(response.data)\r\n            setAuctionStatus(response.data);\r\n            if (response.data === \"RUNNING\") {\r\n                // get current player details\r\n                //same as when data rcvd in socket msg playerChange\r\n                const response2 = await axios.get(`${process.env.REACT_APP_AXIOS_BASEPATH}/auction/current/${localStorage.getItem(\"gid\")}`)\r\n                // console.log(\"Calling updatePlayerChange from currentr\");\r\n                updatePlayerChange(response2.data.a, response2.data.b);\r\n                // get whi has bidded\r\n                const response1 = await axios.get(`${process.env.REACT_APP_AXIOS_BASEPATH}/auction/getbid/${localStorage.getItem(\"gid\")}`);\r\n                // console.log(\"GETBID\");\r\n                // console.log(response1.data)\r\n                if (response1.status === 200) {\r\n                    setBidAmount(response1.data.auctionBid)\r\n                    setBidUser(response1.data.currentBidUser);\r\n                    setBidUid(response1.data.currentBidUid);            \r\n                }\r\n            }\r\n        }\r\n        a();\r\n\r\n        return () => {\r\n            leavingAuction(sockConn);\r\n        }\r\n    }, []);\r\n\r\n\r\n    // const handleOwnerChange = (event) => {\r\n    //     setSelectedOwner(event.target.value);\r\n    // };\r\n\r\n\r\n    async function sellPlayer() {\r\n        setBidPaused(true);\r\n        let myUrl = `${process.env.REACT_APP_AXIOS_BASEPATH}/auction/add/${localStorage.getItem(\"gid\")}/${bidUid}/${playerId}/${bidAmount}`\r\n        // console.log(myUrl);\r\n        let response = await fetch(myUrl);\r\n        if (response.status == 200) {\r\n            // console.log(\"getting balance\");\r\n            // const balance = await axios.get(`${process.env.REACT_APP_AXIOS_BASEPATH}/user/balance/${localStorage.getItem(\"gid\")}/all`);\r\n            // setAuctionTableData(balance.data);\r\n        } else {\r\n            var msg;\r\n            switch (response.status) { \r\n                case 707: msg = \"Already Purchased\"; break;\r\n                case 706: msg = \"User does not belong to this group\"; break;\r\n                case 704: msg = \"Invalid Player\"; break;\r\n                case 708: msg = \"Insufficient Balance\"; break;\r\n                // case 200: msg = `${playerName} purchsed by ${bidUser} by bid amount ${bidAmount}`; break;\r\n                default:  msg = `unknown error ${response.status}`; break;\r\n            }\r\n            DisplayBidOverMsg(msg);\r\n        }\r\n    }\r\n\r\n    async function handleAuctionOver() {\r\n        const response = await axios.get(`${process.env.REACT_APP_AXIOS_BASEPATH}/group/setauctionstatus/${localStorage.getItem(\"gid\")}/OVER`);\r\n        if (response.data) {\r\n            setAuctionStatus(\"OVER\");\r\n        }\r\n    }\r\n\r\n\r\n    async function skipPlayer() {\r\n        setBidPaused(true);\r\n        await fetch(`${process.env.REACT_APP_AXIOS_BASEPATH}/auction/skip/${localStorage.getItem(\"gid\")}/${playerId}`);\r\n    }\r\n\r\n    function DisplayRunningAuction() {\r\n        // console.log(`Pid from admin auction ${playerId}`)\r\n        return (<div align=\"center\" className={classes.root}>\r\n            <Grid container justify=\"center\" alignItems=\"center\" >\r\n                <GridItem xs={12} sm={12} md={12} lg={12} >\r\n                    <ShowPlayerAvatar pName={playerName} pImage={playerImage} pTeamLogo={team} /> \r\n                    <ShowValueButtons />\r\n                    <ShowAdminButtons/>\r\n                </GridItem>\r\n            </Grid>\r\n            <ShowBalance/>\r\n            <ShowAuctionOverButton/>\r\n            <MessageToUser mtuOpen={backDropOpen} mtuClose={setBackDropOpen} mtuMessage={playerStatus} />\r\n            {/* <ShowDialog/> */}\r\n        </div>\r\n        );\r\n    }\r\n\r\n    function ShowPlayerAvatar(props) {\r\n        return (\r\n            <div key=\"playerInfo\">\r\n                <Card profile>                    \r\n                    <CardAvatar profile>\r\n                        <img src={props.pImage} alt=\"...\" />\r\n                    </CardAvatar>\r\n                    <CardBody profile>\r\n                        {/* <h6 className={classes.cardTitle}>{props.pName}</h6> */}\r\n                        <h6 className={classes.hdrText}>{props.pName}</h6>\r\n                        <Grid container justify=\"center\" alignItems=\"center\">\r\n                            <Avatar variant=\"square\" src={`${process.env.PUBLIC_URL}/${props.pTeamLogo}.JPG`} className={classes.medium} />\r\n                        </Grid>\r\n                        <div align=\"center\"><h6 className={classes.hdrText} align=\"center\">\r\n                            {role}<br/>\r\n                            {battingStyle}<br />\r\n                            {bowlingStyle}\r\n                        </h6></div>\r\n                    </CardBody>\r\n                </Card>\r\n            </div>\r\n        );\r\n    }\r\n\r\n    function ShowBalance() {\r\n        return (\r\n            <Table tableHeaderColor=\"warning\" align=\"center\"\r\n                tableHead={[\"Franchise\", \"Player Count\", \"Balance\"]}\r\n                tableData={AuctionTableData.map(x => {\r\n                    const arr = [x.userName, x.playerCount, x.balance]\r\n                    return { data: arr, collapse: [] }\r\n                })}/>\r\n        );\r\n    }\r\n\r\n    async function handleMyBid(newBid) {\r\n        var value = parseInt(newBid) + parseInt(bidAmount);\r\n\r\n        let myURL=`${process.env.REACT_APP_AXIOS_BASEPATH}/auction/nextbid/${localStorage.getItem(\"gid\")}/${localStorage.getItem(\"uid\")}/${playerId}/${value}`;\r\n        // console.log(myURL);\r\n        var resp = await axios(myURL);\r\n        // console.log(`Bid for value ${newBid}`)\r\n        // setBidAmount();\r\n    }\r\n\r\n    function BidButton(props) {\r\n        let btnMsg, btnDisable, btnSize;\r\n        if (props.value === \"AMOUNT\") {\r\n            // console.log(bidAmount);\r\n            btnMsg = `Current Bid Amount:  ${bidAmount}`;\r\n            btnDisable = true;\r\n            btnSize = \"medium\";\r\n        } else if (props.value === \"NAME\") {\r\n            btnMsg = `Bid by :  ${bidUser}`;\r\n            btnDisable = true;\r\n            btnSize = \"medium\";\r\n        } else {\r\n            btnMsg = \"+\"+props.value;\r\n            let newValue = parseInt(bidAmount) + parseInt(props.value);\r\n            btnDisable = (newValue > parseInt(myBalanceAmount));\r\n            btnSize = \"small\";\r\n        }\r\n        if (btnDisable) {\r\n            return (\r\n            <Button variant=\"contained\"  size={btnSize}\r\n            className={classes.infoButton}\r\n            disabled>\r\n            {btnMsg}\r\n            </Button>\r\n            );\r\n        } else {\r\n            return (\r\n            <Button variant=\"contained\"  size={btnSize}\r\n            className={classes.infoButton}\r\n            onClick={() => { handleMyBid(props.value); }}>\r\n            {btnMsg}\r\n            </Button>\r\n            );\r\n        }\r\n    }\r\n\r\n    function ShowValueButtons() {\r\n        if (auctionStatus === \"RUNNING\")\r\n            return (\r\n            <div>\r\n                <div align=\"center\">\r\n                    <BidButton value=\"AMOUNT\"/>\r\n                </div>\r\n                <div align=\"center\">\r\n                    <BidButton value=\"NAME\"/>\r\n                </div>\r\n                <div align=\"center\">\r\n                    <BidButton value=\"5\" />\r\n                    <BidButton value=\"10\" />\r\n                    <BidButton value=\"15\" />\r\n                    <BidButton value=\"20\" />\r\n                </div>\r\n                <div align=\"center\">\r\n                    <BidButton value=\"25\" />\r\n                    <BidButton value=\"50\" />\r\n                    <BidButton value=\"75\" />\r\n                    <BidButton value=\"100\" />\r\n                </div>\r\n            </div>);\r\n        else\r\n            return(<div></div>);\r\n    }\r\n\r\n    function ShowAuctionOverButton() {\r\n        if (localStorage.getItem(\"admin\").toLowerCase() === \"true\")\r\n            return(\r\n            <div align=\"center\">\r\n                <Button\r\n                    variant=\"contained\"\r\n                    color=\"primary\"\r\n                    size=\"large\"\r\n                    className={classes.button}\r\n                    onClick={handleAuctionOver}>\r\n                    AUCTION OVER\r\n                </Button>\r\n            </div>\r\n            );\r\n        else \r\n            return(<div></div>);\r\n    }\r\n\r\n\r\n    function ShowAdminButtons() {\r\n        // console.log(\"admin buttons\")\r\n        // console.log(localStorage.getItem(\"admin\").toLowerCase());\r\n        if (localStorage.getItem(\"admin\").toLowerCase() === \"true\")\r\n            return(\r\n            <div align=\"center\" key=\"playerAuctionButton\">\r\n                <Button\r\n                    variant=\"contained\"\r\n                    color=\"primary\"\r\n                    size=\"small\"\r\n                    className={classes.button}\r\n                    // startIcon={<CheckSharpIcon />}\r\n                    disabled={((bidAmount === 0) || (bidPaused === \"true\"))}\r\n                    onClick={sellPlayer}>\r\n                    SOLD\r\n                </Button>\r\n                <Button\r\n                    variant=\"contained\"\r\n                    color=\"primary\"\r\n                    size=\"small\"\r\n                    className={classes.button}\r\n                    // startIcon={<ClearSharpIcon />}\r\n                    disabled={((bidAmount !== 0) || (bidPaused === \"true\"))}\r\n                    onClick={() => skipPlayer()}>\r\n                    UNSOLD\r\n                </Button>\r\n            </div>\r\n            );\r\n        else \r\n            return(<div></div>);\r\n    }\r\n\r\n    // function OrgShowDialog() {\r\n    //     return (\r\n    //     <Dialog aria-labelledby=\"simple-dialog-title\" open={backDropOpen}\r\n    //         onClose={() => setBackDropOpen(false)} >\r\n    //         <DialogTitle id=\"simple-dialog-title\" className={classes.sold}>{playerStatus}</DialogTitle>\r\n    //     </Dialog>\r\n    //     );\r\n    // }\r\n\r\n    // function ShowDialog() {\r\n    //     return (<MessageToUser mtuOpen={backDropOpen} mtuClose={setBackDropOpen} mtuMessage={playerStatus} />);\r\n    // }\r\n\r\n    // function SelctNewOwner() {\r\n    //     return (\r\n    //     <Select labelId=\"demo-simple-select-label\" id=\"demo-simple-select\"\r\n    //         value={selectedOwner}\r\n    //         displayEmpty\r\n    //         onChange={handleOwnerChange}>\r\n    //         {AuctionTableData.map(item => <MenuItem key={item.uid} value={item.uid}>{item.userName}</MenuItem>)}\r\n    //     </Select>\r\n    //     );\r\n    // }\r\n\r\n    // function ShowGroupName() {\r\n    //     return(\r\n    //         <div>\r\n    //             <h3 align=\"center\">Auction ({localStorage.getItem(\"groupName\")})</h3>\r\n    //             <br/>\r\n    //         </div>\r\n    //     );\r\n    // }\r\n\r\n    // function UserAuction() {\r\n    //     return (\r\n    //     <Grid container justify=\"center\" alignItems=\"center\" >\r\n    //     <ShowGroupName/>\r\n    //     <GridItem xs={12} sm={12} md={4} >\r\n    //         <ShowPlayerAvatar pName={playerName} pImage={playerImage} pTeamLogo={team} /> \r\n    //         <ShowBalance/>\r\n    //     </GridItem>\r\n    //     </Grid>\r\n    //     );\r\n    // }\r\n\r\n    const startAuction = async () => {\r\n        try {\r\n            const response = await axios.get(`${process.env.REACT_APP_AXIOS_BASEPATH}/group/setauctionstatus/${localStorage.getItem(\"gid\")}/RUNNING`);\r\n            setAuctionStatus(\"RUNNING\");\r\n        } catch (err) {\r\n            // should show the display\r\n            // console.log(\"cannot start auction\");\r\n            // console.log(err.response.status);\r\n            DisplayBidOverMsg(\"Insufficient members in Group.\")\r\n        }\r\n    }\r\n\r\n    function DisplayPendingButton() {\r\n        /* if current starting pending.\r\n        */ \r\n        if (localStorage.getItem(\"admin\") === \"true\")\r\n            return ( \r\n                <Button variant=\"contained\"\r\n                color=\"primary\"\r\n                size=\"small\"\r\n                className={classes.button}\r\n                // disabled={localStorage.getItem(\"admin\") !== \"true\"}            \r\n                // startIcon={<NavigateBeforeIcon />}\r\n                onClick={() => startAuction(\"PENDING\")}>Start Auction\r\n                </Button>\r\n            );\r\n        else\r\n            return <div></div>;\r\n    }\r\n\r\n    function DisplayPendingOver(props) {\r\n        // console.log(props);\r\n        return (<Typography align=\"center\">{props.message}</Typography>);\r\n    }\r\n\r\n    function DisplayAuctionInformation() {\r\n        if (hasGroup()) {\r\n            // console.log(auctionStatus);\r\n            if ( auctionStatus === \"PENDING\") {\r\n                return (\r\n                    <div align=\"center\">\r\n                        <DisplayPendingOver message=\"Auction has not yet started\"/>\r\n                        <DisplayPendingButton/>\r\n                        <MessageToUser mtuOpen={backDropOpen} mtuClose={setBackDropOpen} mtuMessage={playerStatus} />\r\n                    </div>);\r\n            } else if (auctionStatus === \"OVER\") {\r\n                return (\r\n                    <div align=\"center\">\r\n                        <DisplayPendingOver message=\"Auction is Over\"/>\r\n                    </div>);\r\n            } else if (auctionStatus === \"RUNNING\") {\r\n                return (\r\n                    <div align=\"center\">\r\n                        <DisplayRunningAuction />\r\n                    </div>\r\n                    ); \r\n            } else {\r\n                return (<BlankArea/>);\r\n        } \r\n        } else\r\n            return <NoGroup/>;\r\n    }\r\n\r\n    return (\r\n        <div align=\"center\">\r\n            <DisplayPageHeader headerName=\"AUCTION\" groupName={localStorage.getItem(\"groupName\")} tournament={localStorage.getItem(\"tournament\")}/>\r\n            <BlankArea/>\r\n            <DisplayAuctionInformation/>\r\n        </div>\r\n    );\r\n\r\n \r\n}\r\n"]},"metadata":{},"sourceType":"module"}