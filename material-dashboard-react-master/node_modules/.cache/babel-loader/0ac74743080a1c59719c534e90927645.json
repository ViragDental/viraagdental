{"ast":null,"code":"import _regeneratorRuntime from \"D:/projects/Cricket/akshu close/IPL/material-dashboard-react-master/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"D:/projects/Cricket/akshu close/IPL/material-dashboard-react-master/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _slicedToArray from \"D:/projects/Cricket/akshu close/IPL/material-dashboard-react-master/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\n\nvar _jsxFileName = \"D:\\\\projects\\\\Cricket\\\\akshu close\\\\IPL\\\\material-dashboard-react-master\\\\src\\\\views\\\\Group\\\\Group.js\",\n    _s2 = $RefreshSig$();\n\nimport React, { useEffect, useState, useContext } from 'react';\nimport PropTypes from 'prop-types';\nimport { useHistory } from \"react-router-dom\";\nimport { UserContext } from \"../../UserContext\";\nimport { makeStyles } from '@material-ui/core/styles';\nimport axios from \"axios\";\nimport Button from '@material-ui/core/Button';\nimport Paper from '@material-ui/core/Paper';\nimport Grid from '@material-ui/core/Grid';\nimport Box from '@material-ui/core/Box';\nimport Collapse from '@material-ui/core/Collapse';\nimport IconButton from '@material-ui/core/IconButton';\nimport Table from '@material-ui/core/Table';\nimport TableBody from '@material-ui/core/TableBody';\nimport TableCell from '@material-ui/core/TableCell';\nimport TableContainer from '@material-ui/core/TableContainer';\nimport TableHead from '@material-ui/core/TableHead';\nimport TableRow from '@material-ui/core/TableRow';\nimport Typography from '@material-ui/core/Typography';\nimport KeyboardArrowDownIcon from '@material-ui/icons/KeyboardArrowDown';\nimport KeyboardArrowUpIcon from '@material-ui/icons/KeyboardArrowUp';\nimport { cdCurrent, cdDefault, hasGroup, getUserBalance } from \"views/functions.js\";\nimport { BlankArea, NothingToDisplay, DisplayBalance } from \"CustomComponents/CustomComponents.js\";\nimport green from '@material-ui/core/colors/green';\nimport { setTab } from \"CustomComponents/CricDreamTabs.js\";\nvar useStyles = makeStyles(function (theme) {\n  return {\n    root: {\n      '& > *': {\n        borderBottom: 'unset'\n      }\n    },\n    symbolText: {\n      color: '#4CC417' // backgroundColor: green[700],\n\n    },\n    headerText: {\n      color: '#FF7043',\n      fontWeight: 700 // backgroundColor: green[700],\n\n    },\n    button: {\n      margin: theme.spacing(0, 1, 0)\n    },\n    heading: {\n      fontSize: theme.typography.pxToRem(15),\n      flexBasis: '33.33%',\n      flexShrink: 0\n    },\n    secondaryHeading: {\n      fontSize: theme.typography.pxToRem(15),\n      color: theme.palette.text.secondary\n    }\n  };\n});\n\nfunction createData(name, calories, fat, carbs, protein, price) {\n  return {\n    name: name,\n    calories: calories,\n    fat: fat,\n    carbs: carbs,\n    protein: protein,\n    price: price,\n    history: [{\n      date: '2020-01-05',\n      customerId: '11091700',\n      amount: 3\n    }, {\n      date: '2020-01-02',\n      customerId: 'Anonymous',\n      amount: 1\n    }]\n  };\n}\n\nRow.propTypes = {\n  row: PropTypes.shape({\n    calories: PropTypes.number.isRequired,\n    carbs: PropTypes.number.isRequired,\n    fat: PropTypes.number.isRequired,\n    history: PropTypes.arrayOf(PropTypes.shape({\n      amount: PropTypes.number.isRequired,\n      customerId: PropTypes.string.isRequired,\n      date: PropTypes.string.isRequired\n    })).isRequired,\n    name: PropTypes.string.isRequired,\n    price: PropTypes.number.isRequired,\n    protein: PropTypes.number.isRequired\n  }).isRequired\n};\nvar rows = [createData('Frozen yoghurt', 159, 6.0, 24, 4.0, 3.99), createData('Ice cream sandwich', 237, 9.0, 37, 4.3, 4.99), createData('Eclair', 262, 16.0, 24, 6.0, 3.79), createData('Cupcake', 305, 3.7, 67, 4.3, 2.5), createData('Gingerbread', 356, 16.0, 49, 3.9, 1.5)];\nexport default function Group() {\n  _s2();\n\n  var _s = $RefreshSig$();\n\n  var classes = useStyles();\n\n  var _useState = useState([]),\n      _useState2 = _slicedToArray(_useState, 2),\n      myGroupTableData = _useState2[0],\n      setMyGroupTableData = _useState2[1];\n\n  var history = useHistory();\n\n  var _useState3 = useState(localStorage.getItem(\"groupName\")),\n      _useState4 = _slicedToArray(_useState3, 2),\n      newCurrentGroup = _useState4[0],\n      setNewCurrentGroup = _useState4[1];\n\n  var _useState5 = useState(0),\n      _useState6 = _slicedToArray(_useState5, 2),\n      balance = _useState6[0],\n      setBalance = _useState6[1];\n\n  var _useState7 = useState(\"\"),\n      _useState8 = _slicedToArray(_useState7, 2),\n      openGroup = _useState8[0],\n      setOpenGroup = _useState8[1];\n\n  useEffect(function () {\n    var a = /*#__PURE__*/function () {\n      var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n        var myBalance, myUrl, teamResponse, setnew, tmp, myGroup;\n        return _regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                _context.next = 2;\n                return getUserBalance();\n\n              case 2:\n                myBalance = _context.sent;\n                setBalance(myBalance); // console.log(myBalance); \n\n                window.localStorage.setItem(\"groupMember\", \"\");\n                myUrl = \"\".concat(process.env.REACT_APP_AXIOS_BASEPATH, \"/group/memberof/\").concat(localStorage.getItem(\"uid\"));\n                _context.next = 8;\n                return axios.get(myUrl);\n\n              case 8:\n                teamResponse = _context.sent;\n                // console.log(teamResponse.data[0].groups);\n                setnew = true;\n\n                if (hasGroup()) {\n                  // just check if current group is part of group list \n                  tmp = teamResponse.data[0].groups.find(function (x) {\n                    return x.gid == localStorage.getItem(\"gid\");\n                  });\n                  if (tmp) setnew = false;\n                } // console.log(`Set new is ${setnew}`);\n\n\n                if (setnew) {\n                  if (teamResponse.data[0].groups.length > 0) {\n                    myGroup = teamResponse.data[0].groups[0]; // console.log(myGroup);\n\n                    localStorage.setItem(\"gid\", myGroup.gid.toString());\n                    localStorage.setItem(\"groupName\", myGroup.groupName);\n                    localStorage.setItem(\"tournament\", myGroup.tournament);\n                    localStorage.setItem(\"admin\", false);\n                    setNewCurrentGroup(myGroup.name);\n                  } else {\n                    localStorage.setItem(\"gid\", \"\");\n                    localStorage.setItem(\"groupName\", \"\");\n                    localStorage.setItem(\"tournament\", \"\");\n                    localStorage.setItem(\"admin\", false);\n                    setNewCurrentGroup(\"\");\n                  }\n                }\n\n                setMyGroupTableData(teamResponse.data[0].groups); // console.log(teamResponse.data[0].groups);\n\n              case 13:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee);\n      }));\n\n      return function a() {\n        return _ref.apply(this, arguments);\n      };\n    }();\n\n    a();\n  }, []);\n\n  function handleGroupSelect(groupName) {\n    var tmp = openGroup !== groupName ? groupName : \"\";\n    setOpenGroup(tmp);\n  }\n\n  function Row(props) {\n    _s();\n\n    var _this = this;\n\n    var row = props.row; // const [open, setOpen] = React.useState(false);\n\n    var classes = useStyles();\n    var isOpen = openGroup === row.name;\n    return /*#__PURE__*/React.createElement(React.Fragment, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 159,\n        columnNumber: 5\n      }\n    }, /*#__PURE__*/React.createElement(Grid, {\n      container: true,\n      color: \"secondary\",\n      align: \"center\",\n      spacing: 0,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 160,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(Grid, {\n      item: true,\n      xs: 1,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 161,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(IconButton, {\n      \"aria-label\": \"expand row\",\n      size: \"small\",\n      onClick: handleGroupSelect(row.name),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 162,\n        columnNumber: 11\n      }\n    }, isOpen ? /*#__PURE__*/React.createElement(KeyboardArrowUpIcon, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 163,\n        columnNumber: 23\n      }\n    }) : /*#__PURE__*/React.createElement(KeyboardArrowDownIcon, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 163,\n        columnNumber: 49\n      }\n    }))), /*#__PURE__*/React.createElement(Grid, {\n      item: true,\n      xs: 7,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 166,\n        columnNumber: 9\n      }\n    }, row.name), /*#__PURE__*/React.createElement(Grid, {\n      item: true,\n      xs: 2,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 169,\n        columnNumber: 9\n      }\n    }, row.calories), /*#__PURE__*/React.createElement(Grid, {\n      item: true,\n      xs: 2,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 172,\n        columnNumber: 9\n      }\n    }, row.fat)), /*#__PURE__*/React.createElement(TableRow, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 176,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(TableCell, {\n      style: {\n        paddingBottom: 0,\n        paddingTop: 0\n      },\n      colSpan: 6,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 177,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(Collapse, {\n      \"in\": isOpen,\n      timeout: \"auto\",\n      unmountOnExit: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 178,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(Box, {\n      margin: 1,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 179,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(Typography, {\n      variant: \"h6\",\n      gutterBottom: true,\n      component: \"div\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 180,\n        columnNumber: 15\n      }\n    }, \"History\"), /*#__PURE__*/React.createElement(Table, {\n      size: \"small\",\n      \"aria-label\": \"purchases\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 183,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(TableHead, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 184,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(TableRow, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 185,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(TableCell, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 186,\n        columnNumber: 21\n      }\n    }, \"Date\"), /*#__PURE__*/React.createElement(TableCell, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 187,\n        columnNumber: 21\n      }\n    }, \"Customer\"), /*#__PURE__*/React.createElement(TableCell, {\n      align: \"right\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 188,\n        columnNumber: 21\n      }\n    }, \"Amount\"), /*#__PURE__*/React.createElement(TableCell, {\n      align: \"right\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 189,\n        columnNumber: 21\n      }\n    }, \"Total price ($)\"))), /*#__PURE__*/React.createElement(TableBody, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 192,\n        columnNumber: 17\n      }\n    }, row.history.map(function (historyRow) {\n      return /*#__PURE__*/React.createElement(TableRow, {\n        key: historyRow.date,\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 194,\n          columnNumber: 21\n        }\n      }, /*#__PURE__*/React.createElement(TableCell, {\n        component: \"th\",\n        scope: \"row\",\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 195,\n          columnNumber: 23\n        }\n      }, historyRow.date), /*#__PURE__*/React.createElement(TableCell, {\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 198,\n          columnNumber: 23\n        }\n      }, historyRow.customerId), /*#__PURE__*/React.createElement(TableCell, {\n        align: \"right\",\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 199,\n          columnNumber: 23\n        }\n      }, historyRow.amount), /*#__PURE__*/React.createElement(TableCell, {\n        align: \"right\",\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 200,\n          columnNumber: 23\n        }\n      }, Math.round(historyRow.amount * row.price * 100) / 100));\n    }))))))));\n  }\n\n  _s(Row, \"8g5FPXexvSEOsxdmU7HicukHGqY=\", false, function () {\n    return [useStyles];\n  });\n\n  var rows = [createData('Frozen yoghurt', 159, 6.0, 24, 4.0, 3.99), createData('Ice cream sandwich', 237, 9.0, 37, 4.3, 4.99), createData('Eclair', 262, 16.0, 24, 6.0, 3.79), createData('Cupcake', 305, 3.7, 67, 4.3, 2.5), createData('Gingerbread', 356, 16.0, 49, 3.9, 1.5)];\n\n  function TblHdr(props) {\n    return /*#__PURE__*/React.createElement(Grid, {\n      item: true,\n      xs: props.cols,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 225,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(Typography, {\n      className: classes.headerText,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 226,\n        columnNumber: 9\n      }\n    }, props.text));\n  }\n\n  function handleNewGroup() {\n    //history.push(\"/newgroup\");        \n    setTab(parseInt(process.env.REACT_APP_BASEPOS) + parseInt(process.env.REACT_APP_NEWGROUP));\n  }\n\n  ;\n\n  function handleJoinGroup() {\n    // history.push(\"/admin/newgroup\"); \n    localStorage.setItem(\"joinGroupCode\", \"\");\n    setTab(parseInt(process.env.REACT_APP_BASEPOS) + parseInt(process.env.REACT_APP_JOINGROUP));\n  }\n\n  ;\n\n  function ShowGroupHeader() {\n    return /*#__PURE__*/React.createElement(Grid, {\n      container: true,\n      color: \"secondary\",\n      align: \"center\",\n      spacing: 0,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 244,\n        columnNumber: 5\n      }\n    }, /*#__PURE__*/React.createElement(TblHdr, {\n      cols: 1,\n      text: \"\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 245,\n        columnNumber: 5\n      }\n    }), /*#__PURE__*/React.createElement(TblHdr, {\n      cols: 7,\n      text: \"Group\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 246,\n        columnNumber: 5\n      }\n    }), /*#__PURE__*/React.createElement(TblHdr, {\n      cols: 2,\n      text: \"Curr\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 247,\n        columnNumber: 5\n      }\n    }), /*#__PURE__*/React.createElement(TblHdr, {\n      cols: 2,\n      text: \"Def\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 248,\n        columnNumber: 5\n      }\n    }));\n  }\n\n  function ShowGroupBody() {\n    var _this2 = this;\n\n    return rows.map(function (row) {\n      return /*#__PURE__*/React.createElement(Row, {\n        key: row.name,\n        row: row,\n        __self: _this2,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 256,\n          columnNumber: 9\n        }\n      });\n    });\n  }\n\n  ;\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: classes.root,\n    align: \"center\",\n    key: \"groupinfo\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 262,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(DisplayBalance, {\n    balance: balance,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 263,\n      columnNumber: 5\n    }\n  }), /*#__PURE__*/React.createElement(\"h3\", {\n    align: \"center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 264,\n      columnNumber: 5\n    }\n  }, \"My Groups\"), /*#__PURE__*/React.createElement(ShowGroupHeader, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 265,\n      columnNumber: 5\n    }\n  }), /*#__PURE__*/React.createElement(ShowGroupBody, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 266,\n      columnNumber: 5\n    }\n  }), /*#__PURE__*/React.createElement(BlankArea, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 267,\n      columnNumber: 5\n    }\n  }), /*#__PURE__*/React.createElement(Button, {\n    key: \"create\",\n    variant: \"contained\",\n    color: \"primary\",\n    size: \"small\",\n    className: classes.button,\n    onClick: handleNewGroup,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 268,\n      columnNumber: 5\n    }\n  }, \"New Group\"), /*#__PURE__*/React.createElement(Button, {\n    key: \"progile\",\n    variant: \"contained\",\n    color: \"primary\",\n    size: \"small\",\n    className: classes.button,\n    onClick: handleJoinGroup,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 271,\n      columnNumber: 5\n    }\n  }, \"Join Group\"));\n}\n\n_s2(Group, \"i57p29kZNi6orhYLvU4rvH+XRwo=\", false, function () {\n  return [useStyles, useHistory];\n});\n\n_c = Group;\n\nvar _c;\n\n$RefreshReg$(_c, \"Group\");","map":{"version":3,"sources":["D:/projects/Cricket/akshu close/IPL/material-dashboard-react-master/src/views/Group/Group.js"],"names":["React","useEffect","useState","useContext","PropTypes","useHistory","UserContext","makeStyles","axios","Button","Paper","Grid","Box","Collapse","IconButton","Table","TableBody","TableCell","TableContainer","TableHead","TableRow","Typography","KeyboardArrowDownIcon","KeyboardArrowUpIcon","cdCurrent","cdDefault","hasGroup","getUserBalance","BlankArea","NothingToDisplay","DisplayBalance","green","setTab","useStyles","theme","root","borderBottom","symbolText","color","headerText","fontWeight","button","margin","spacing","heading","fontSize","typography","pxToRem","flexBasis","flexShrink","secondaryHeading","palette","text","secondary","createData","name","calories","fat","carbs","protein","price","history","date","customerId","amount","Row","propTypes","row","shape","number","isRequired","arrayOf","string","rows","Group","classes","myGroupTableData","setMyGroupTableData","localStorage","getItem","newCurrentGroup","setNewCurrentGroup","balance","setBalance","openGroup","setOpenGroup","a","myBalance","window","setItem","myUrl","process","env","REACT_APP_AXIOS_BASEPATH","get","teamResponse","setnew","tmp","data","groups","find","x","gid","length","myGroup","toString","groupName","tournament","handleGroupSelect","props","isOpen","paddingBottom","paddingTop","map","historyRow","Math","round","TblHdr","cols","handleNewGroup","parseInt","REACT_APP_BASEPOS","REACT_APP_NEWGROUP","handleJoinGroup","REACT_APP_JOINGROUP","ShowGroupHeader","ShowGroupBody"],"mappings":"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","sourcesContent":["import React, { useEffect, useState, useContext } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { useHistory } from \"react-router-dom\";\r\nimport { UserContext } from \"../../UserContext\";\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport axios from \"axios\";\r\nimport Button from '@material-ui/core/Button';\r\nimport Paper from '@material-ui/core/Paper';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport Box from '@material-ui/core/Box';\r\nimport Collapse from '@material-ui/core/Collapse';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport Table from '@material-ui/core/Table';\r\nimport TableBody from '@material-ui/core/TableBody';\r\nimport TableCell from '@material-ui/core/TableCell';\r\nimport TableContainer from '@material-ui/core/TableContainer';\r\nimport TableHead from '@material-ui/core/TableHead';\r\nimport TableRow from '@material-ui/core/TableRow';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport KeyboardArrowDownIcon from '@material-ui/icons/KeyboardArrowDown';\r\nimport KeyboardArrowUpIcon from '@material-ui/icons/KeyboardArrowUp';\r\nimport { cdCurrent, cdDefault, hasGroup, getUserBalance} from \"views/functions.js\"\r\nimport {BlankArea, NothingToDisplay, DisplayBalance} from \"CustomComponents/CustomComponents.js\"\r\nimport green from '@material-ui/core/colors/green';\r\nimport {setTab} from \"CustomComponents/CricDreamTabs.js\"\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    '& > *': {\r\n      borderBottom: 'unset',\r\n    },\r\n  },\r\n  symbolText: {\r\n      color: '#4CC417',\r\n      // backgroundColor: green[700],\r\n  },\r\n  headerText: {\r\n    color: '#FF7043',\r\n    fontWeight: 700,\r\n    // backgroundColor: green[700],\r\n  },\r\n  button: {\r\n      margin: theme.spacing(0, 1, 0),\r\n    },\r\n  heading: {\r\n    fontSize: theme.typography.pxToRem(15),\r\n    flexBasis: '33.33%',\r\n    flexShrink: 0,\r\n  },\r\n  secondaryHeading: {\r\n    fontSize: theme.typography.pxToRem(15),\r\n    color: theme.palette.text.secondary,\r\n  },\r\n}\r\n));\r\n\r\n\r\n\r\nfunction createData(name, calories, fat, carbs, protein, price) {\r\n  return {\r\n    name,\r\n    calories,\r\n    fat,\r\n    carbs,\r\n    protein,\r\n    price,\r\n    history: [\r\n      { date: '2020-01-05', customerId: '11091700', amount: 3 },\r\n      { date: '2020-01-02', customerId: 'Anonymous', amount: 1 },\r\n    ],\r\n  };\r\n}\r\n\r\n\r\nRow.propTypes = {\r\n  row: PropTypes.shape({\r\n    calories: PropTypes.number.isRequired,\r\n    carbs: PropTypes.number.isRequired,\r\n    fat: PropTypes.number.isRequired,\r\n    history: PropTypes.arrayOf(\r\n      PropTypes.shape({\r\n        amount: PropTypes.number.isRequired,\r\n        customerId: PropTypes.string.isRequired,\r\n        date: PropTypes.string.isRequired,\r\n      }),\r\n    ).isRequired,\r\n    name: PropTypes.string.isRequired,\r\n    price: PropTypes.number.isRequired,\r\n    protein: PropTypes.number.isRequired,\r\n  }).isRequired,\r\n};\r\n\r\nconst rows = [\r\n  createData('Frozen yoghurt', 159, 6.0, 24, 4.0, 3.99),\r\n  createData('Ice cream sandwich', 237, 9.0, 37, 4.3, 4.99),\r\n  createData('Eclair', 262, 16.0, 24, 6.0, 3.79),\r\n  createData('Cupcake', 305, 3.7, 67, 4.3, 2.5),\r\n  createData('Gingerbread', 356, 16.0, 49, 3.9, 1.5),\r\n];\r\n\r\nexport default function Group() {\r\n  const classes = useStyles();\r\n  const [myGroupTableData, setMyGroupTableData] = useState([]);\r\n  const history = useHistory();\r\n  const [newCurrentGroup, setNewCurrentGroup] = useState(localStorage.getItem(\"groupName\"));\r\n  const [balance, setBalance] = useState(0);\r\n  const [openGroup, setOpenGroup] = useState(\"\")\r\n  useEffect(() => {\r\n    const a = async () => {\r\n        let myBalance = await getUserBalance();\r\n        setBalance(myBalance);\r\n        // console.log(myBalance); \r\n\r\n        window.localStorage.setItem(\"groupMember\", \"\");\r\n        var myUrl = `${process.env.REACT_APP_AXIOS_BASEPATH}/group/memberof/${localStorage.getItem(\"uid\")}`;\r\n        const teamResponse = await axios.get(myUrl);\r\n        // console.log(teamResponse.data[0].groups);\r\n        let setnew = true;\r\n        if (hasGroup()) {\r\n            // just check if current group is part of group list \r\n            let tmp = teamResponse.data[0].groups.find(x => x.gid == localStorage.getItem(\"gid\"));\r\n            if (tmp) setnew = false;\r\n        }\r\n        // console.log(`Set new is ${setnew}`);\r\n        if (setnew) {\r\n            if (teamResponse.data[0].groups.length > 0) {\r\n                var myGroup = teamResponse.data[0].groups[0];\r\n                // console.log(myGroup);\r\n                localStorage.setItem(\"gid\", myGroup.gid.toString());\r\n                localStorage.setItem(\"groupName\", myGroup.groupName);\r\n                localStorage.setItem(\"tournament\", myGroup.tournament);\r\n                localStorage.setItem(\"admin\", false)\r\n                setNewCurrentGroup(myGroup.name);\r\n            } else {\r\n                localStorage.setItem(\"gid\", \"\");\r\n                localStorage.setItem(\"groupName\", \"\");\r\n                localStorage.setItem(\"tournament\", \"\");\r\n                localStorage.setItem(\"admin\", false)\r\n                setNewCurrentGroup(\"\");\r\n            }\r\n        }\r\n        setMyGroupTableData(teamResponse.data[0].groups);\r\n        // console.log(teamResponse.data[0].groups);\r\n        }\r\n    a();\r\n}, [])\r\n\r\nfunction handleGroupSelect(groupName) {\r\n  let tmp = (openGroup !== groupName) ? groupName : \"\";\r\n  setOpenGroup(tmp);\r\n}\r\n\r\nfunction Row(props) {\r\n  const { row } = props;\r\n  // const [open, setOpen] = React.useState(false);\r\n  const classes = useStyles();\r\n  let isOpen = (openGroup === row.name);\r\n  return (\r\n    <React.Fragment>\r\n      <Grid container color=\"secondary\" align=\"center\" spacing={0}>\r\n        <Grid item xs={1}>\r\n          <IconButton aria-label=\"expand row\" size=\"small\" onClick={handleGroupSelect(row.name)}>\r\n            {isOpen ? <KeyboardArrowUpIcon /> : <KeyboardArrowDownIcon />}\r\n          </IconButton>\r\n        </Grid>\r\n        <Grid item xs={7}>\r\n          {row.name}\r\n        </Grid>\r\n        <Grid item xs={2}>\r\n        {row.calories}\r\n        </Grid>\r\n        <Grid item xs={2}>\r\n        {row.fat}\r\n        </Grid>\r\n        </Grid>\r\n      <TableRow>\r\n        <TableCell style={{ paddingBottom: 0, paddingTop: 0 }} colSpan={6}>\r\n          <Collapse in={isOpen} timeout=\"auto\" unmountOnExit>\r\n            <Box margin={1}>\r\n              <Typography variant=\"h6\" gutterBottom component=\"div\">\r\n                History\r\n              </Typography>\r\n              <Table size=\"small\" aria-label=\"purchases\">\r\n                <TableHead>\r\n                  <TableRow>\r\n                    <TableCell>Date</TableCell>\r\n                    <TableCell>Customer</TableCell>\r\n                    <TableCell align=\"right\">Amount</TableCell>\r\n                    <TableCell align=\"right\">Total price ($)</TableCell>\r\n                  </TableRow>\r\n                </TableHead>\r\n                <TableBody>\r\n                  {row.history.map((historyRow) => (\r\n                    <TableRow key={historyRow.date}>\r\n                      <TableCell component=\"th\" scope=\"row\">\r\n                        {historyRow.date}\r\n                      </TableCell>\r\n                      <TableCell>{historyRow.customerId}</TableCell>\r\n                      <TableCell align=\"right\">{historyRow.amount}</TableCell>\r\n                      <TableCell align=\"right\">\r\n                        {Math.round(historyRow.amount * row.price * 100) / 100}\r\n                      </TableCell>\r\n                    </TableRow>\r\n                  ))}\r\n                </TableBody>\r\n              </Table>\r\n            </Box>\r\n          </Collapse>\r\n        </TableCell>\r\n      </TableRow>\r\n    </React.Fragment>\r\n  );\r\n}\r\n\r\n  const rows = [\r\n    createData('Frozen yoghurt', 159, 6.0, 24, 4.0, 3.99),\r\n    createData('Ice cream sandwich', 237, 9.0, 37, 4.3, 4.99),\r\n    createData('Eclair', 262, 16.0, 24, 6.0, 3.79),\r\n    createData('Cupcake', 305, 3.7, 67, 4.3, 2.5),\r\n    createData('Gingerbread', 356, 16.0, 49, 3.9, 1.5),\r\n  ];\r\n  \r\n  function TblHdr(props) {\r\n    return (\r\n      <Grid item xs={props.cols}>\r\n        <Typography className={classes.headerText}>{props.text}</Typography>\r\n      </Grid>\r\n    );\r\n  }\r\n\r\n  function handleNewGroup() {\r\n    //history.push(\"/newgroup\");        \r\n    setTab(parseInt(process.env.REACT_APP_BASEPOS) + parseInt(process.env.REACT_APP_NEWGROUP));\r\n  };\r\n\r\n  function handleJoinGroup() {\r\n    // history.push(\"/admin/newgroup\"); \r\n    localStorage.setItem(\"joinGroupCode\", \"\");       \r\n    setTab(parseInt(process.env.REACT_APP_BASEPOS) + parseInt(process.env.REACT_APP_JOINGROUP));\r\n  };\r\n\r\n  function ShowGroupHeader() {\r\n    return (\r\n    <Grid container color=\"secondary\" align=\"center\" spacing={0}>\r\n    <TblHdr cols={1} text=\"\" />\r\n    <TblHdr cols={7} text=\"Group\" />\r\n    <TblHdr cols={2} text=\"Curr\" />\r\n    <TblHdr cols={2} text=\"Def\" />\r\n    </Grid>\r\n    );\r\n  }\r\n\r\n  function ShowGroupBody() {\r\n    return (\r\n      rows.map((row) => (\r\n        <Row key={row.name} row={row} />\r\n      ))\r\n    );\r\n  };\r\n\r\n  return (\r\n    <div className={classes.root} align=\"center\" key=\"groupinfo\">\r\n    <DisplayBalance balance={balance} />\r\n    <h3 align=\"center\">My Groups</h3>\r\n    <ShowGroupHeader />\r\n    <ShowGroupBody />\r\n    <BlankArea />\r\n    <Button key={\"create\"} variant=\"contained\" color=\"primary\" size=\"small\"\r\n      className={classes.button} onClick={handleNewGroup}>New Group\r\n    </Button>\r\n    <Button key={\"progile\"} variant=\"contained\" color=\"primary\" size=\"small\"\r\n        className={classes.button} onClick={handleJoinGroup}>Join Group\r\n    </Button>\r\n    </div>\r\n  );\r\n}\r\n\r\n"]},"metadata":{},"sourceType":"module"}